{"version":3,"sources":["bundle.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","ICMClient","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"genReqFn","path","client","config","method","opts","params","fullUrl","baseApiUrl","requestParams","_","merge","notJSON","headers","Content-Type","defSubResource","basePath","http","optionsOrCallback","callback","defResource","optsOrCallback","id","isObject","subPath","subResources","isFunction","contains","exclude","show","remove","update","noId","get","list","create","cloneDeep","token","url","rest","wrap","mime","errorCode","defaultRequest","X-Client-Version","Authorization","Accept","clientSetup","users","subResource","subscriptions","devices","tokens","notifications","audio","image","activities","securityGroups","userPermissions","members","permissions","messageTemplates","confirmationRequests","escalationRules","recipients","distributionLists","userSubscriptions","loadDefinitions","securityGroupMappings","distributionListMappings","loadRequests","session","reports","triggers","paginate","promise","successCallback","errorCallback","then","response","entity","next","request","originator","originalRequestParams","omit","nextPageRequestParams","start","error","lodash","rest/interceptor/defaultRequest","rest/interceptor/errorCode","rest/interceptor/mime",2,"drainQueue","draining","currentQueue","len","queue","noop","process","nextTick","fun","push","setTimeout","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","name","cwd","chdir","dir","umask",3,"baseCompareAscending","value","other","valIsReflexive","othIsReflexive","baseFindIndex","array","predicate","fromRight","index","baseIndexOf","fromIndex","indexOfNaN","baseIsFunction","baseToString","charAtCallback","string","charCodeAt","charsLeftIndex","chars","indexOf","charAt","charsRightIndex","compareAscending","object","criteria","compareMultiple","orders","objCriteria","othCriteria","ordersLength","result","deburrLetter","letter","deburredLetters","escapeHtmlChar","chr","htmlEscapes","escapeStringChar","stringEscapes","isObjectLike","isSpace","charCode","replaceHolders","placeholder","resIndex","PLACEHOLDER","sortedUniq","iteratee","seen","computed","trimmedLeftIndex","trimmedRightIndex","unescapeHtmlChar","htmlUnescapes","runInContext","context","isArray","LazyWrapper","LodashWrapper","hasOwnProperty","wrapperClone","baseLodash","chainAll","actions","__wrapped__","__actions__","__chain__","__dir__","__dropCount__","__filtered__","__iteratees__","__takeCount__","POSITIVE_INFINITY","__views__","lazyClone","iteratees","views","arrayCopy","lazyReverse","clone","lazyValue","baseWrapperValue","isRight","view","getView","end","takeCount","nativeMin","iterLength","outer","iterIndex","data","type","LAZY_DROP_WHILE_FLAG","done","count","limit","LAZY_MAP_FLAG","LAZY_FILTER_FLAG","MapCache","__data__","mapDelete","key","has","mapGet","undefined","mapHas","mapSet","SetCache","values","hash","nativeCreate","set","Set","cacheIndexOf","cache","cachePush","add","source","Array","arrayEach","arrayEachRight","arrayEvery","arrayFilter","arrayMap","arrayMax","NEGATIVE_INFINITY","arrayMin","arrayReduce","accumulator","initFromArray","arrayReduceRight","arraySome","arraySum","assignDefaults","objectValue","sourceValue","assignOwnDefaults","baseAssign","customizer","props","keys","baseCopy","baseAt","collection","isArr","isLength","propsLength","parseFloat","isIndex","baseCallback","func","thisArg","argCount","bindCallback","identity","baseMatches","baseProperty","baseMatchesProperty","baseClone","isDeep","stackA","stackB","initCloneArray","tag","objToString","isFunc","funcTag","objectTag","argsTag","cloneableTags","initCloneByTag","initCloneObject","baseForOwn","subValue","baseDelay","wait","args","TypeError","FUNC_ERROR_TEXT","apply","baseDifference","getIndexOf","isCommon","createCache","valuesLength","valuesIndex","baseEvery","baseEach","baseFill","baseFilter","baseFind","eachFunc","retKey","baseFlatten","isStrict","isArguments","valIndex","valLength","baseForIn","baseFor","keysIn","baseForOwnRight","baseForRight","baseFunctions","baseIsEqual","isLoose","valType","othType","baseIsEqualDeep","equalFunc","objIsArr","othIsArr","objTag","arrayTag","othTag","isTypedArray","objIsObj","othIsObj","isSameTag","equalByTag","valWrapped","othWrapped","equalArrays","equalObjects","pop","baseIsMatch","strictCompareFlags","noCustomizer","objValue","srcValue","baseMap","constant","isStrictComparable","toObject","baseMerge","isSrcArr","baseMergeDeep","mergeFunc","isPlainObject","toPlainObject","baseRandom","min","max","floor","nativeRandom","baseReduce","initFromCollection","baseSlice","baseSome","baseSortBy","comparer","sort","baseSortByOrder","baseSum","baseUniq","isLarge","seenIndex","baseValues","baseWhile","isDrop","action","binaryIndex","retHighest","low","high","HALF_MAX_ARRAY_LENGTH","mid","binaryIndexBy","valIsNaN","valIsUndef","isReflexive","setLow","MAX_ARRAY_INDEX","arguments","bufferClone","buffer","bufferSlice","composeArgs","partials","holders","holdersLength","argsIndex","argsLength","nativeMax","leftIndex","leftLength","composeArgsRight","holdersIndex","rightIndex","rightLength","pad","createAggregator","setter","initializer","getCallback","createAssigner","assigner","guard","isIterateeCall","createBaseEach","iterable","createBaseFor","keysFunc","createBindWrapper","wrapper","fn","root","Ctor","createCtorWrapper","createCompounder","words","deburr","thisBinding","baseCreate","prototype","createCurry","flag","curryFunc","arity","createWrapper","createExtremum","arrayFunc","isMin","noIteratee","isString","toIterable","extremumBy","createFind","createFindIndex","createFindKey","objectFunc","createFlow","funcs","funcName","getFuncName","getData","isLaziable","thru","plant","createForEach","createForIn","createForOwn","createPadDir","createPadding","createPartial","partialFunc","restParam","createReduce","createHybridWrapper","bitmask","partialsRight","holdersRight","argPos","ary","isCurry","isCurryRight","argsHolders","newArgPos","newArity","newsHolders","newHoldersRight","newPartials","newPartialsRight","PARTIAL_FLAG","PARTIAL_RIGHT_FLAG","isCurryBound","BIND_FLAG","BIND_KEY_FLAG","newData","setData","isBind","isBindKey","reorder","isAry","ARY_FLAG","CURRY_FLAG","CURRY_BOUND_FLAG","CURRY_RIGHT_FLAG","strLength","nativeIsFinite","padLength","repeat","ceil","slice","createPartialWrapper","createSortedIndex","mergeData","baseSetData","arrLength","othLength","arrValue","othValue","othIndex","boolTag","dateTag","errorTag","message","numberTag","regexpTag","stringTag","objProps","objLength","othProps","skipCtor","objCtor","constructor","othCtor","exValue","current","target","transforms","size","input","Object","arrayBufferTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","byteOffset","reFlags","exec","lastIndex","MAX_SAFE_INTEGER","prereq","srcBitmask","newBitmask","isCombo","REARG_FLAG","pickByArray","pickByCallback","indexes","oldArray","shimIsPlainObject","support","shimKeys","allowIndexes","nonEnumArgs","chunk","compact","drop","dropRight","dropRightWhile","dropWhile","fill","first","flatten","flattenDeep","initial","intersection","caches","last","lastIndexOf","pull","splice","take","takeRight","takeRightWhile","takeWhile","uniq","isSorted","unzip","getLength","xor","concat","zipObject","chain","tap","interceptor","wrapperChain","wrapperCommit","wrapperPlant","parent","previous","wrapperReverse","reverse","wrapperToString","wrapperValue","every","filter","findWhere","find","includes","map","pluck","reject","sample","shuffle","rand","some","sortBy","sortByAll","sortByOrder","where","after","temp","before","debounce","options","cancel","timeoutId","clearTimeout","maxTimeoutId","trailingCall","delayed","remaining","now","stamp","isCalled","lastCalled","maxDelayed","trailing","maxWait","debounced","leading","leadingCall","memoize","resolver","memoized","Cache","negate","otherArgs","spread","throttle","debounceOptions","isBoolean","isDate","isElement","nodeType","isEmpty","isEqual","isError","isMatch","isNaN","isNumber","isNative","reNative","test","fnToString","reHostCtor","isNull","isRegExp","typedArrayTags","isUndefined","toArray","properties","functions","invert","multiValue","isProto","skipIndexes","mapValues","pairs","defaultValue","transform","valuesIn","inRange","random","floating","noMin","noMax","capitalize","toUpperCase","replace","reLatin1","reComboMarks","endsWith","position","escape","reHasUnescapedHtml","reUnescapedHtml","escapeRegExp","reHasRegExpChars","reRegExpChars","parseInt","radix","nativeParseInt","startsWith","template","otherOptions","settings","templateSettings","isEscaping","isEvaluating","imports","importsKeys","importsValues","interpolate","reNoMatch","reDelimiters","RegExp","reInterpolate","reEsTemplate","evaluate","sourceURL","templateCounter","match","escapeValue","interpolateValue","esTemplateValue","evaluateValue","offset","reUnescapedString","variable","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","attempt","Function","trim","trimLeft","trimRight","trunc","DEFAULT_TRUNC_LENGTH","omission","DEFAULT_TRUNC_OMISSION","separator","search","newEnd","substring","unescape","reHasEscapedHtml","reEscapedHtml","pattern","reWords","matches","matchesProperty","mixin","isObj","methodNames","methodName","noConflict","oldDash","property","propertyOf","range","step","times","MAX_ARRAY_LENGTH","uniqueId","prefix","idCounter","augend","addend","sum","defaults","pick","contextProps","Date","Math","Number","String","arrayProto","objectProto","stringProto","document","toString","ArrayBuffer","getPrototypeOf","propertyIsEnumerable","Uint8Array","WeakMap","Float64Array","nativeIsArray","isFinite","nativeKeys","nativeNow","nativeNumIsFinite","pow","FLOAT64_BYTES_PER_ELEMENT","BYTES_PER_ELEMENT","metaMap","realNames","x","funcDecomp","funcNames","dom","createDocumentFragment","reEscape","reEvaluate","baseEachRight","byteLength","floatLength","otherFunc","HOT_SPAN","HOT_COUNT","difference","findIndex","findLastIndex","pullAt","sortedIndex","sortedLastIndex","union","arrays","without","zip","at","countBy","findLast","forEach","forEachRight","groupBy","indexBy","invoke","partition","reduce","reduceRight","getTime","bind","bindAll","bindKey","curry","curryRight","defer","delay","flow","flowRight","partial","partialRight","rearg","valueOf","objProto","assign","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","camelCase","word","toLowerCase","kebabCase","padLeft","padRight","whitespace","reHexPrefix","snakeCase","startCase","backflow","collect","compose","each","eachRight","extend","methods","select","tail","unique","all","any","detect","foldl","foldr","head","include","inject","VERSION","isFilter","isDropWhile","filtered","whileName","takeName","dropName","operationName","createCallback","lodashFunc","checkIteratee","retUnwrapped","isHybrid","isLazy","useLazy","onlyLazy","chainName","names","commit","run","toJSON","mapTag","setTag","weakMapTag","upper","lower","À","Á","Â","Ã","Ä","Å","à","á","â","ã","ä","å","Ç","ç","Ð","ð","È","É","Ê","Ë","è","é","ê","ë","Ì","Í","Î","Ï","ì","í","î","ï","Ñ","ñ","Ò","Ó","Ô","Õ","Ö","Ø","ò","ó","ô","õ","ö","ø","Ù","Ú","Û","Ü","ù","ú","û","ü","Ý","ý","ÿ","Æ","æ","Þ","þ","ß","&","<",">","\"","'","`","&amp;","&lt;","&gt;","&quot;","&#39;","&#96;","objectTypes","function","\\","\n","\r"," "," ","freeExports","freeModule","freeGlobal","freeSelf","freeWindow","moduleExports",4,"location","undef","buildUrl","queryStringParams","re","encodeURIComponent","str","UrlBuilder","_template","_params","origin","urlRE","absoluteUrlRE","fullyQualifiedUrlRE","append","fullyQualify","isFullyQualified","protocol","isAbsolute","pathname","build","isCrossOrigin","parts","hostname","port","href","host","factory","./util/mixin",5,"setPlatformDefaultClient","./client/default","./client/xhr",6,"impl","skip","console","log",7,"defaultClient","platformDefault","setDefaultClient","getDefaultClient","resetDefaultClient","../client",8,"parseHeaders","raw","split","headerSplitRE","header","boundary","normalizeHeaderName","safeMixin","prop","when","responsePromise","resolve","headerName","XMLHttpRequest","canceled","engine","open","setRequestHeader","abort","onreadystatechange","readyState","DONE","status","text","statusText","getAllResponseHeaders","responseText","onerror","send","../UrlBuilder","../util/normalizeHeaderName","../util/responsePromise",9,"defaultInitHandler","defaultRequestHandler","defaultResponseHandler","race","promisesOrValues","promiseOrValue","ComplexRequest","handlers","initHandler","requestHandler","successResponseHandler","errorResponseHandler","init","success","interceptedClient","meta","./client","./util/responsePromise",10,"mixinUtil","defaulter","copy","mappings","../interceptor","../util/mixin",11,12,"registry","noopConverter","read","obj","write","parse","accept","lookup","otherwise","permissive","converter","cause","../mime","../mime/registry",13,"suffix",14,"uriTemplate","expand","../util/uriTemplate",15,"pair",16,"Registry","mimes","parsed","delegate","register","child","./type/application/hal","./type/application/json","./type/application/x-www-form-urlencoded","./type/multipart/form-data","./type/text/plain",17,"defineProperty","configurable","enumerable","writeable","pathPrefix","lazyPromise","deprecationWarning","relationship","deprecation","warn","findProperties","embedded","resource","related","links","link","make","templated","clientOverride","clientFor","../../../interceptor/pathPrefix","../../../interceptor/template","../../../util/find","../../../util/lazyPromise","../../../util/responsePromise",18,"createConverter","reviver","replacer","JSON","stringify",19,"urlEncode","encodedSpaceRE","urlDecode","urlEncodedSpaceRE","decodeURIComponent","entry",20,"isFormElement","tagName","createFormDataFromObject","formData","FormData","File","Blob",21,22,"makePromise","Scheduler","async","asap","scheduler","./Scheduler","./env","./makePromise",23,"_async","_running","_queue","_queueLen","_afterQueue","_afterQueueLen","drain","_drain","enqueue","task","afterQueue",24,"TimeoutError","captureStackTrace",25,"makeApply","Promise","p","_defer","callAndResolve","_handler","c","h","handler","fold","callAndResolveNext","tryCatchResolve",26,"state","applier","promises","handleFulfill","errors","handleReject","resolved","pending","become","_visitRemaining","visit","RangeError","fulfill","results","nFulfill","nReject","notify","_traverse","keep","filterSync","j","settle","settleOne","toPromise","fulfilled","rejected","_unreport","inspect","ar","liftCombine","arr","z","applyFold","onFulfilled","../apply","../state",27,"rejectInvalidPredicate","evaluatePredicate","maybeThenable","createCatchFilter","runSideEffect","propagate","propagateValue","origCatch","onResult","onError","receiver","onRejected","ensure","orElse","onFulfilledSideEffect",28,"_beget","to",29,30,"iterate","condition","unfold","unspool","item","newSeed","seed",31,"progress","onProgress",32,"ms","y","setTimer","handleDelay","resolveDelay","onTimeout","reason","timeout","clearTimer","../TimeoutError","../env",33,"throwit","format","report","handled","reported","logError","formatError","unreport","logInfo","formatObject","tasks","running","flush","shift","localConsole","info","onPotentiallyUnhandledRejection","rejection","onPotentiallyUnhandledRejectionHandled","onFatalRejection","../format",34,"withThis",35,"isNode","hasMutationObserver","MutationObserver","WebKitMutationObserver","initMutationObserver","scheduled","node","createTextNode","observe","characterData","MutationObs","capturedSetTimeout","vertxRequire","vertx","cancelTimer","runOnLoop","runOnContext","_process",36,"stack","tryStringify",37,"environment","Handler","promiseResolve","promiseReject","promiseNotify","Pending","isPromise","Async","getHandler","Rejected","never","foreverPendingPromise","begetFrom","join","traverseWith","snd","traverse","tryCatch2","tryMap","mapAt","traverseAt","settleAt","Fulfilled","getHandlerMaybeThenable","visitRemaining","markAsHandled","runRace","getHandlerUntrusted","untrustedThen","Thenable","FailIfRejected","inheritedContext","createContext","consumers","thenable","AssimilateTask","errorId","_report","ReportTask","UnreportTask","cycle","ContinuationTask","continuation","ProgressTask","_then","tryAssimilate","Fold","failIfRejected","runContinuation1","enterContext","tryCatchReject","exitContext","runContinuation3","tryCatchReject3","runNotify","tryCatchReturn","b","inherit","Parent","Child","objectCreate","initEmitRejection","CustomEvent","hasCustomEvent","ev","detail","bubbles","cancelable","dispatchEvent","emitRejection","proto","fail","_state","q","cont","foreverPendingHandler","_resolve","_reject","_notify",38,"toPendingState","toRejectedState","toFulfilledState",39,"lift","Deferred","isPromiseLike","mapFunc","timed","generate","unhandledRejection","feature","./lib/Promise","./lib/TimeoutError","./lib/apply","./lib/decorators/array","./lib/decorators/flow","./lib/decorators/fold","./lib/decorators/inspect","./lib/decorators/iterate","./lib/decorators/progress","./lib/decorators/timed","./lib/decorators/unhandledRejection","./lib/decorators/with",40,41,"work","started",42,"dest","empty",43,44,"follow","rels","rel","val","./normalizeHeaderName",45,"encode","allowed","char","makeEncoder","charMap","unreserved","decode","strings","alpha","digit","genDelims","subDelims","reserved","scheme","userinfo","pchar","segment","query","fragment","encodeURL","encodeScheme","encodeUserInfo","encodeHost","encodePort","encodePathSegment","encodePath","encodeQuery","encodeFragment",46,"operation","expression","explode","prefixRE","maxLength","uriEncoder","named","encoder","expandExpression","operations","expandTemplate","uri","+","#",".","/",";","?","=",",","!","@","|","./uriEncoder"],"mappings":"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","file":"bundle.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.ICMClient = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar _ = require('lodash');\nvar rest = require('rest');\nvar mime = require('rest/interceptor/mime');\nvar errorCode = require('rest/interceptor/errorCode');\nvar defaultRequest = require('rest/interceptor/defaultRequest');\n\nfunction genReqFn(path, client, config, method, opts) {\n    return function (params) {\n        var fullUrl = \"\" + config.baseApiUrl + path;\n        var requestParams = _.merge({method: method, path: fullUrl},\n            opts.notJSON ? {} : {headers: {'Content-Type': 'application/json'}},\n            params);\n        return client(requestParams);\n    };\n}\n\nfunction defSubResource(basePath, http, config) {\n    return function (path, optionsOrCallback, callback) {\n        return defResource(\"\" + basePath + path, http, config, optionsOrCallback, callback);\n    };\n}\n\nfunction defResource(path, http, config, optsOrCallback, callback) {\n    return function (id) {\n        var opts = _.isObject(optsOrCallback) ? optsOrCallback : {};\n        if (id) {\n            var subPath = path + '/' + id;\n            var subResources = {};\n            if (_.isFunction(optsOrCallback)) {\n                subResources = optsOrCallback(defSubResource(subPath, http, config));\n            } else if (_.isFunction(callback)) {\n                subResources = callback(defSubResource(subPath, http, config));\n            }\n            return _.merge({},\n                _.contains(opts.exclude, 'show') ? {} : {show: genReqFn(subPath, http, config, 'GET', opts)},\n                _.contains(opts.exclude, 'remove') ? {} : {remove: genReqFn(subPath, http, config, 'DELETE', opts)},\n                _.contains(opts.exclude, 'update') ? {} : {update: genReqFn(subPath, http, config, 'PUT', opts)},\n                subResources);\n        } else {\n            return _.merge({},\n                (!opts.noId ? {} : {get: genReqFn(path, http, config, 'GET', opts)}),\n                _.contains(opts.exclude, 'list') ? {} : {list: genReqFn(path, http, config, 'GET', opts)},\n                _.contains(opts.exclude, 'create') ? {} : {create: genReqFn(path, http, config, 'POST', opts)});\n        }\n    };\n}\n\nfunction ICMClient(config) {\n    config = _.cloneDeep(config);\n\n    if (!config) {\n        throw Error('Config object must be present');\n    } else if (!config.token) {\n        throw Error('Token must be present in config')\n    }\n\n    config.baseApiUrl = ((config != null ? config.url : null) || 'https://api.icmobile.singlewire.com') + '/api/v1-DEV';\n\n    var http = rest.wrap(mime)\n        .wrap(errorCode)\n        .wrap(defaultRequest, {\n            headers: {\n                'X-Client-Version': 'JSClient 0.0.1',\n                Authorization: \"Bearer \" + config.token,\n                Accept: 'application/json'\n            }\n        });\n\n    http = _.isFunction(config.clientSetup) ? config.clientSetup(http) : http;\n\n    return {\n        users: defResource('/users', http, config, function (subResource) {\n            return {\n                subscriptions: subResource('/subscriptions'),\n                devices: subResource('/devices'),\n                tokens: subResource('/tokens', {exclude: ['update']}),\n                notifications: subResource('/notifications', {exclude: ['update', 'create']}, function (subResource) {\n                    return {\n                        audio: subResource('/audio', {\n                            exclude: ['update', 'create', 'remove', 'list', 'show'],\n                            noId: true,\n                            notJSON: true\n                        }),\n                        image: subResource('/image', {\n                            exclude: ['update', 'create', 'remove', 'list', 'show'],\n                            noId: true,\n                            notJSON: true\n                        }),\n                        activities: subResource('/activities', {exclude: ['update', 'remove']})\n                    };\n                }),\n                securityGroups: subResource('/security-groups'),\n                userPermissions: subResource('/user-permissions')\n            };\n        }),\n        securityGroups: defResource('/security-groups', http, config, function (subResource) {\n            return {\n                members: subResource('/members'),\n                permissions: subResource('/permissions')\n            };\n        }),\n        messageTemplates: defResource('/message-templates', http, config, function (subResource) {\n            return {\n                audio: subResource('/audio', {\n                    exclude: ['update', 'create', 'remove', 'list', 'show'],\n                    noId: true,\n                    notJSON: true\n                }),\n                image: subResource('/image', {\n                    exclude: ['update', 'create', 'remove', 'list', 'show'],\n                    noId: true,\n                    notJSON: true\n                })\n            };\n        }),\n        confirmationRequests: defResource('/confirmation-requests', function (subResource) {\n            return {escalationRules: subResource('/escalation-rules')};\n        }),\n        notifications: defResource('/notifications', http, config, function (subResource) {\n            return {\n                audio: subResource('/audio', {\n                    exclude: ['update', 'create', 'remove', 'list', 'show'],\n                    noId: true,\n                    notJSON: true\n                }),\n                image: subResource('/image', {\n                    exclude: ['update', 'create', 'remove', 'list', 'show'],\n                    noId: true,\n                    notJSON: true\n                }),\n                activities: subResource('/activities', {exclude: ['update', 'remove']}),\n                recipients: subResource('/recipients', {exclude: ['update', 'create', 'remove']})\n            };\n        }),\n        distributionLists: defResource('/distribution-lists', http, config, function (subResource) {\n            return {userSubscriptions: subResource('/user-subscriptions')};\n        }),\n        loadDefinitions: defResource('/load-definitions', http, config, function (subResource) {\n            return {\n                securityGroupMappings: subResource('/security-group-mappings'),\n                distributionListMappings: subResource('/distribution-list-mappings'),\n                loadRequests: subResource('/load-requests', {exclude: ['update', 'remove']})\n            };\n        }),\n        session: defResource('/session', http, config, {\n            exclude: ['update', 'create', 'remove', 'list', 'show'],\n            noId: true\n        }),\n        reports: defResource('/reports', http, config, {exclude: ['update', 'create', 'remove']}),\n        triggers: defResource('/triggers', http, config),\n        paginate: function (promise, successCallback, errorCallback) {\n            var self = this;\n            return promise.then(function (response) {\n                if (successCallback && successCallback(response) && response.entity && response.entity.next) {\n                    var client = response.request.originator;\n                    var originalRequestParams = _.omit(response.request, 'cancel', 'canceled', 'originator');\n                    var nextPageRequestParams = _.merge(originalRequestParams, {params: {start: response.entity.next}});\n                    return self.paginate(client(nextPageRequestParams), successCallback, errorCallback);\n                }\n            }, function (error) {\n                if (_.isFunction(errorCallback)) {\n                    errorCallback(error)\n                }\n            });\n        }\n    };\n}\n\nmodule.exports = ICMClient;\n\n},{\"lodash\":3,\"rest\":5,\"rest/interceptor/defaultRequest\":10,\"rest/interceptor/errorCode\":11,\"rest/interceptor/mime\":12}],2:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    draining = true;\n    var currentQueue;\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        var i = -1;\n        while (++i < len) {\n            currentQueue[i]();\n        }\n        len = queue.length;\n    }\n    draining = false;\n}\nprocess.nextTick = function (fun) {\n    queue.push(fun);\n    if (!draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],3:[function(require,module,exports){\n(function (global){\n/**\n * @license\n * lodash 3.6.0 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern -d -o ./index.js`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '3.6.0';\n\n  /** Used to compose bitmasks for wrapper metadata. */\n  var BIND_FLAG = 1,\n      BIND_KEY_FLAG = 2,\n      CURRY_BOUND_FLAG = 4,\n      CURRY_FLAG = 8,\n      CURRY_RIGHT_FLAG = 16,\n      PARTIAL_FLAG = 32,\n      PARTIAL_RIGHT_FLAG = 64,\n      ARY_FLAG = 128,\n      REARG_FLAG = 256;\n\n  /** Used as default options for `_.trunc`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect when a function becomes hot. */\n  var HOT_COUNT = 150,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_DROP_WHILE_FLAG = 0,\n      LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2;\n\n  /** Used as the `TypeError` message for \"Functions\" methods. */\n  var FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      objectTag = '[object Object]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      weakMapTag = '[object WeakMap]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39|#96);/g,\n      reUnescapedHtml = /[&<>\"'`]/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n   */\n  var reComboMarks = /[\\u0300-\\u036f\\ufe20-\\ufe23]/g;\n\n  /**\n   * Used to match [ES template delimiters](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect hexadecimal string values. */\n  var reHexPrefix = /^0[xX]/;\n\n  /** Used to detect host constructors (Safari > 5). */\n  var reHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to match latin-1 supplementary letters (excluding mathematical operators). */\n  var reLatin1 = /[\\xc0-\\xd6\\xd8-\\xde\\xdf-\\xf6\\xf8-\\xff]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /**\n   * Used to match `RegExp` [special characters](http://www.regular-expressions.info/characters.html#special).\n   * In addition to special characters the forward slash is escaped to allow for\n   * easier `eval` use and `Function` compilation.\n   */\n  var reRegExpChars = /[.*+?^${}()|[\\]\\/\\\\]/g,\n      reHasRegExpChars = RegExp(reRegExpChars.source);\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to match words to create compound words. */\n  var reWords = (function() {\n    var upper = '[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]',\n        lower = '[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]+';\n\n    return RegExp(upper + '+(?=' + upper + lower + ')|' + upper + '?' + lower + '|' + upper + '+|[0-9]+', 'g');\n  }());\n\n  /** Used to detect and test for whitespace. */\n  var whitespace = (\n    // Basic whitespace characters.\n    ' \\t\\x0b\\f\\xa0\\ufeff' +\n\n    // Line terminators.\n    '\\n\\r\\u2028\\u2029' +\n\n    // Unicode category \"Zs\" space separators.\n    '\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000'\n  );\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'ArrayBuffer', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Math', 'Number',\n    'Object', 'RegExp', 'Set', 'String', '_', 'clearTimeout', 'document',\n    'isFinite', 'parseInt', 'setTimeout', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    'window'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dateTag] = typedArrayTags[errorTag] =\n  typedArrayTags[funcTag] = typedArrayTags[mapTag] =\n  typedArrayTags[numberTag] = typedArrayTags[objectTag] =\n  typedArrayTags[regexpTag] = typedArrayTags[setTag] =\n  typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[boolTag] =\n  cloneableTags[dateTag] = cloneableTags[float32Tag] =\n  cloneableTags[float64Tag] = cloneableTags[int8Tag] =\n  cloneableTags[int16Tag] = cloneableTags[int32Tag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[stringTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[mapTag] = cloneableTags[setTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used as an internal `_.debounce` options object by `_.throttle`. */\n  var debounceOptions = {\n    'leading': false,\n    'maxWait': 0,\n    'trailing': false\n  };\n\n  /** Used to map latin-1 supplementary letters to basic latin letters. */\n  var deburredLetters = {\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcC': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xeC': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '`': '&#96;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\",\n    '&#96;': '`'\n  };\n\n  /** Used to determine if values are of the language type `Object`. */\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Detect free variable `exports`. */\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = objectTypes[typeof self] && self && self.Object && self;\n\n  /** Detect free variable `window`. */\n  var freeWindow = objectTypes[typeof window] && window && window.Object && window;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\n\n  /**\n   * Used as a reference to the global object.\n   *\n   * The `this` value is used if it is the global object to avoid Greasemonkey's\n   * restricted `window` object, otherwise the `window` object is used.\n   */\n  var root = freeGlobal || ((freeWindow !== (this && this.window)) && freeWindow) || freeSelf || this;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The base implementation of `compareAscending` which compares values and\n   * sorts them in ascending order without guaranteeing a stable sort.\n   *\n   * @private\n   * @param {*} value The value to compare to `other`.\n   * @param {*} other The value to compare to `value`.\n   * @returns {number} Returns the sort order indicator for `value`.\n   */\n  function baseCompareAscending(value, other) {\n    if (value !== other) {\n      var valIsReflexive = value === value,\n          othIsReflexive = other === other;\n\n      if (value > other || !valIsReflexive || (typeof value == 'undefined' && othIsReflexive)) {\n        return 1;\n      }\n      if (value < other || !othIsReflexive || (typeof other == 'undefined' && valIsReflexive)) {\n        return -1;\n      }\n    }\n    return 0;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for callback shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromRight) {\n    var length = array.length,\n        index = fromRight ? length : -1;\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without support for binary searches.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    if (value !== value) {\n      return indexOfNaN(array, fromIndex);\n    }\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isFunction` without support for environments\n   * with incorrect `typeof` results.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n   */\n  function baseIsFunction(value) {\n    // Avoid a Chakra JIT bug in compatibility modes of IE 11.\n    // See https://github.com/jashkenas/underscore/issues/1621 for more details.\n    return typeof value == 'function' || false;\n  }\n\n  /**\n   * Converts `value` to a string if it is not one. An empty string is returned\n   * for `null` or `undefined` values.\n   *\n   * @private\n   * @param {*} value The value to process.\n   * @returns {string} Returns the string.\n   */\n  function baseToString(value) {\n    if (typeof value == 'string') {\n      return value;\n    }\n    return value == null ? '' : (value + '');\n  }\n\n  /**\n   * Used by `_.max` and `_.min` as the default callback for string values.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the code unit of the first character of the string.\n   */\n  function charAtCallback(string) {\n    return string.charCodeAt(0);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the first character not found in `chars`.\n   */\n  function charsLeftIndex(string, chars) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the last character not found in `chars`.\n   */\n  function charsRightIndex(string, chars) {\n    var index = string.length;\n\n    while (index-- && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.sortBy` to compare transformed elements of a collection and stable\n   * sort them in ascending order.\n   *\n   * @private\n   * @param {Object} object The object to compare to `other`.\n   * @param {Object} other The object to compare to `object`.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareAscending(object, other) {\n    return baseCompareAscending(object.criteria, other.criteria) || (object.index - other.index);\n  }\n\n  /**\n   * Used by `_.sortByOrder` to compare multiple properties of each element\n   * in a collection and stable sort them in the following order:\n   *\n   * If orders is unspecified, sort in ascending order for all properties.\n   * Otherwise, for each property, sort in ascending order if its corresponding value in\n   * orders is true, and descending order if false.\n   *\n   * @private\n   * @param {Object} object The object to compare to `other`.\n   * @param {Object} other The object to compare to `object`.\n   * @param {boolean[]} orders The order to sort by for each property.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareMultiple(object, other, orders) {\n    var index = -1,\n        objCriteria = object.criteria,\n        othCriteria = other.criteria,\n        length = objCriteria.length,\n        ordersLength = orders.length;\n\n    while (++index < length) {\n      var result = baseCompareAscending(objCriteria[index], othCriteria[index]);\n      if (result) {\n        if (index >= ordersLength) {\n          return result;\n        }\n        return result * (orders[index] ? 1 : -1);\n      }\n    }\n    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n    // that causes it, under certain circumstances, to provide the same value for\n    // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n    // for more details.\n    //\n    // This also ensures a stable sort in V8 and other engines.\n    // See https://code.google.com/p/v8/issues/detail?id=90 for more details.\n    return object.index - other.index;\n  }\n\n  /**\n   * Used by `_.deburr` to convert latin-1 supplementary letters to basic latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  function deburrLetter(letter) {\n    return deburredLetters[letter];\n  }\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeHtmlChar(chr) {\n    return htmlEscapes[chr];\n  }\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled\n   * string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the index at which the first occurrence of `NaN` is found in `array`.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched `NaN`, else `-1`.\n   */\n  function indexOfNaN(array, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 0 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      var other = array[index];\n      if (other !== other) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Checks if `value` is object-like.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   */\n  function isObjectLike(value) {\n    return !!value && typeof value == 'object';\n  }\n\n  /**\n   * Used by `trimmedLeftIndex` and `trimmedRightIndex` to determine if a\n   * character code is whitespace.\n   *\n   * @private\n   * @param {number} charCode The character code to inspect.\n   * @returns {boolean} Returns `true` if `charCode` is whitespace, else `false`.\n   */\n  function isSpace(charCode) {\n    return ((charCode <= 160 && (charCode >= 9 && charCode <= 13) || charCode == 32 || charCode == 160) || charCode == 5760 || charCode == 6158 ||\n      (charCode >= 8192 && (charCode <= 8202 || charCode == 8232 || charCode == 8233 || charCode == 8239 || charCode == 8287 || charCode == 12288 || charCode == 65279)));\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      if (array[index] === placeholder) {\n        array[index] = PLACEHOLDER;\n        result[++resIndex] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * An implementation of `_.uniq` optimized for sorted arrays without support\n   * for callback shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} [iteratee] The function invoked per iteration.\n   * @returns {Array} Returns the new duplicate-value-free array.\n   */\n  function sortedUniq(array, iteratee) {\n    var seen,\n        index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index],\n          computed = iteratee ? iteratee(value, index, array) : value;\n\n      if (!index || seen !== computed) {\n        seen = computed;\n        result[++resIndex] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the first non-whitespace character.\n   */\n  function trimmedLeftIndex(string) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedRightIndex(string) {\n    var index = string.length;\n\n    while (index-- && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  function unescapeHtmlChar(chr) {\n    return htmlUnescapes[chr];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the given `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Utility\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // using `context` to mock `Date#getTime` use in `_.now`\n   * var mock = _.runInContext({\n   *   'Date': function() {\n   *     return { 'getTime': getTimeMock };\n   *   }\n   * });\n   *\n   * // or creating a suped-up `defer` in Node.js\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  function runInContext(context) {\n    // Avoid issues with some ES3 environments that attempt to use values, named\n    // after built-in constructors like `Object`, for the creation of literals.\n    // ES5 clears this up by stating that literals must use built-in constructors.\n    // See https://es5.github.io/#x11.1.5 for more details.\n    context = context ? _.defaults(root.Object(), context, _.pick(root, contextProps)) : root;\n\n    /** Native constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Number = context.Number,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for native method references. */\n    var arrayProto = Array.prototype,\n        objectProto = Object.prototype,\n        stringProto = String.prototype;\n\n    /** Used to detect DOM support. */\n    var document = (document = context.window) && document.document;\n\n    /** Used to resolve the decompiled source of functions. */\n    var fnToString = Function.prototype.toString;\n\n    /** Used to the length of n-tuples for `_.unzip`. */\n    var getLength = baseProperty('length');\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /**\n     * Used to resolve the [`toStringTag`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n     * of values.\n     */\n    var objToString = objectProto.toString;\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = context._;\n\n    /** Used to detect if a method is native. */\n    var reNative = RegExp('^' +\n      escapeRegExp(objToString)\n      .replace(/toString|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Native method references. */\n    var ArrayBuffer = isNative(ArrayBuffer = context.ArrayBuffer) && ArrayBuffer,\n        bufferSlice = isNative(bufferSlice = ArrayBuffer && new ArrayBuffer(0).slice) && bufferSlice,\n        ceil = Math.ceil,\n        clearTimeout = context.clearTimeout,\n        floor = Math.floor,\n        getPrototypeOf = isNative(getPrototypeOf = Object.getPrototypeOf) && getPrototypeOf,\n        push = arrayProto.push,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        Set = isNative(Set = context.Set) && Set,\n        setTimeout = context.setTimeout,\n        splice = arrayProto.splice,\n        Uint8Array = isNative(Uint8Array = context.Uint8Array) && Uint8Array,\n        WeakMap = isNative(WeakMap = context.WeakMap) && WeakMap;\n\n    /** Used to clone array buffers. */\n    var Float64Array = (function() {\n      // Safari 5 errors when using an array buffer to initialize a typed array\n      // where the array buffer's `byteLength` is not a multiple of the typed\n      // array's `BYTES_PER_ELEMENT`.\n      try {\n        var func = isNative(func = context.Float64Array) && func,\n            result = new func(new ArrayBuffer(10), 0, 1) && func;\n      } catch(e) {}\n      return result;\n    }());\n\n    /* Native method references for those with the same name as other `lodash` methods. */\n    var nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray,\n        nativeCreate = isNative(nativeCreate = Object.create) && nativeCreate,\n        nativeIsFinite = context.isFinite,\n        nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys,\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = isNative(nativeNow = Date.now) && nativeNow,\n        nativeNumIsFinite = isNative(nativeNumIsFinite = Number.isFinite) && nativeNumIsFinite,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random;\n\n    /** Used as references for `-Infinity` and `Infinity`. */\n    var NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY,\n        POSITIVE_INFINITY = Number.POSITIVE_INFINITY;\n\n    /** Used as references for the maximum length and index of an array. */\n    var MAX_ARRAY_LENGTH = Math.pow(2, 32) - 1,\n        MAX_ARRAY_INDEX =  MAX_ARRAY_LENGTH - 1,\n        HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n    /** Used as the size, in bytes, of each `Float64Array` element. */\n    var FLOAT64_BYTES_PER_ELEMENT = Float64Array ? Float64Array.BYTES_PER_ELEMENT : 0;\n\n    /**\n     * Used as the [maximum length](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.max_safe_integer)\n     * of an array-like value.\n     */\n    var MAX_SAFE_INTEGER = Math.pow(2, 53) - 1;\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit chaining.\n     * Methods that operate on and return arrays, collections, and functions can\n     * be chained together. Methods that return a boolean or single value will\n     * automatically end the chain returning the unwrapped value. Explicit chaining\n     * may be enabled using `_.chain`. The execution of chained methods is lazy,\n     * that is, execution is deferred until `_#value` is implicitly or explicitly\n     * called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion. Shortcut\n     * fusion is an optimization that merges iteratees to avoid creating intermediate\n     * arrays and reduce the number of iteratee executions.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`,\n     * `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `compact`, `drop`, `dropRight`, `dropRightWhile`, `dropWhile`, `filter`,\n     * `first`, `initial`, `last`, `map`, `pluck`, `reject`, `rest`, `reverse`,\n     * `slice`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, `toArray`,\n     * and `where`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `at`, `before`, `bind`, `bindAll`, `bindKey`,\n     * `callback`, `chain`, `chunk`, `commit`, `compact`, `concat`, `constant`,\n     * `countBy`, `create`, `curry`, `debounce`, `defaults`, `defer`, `delay`,\n     * `difference`, `drop`, `dropRight`, `dropRightWhile`, `dropWhile`, `fill`,\n     * `filter`, `flatten`, `flattenDeep`, `flow`, `flowRight`, `forEach`,\n     * `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `functions`,\n     * `groupBy`, `indexBy`, `initial`, `intersection`, `invert`, `invoke`, `keys`,\n     * `keysIn`, `map`, `mapValues`, `matches`, `matchesProperty`, `memoize`, `merge`,\n     * `mixin`, `negate`, `noop`, `omit`, `once`, `pairs`, `partial`, `partialRight`,\n     * `partition`, `pick`, `plant`, `pluck`, `property`, `propertyOf`, `pull`,\n     * `pullAt`, `push`, `range`, `rearg`, `reject`, `remove`, `rest`, `reverse`,\n     * `shuffle`, `slice`, `sort`, `sortBy`, `sortByAll`, `sortByOrder`, `splice`,\n     * `spread`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, `tap`,\n     * `throttle`, `thru`, `times`, `toArray`, `toPlainObject`, `transform`,\n     * `union`, `uniq`, `unshift`, `unzip`, `values`, `valuesIn`, `where`,\n     * `without`, `wrap`, `xor`, `zip`, and `zipObject`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `clone`, `cloneDeep`, `deburr`,\n     * `endsWith`, `escape`, `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`,\n     * `findLast`, `findLastIndex`, `findLastKey`, `findWhere`, `first`, `has`,\n     * `identity`, `includes`, `indexOf`, `inRange`, `isArguments`, `isArray`,\n     * `isBoolean`, `isDate`, `isElement`, `isEmpty`, `isEqual`, `isError`,\n     * `isFinite`,`isFunction`, `isMatch`, `isNative`, `isNaN`, `isNull`, `isNumber`,\n     * `isObject`, `isPlainObject`, `isRegExp`, `isString`, `isUndefined`,\n     * `isTypedArray`, `join`, `kebabCase`, `last`, `lastIndexOf`, `max`, `min`,\n     * `noConflict`, `now`, `pad`, `padLeft`, `padRight`, `parseInt`, `pop`,\n     * `random`, `reduce`, `reduceRight`, `repeat`, `result`, `runInContext`,\n     * `shift`, `size`, `snakeCase`, `some`, `sortedIndex`, `sortedLastIndex`,\n     * `startCase`, `startsWith`, `sum`, `template`, `trim`, `trimLeft`,\n     * `trimRight`, `trunc`, `unescape`, `uniqueId`, `value`, and `words`\n     *\n     * The wrapper method `sample` will return a wrapped value when `n` is provided,\n     * otherwise an unwrapped value is returned.\n     *\n     * @name _\n     * @constructor\n     * @category Chain\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // returns an unwrapped value\n     * wrapped.reduce(function(sum, n) {\n     *   return sum + n;\n     * });\n     * // => 6\n     *\n     * // returns a wrapped value\n     * var squares = wrapped.map(function(n) {\n     *   return n * n;\n     * });\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__chain__') && hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The function whose prototype all chaining wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable chaining for all wrapper methods.\n     * @param {Array} [actions=[]] Actions to peform to resolve the unwrapped value.\n     */\n    function LodashWrapper(value, chainAll, actions) {\n      this.__wrapped__ = value;\n      this.__actions__ = actions || [];\n      this.__chain__ = !!chainAll;\n    }\n\n    /**\n     * An object environment feature flags.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    var support = lodash.support = {};\n\n    (function(x) {\n\n      /**\n       * Detect if functions can be decompiled by `Function#toString`\n       * (all but Firefox OS certified apps, older Opera mobile browsers, and\n       * the PlayStation 3; forced `false` for Windows 8 apps).\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      support.funcDecomp = /\\bthis\\b/.test(function() { return this; });\n\n      /**\n       * Detect if `Function#name` is supported (all but IE).\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      support.funcNames = typeof Function.name == 'string';\n\n      /**\n       * Detect if the DOM is supported.\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      try {\n        support.dom = document.createDocumentFragment().nodeType === 11;\n      } catch(e) {\n        support.dom = false;\n      }\n\n      /**\n       * Detect if `arguments` object indexes are non-enumerable.\n       *\n       * In Firefox < 4, IE < 9, PhantomJS, and Safari < 5.1 `arguments` object\n       * indexes are non-enumerable. Chrome < 25 and Node.js < 0.11.0 treat\n       * `arguments` object indexes as non-enumerable and fail `hasOwnProperty`\n       * checks for indexes that exceed their function's formal parameters with\n       * associated values of `0`.\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      try {\n        support.nonEnumArgs = !propertyIsEnumerable.call(arguments, 1);\n      } catch(e) {\n        support.nonEnumArgs = true;\n      }\n    }(0, 0));\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB). Change the following template settings to use\n     * alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type string\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type Object\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type Function\n         */\n        '_': lodash\n      }\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = null;\n      this.__dir__ = 1;\n      this.__dropCount__ = 0;\n      this.__filtered__ = false;\n      this.__iteratees__ = null;\n      this.__takeCount__ = POSITIVE_INFINITY;\n      this.__views__ = null;\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var actions = this.__actions__,\n          iteratees = this.__iteratees__,\n          views = this.__views__,\n          result = new LazyWrapper(this.__wrapped__);\n\n      result.__actions__ = actions ? arrayCopy(actions) : null;\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = iteratees ? arrayCopy(iteratees) : null;\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = views ? arrayCopy(views) : null;\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value();\n      if (!isArray(array)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var dir = this.__dir__,\n          isRight = dir < 0,\n          view = getView(0, array.length, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          takeCount = nativeMin(length, this.__takeCount__),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees ? iteratees.length : 0,\n          resIndex = 0,\n          result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type;\n\n          if (type == LAZY_DROP_WHILE_FLAG) {\n            if (data.done && (isRight ? (index > data.index) : (index < data.index))) {\n              data.count = 0;\n              data.done = false;\n            }\n            data.index = index;\n            if (!data.done) {\n              var limit = data.limit;\n              if (!(data.done = limit > -1 ? (data.count++ >= limit) : !iteratee(value))) {\n                continue outer;\n              }\n            }\n          } else {\n            var computed = iteratee(value);\n            if (type == LAZY_MAP_FLAG) {\n              value = computed;\n            } else if (!computed) {\n              if (type == LAZY_FILTER_FLAG) {\n                continue outer;\n              } else {\n                break outer;\n              }\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a cache object to store key/value pairs.\n     *\n     * @private\n     * @static\n     * @name Cache\n     * @memberOf _.memoize\n     */\n    function MapCache() {\n      this.__data__ = {};\n    }\n\n    /**\n     * Removes `key` and its value from the cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed successfully, else `false`.\n     */\n    function mapDelete(key) {\n      return this.has(key) && delete this.__data__[key];\n    }\n\n    /**\n     * Gets the cached value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the cached value.\n     */\n    function mapGet(key) {\n      return key == '__proto__' ? undefined : this.__data__[key];\n    }\n\n    /**\n     * Checks if a cached value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapHas(key) {\n      return key != '__proto__' && hasOwnProperty.call(this.__data__, key);\n    }\n\n    /**\n     * Adds `value` to `key` of the cache.\n     *\n     * @private\n     * @name set\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to cache.\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache object.\n     */\n    function mapSet(key, value) {\n      if (key != '__proto__') {\n        this.__data__[key] = value;\n      }\n      return this;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates a cache object to store unique values.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var length = values ? values.length : 0;\n\n      this.data = { 'hash': nativeCreate(null), 'set': new Set };\n      while (length--) {\n        this.push(values[length]);\n      }\n    }\n\n    /**\n     * Checks if `value` is in `cache` mimicking the return signature of\n     * `_.indexOf` by returning `0` if the value is found, else `-1`.\n     *\n     * @private\n     * @param {Object} cache The cache to search.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `0` if `value` is found, else `-1`.\n     */\n    function cacheIndexOf(cache, value) {\n      var data = cache.data,\n          result = (typeof value == 'string' || isObject(value)) ? data.set.has(value) : data.hash[value];\n\n      return result ? 0 : -1;\n    }\n\n    /**\n     * Adds `value` to the cache.\n     *\n     * @private\n     * @name push\n     * @memberOf SetCache\n     * @param {*} value The value to cache.\n     */\n    function cachePush(value) {\n      var data = this.data;\n      if (typeof value == 'string' || isObject(value)) {\n        data.set.add(value);\n      } else {\n        data.hash[value] = true;\n      }\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayCopy(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEach` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEach(array, iteratee) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (iteratee(array[index], index, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEachRight` for arrays without support for\n     * callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEachRight(array, iteratee) {\n      var length = array.length;\n\n      while (length--) {\n        if (iteratee(array[length], length, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.every` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     */\n    function arrayEvery(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (!predicate(array[index], index, array)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * A specialized version of `_.filter` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function arrayFilter(array, predicate) {\n      var index = -1,\n          length = array.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.map` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function arrayMap(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = iteratee(array[index], index, array);\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.max` for arrays without support for iteratees.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     */\n    function arrayMax(array) {\n      var index = -1,\n          length = array.length,\n          result = NEGATIVE_INFINITY;\n\n      while (++index < length) {\n        var value = array[index];\n        if (value > result) {\n          result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.min` for arrays without support for iteratees.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     */\n    function arrayMin(array) {\n      var index = -1,\n          length = array.length,\n          result = POSITIVE_INFINITY;\n\n      while (++index < length) {\n        var value = array[index];\n        if (value < result) {\n          result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.reduce` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the first element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduce(array, iteratee, accumulator, initFromArray) {\n      var index = -1,\n          length = array.length;\n\n      if (initFromArray && length) {\n        accumulator = array[++index];\n      }\n      while (++index < length) {\n        accumulator = iteratee(accumulator, array[index], index, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.reduceRight` for arrays without support for\n     * callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the last element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduceRight(array, iteratee, accumulator, initFromArray) {\n      var length = array.length;\n      if (initFromArray && length) {\n        accumulator = array[--length];\n      }\n      while (length--) {\n        accumulator = iteratee(accumulator, array[length], length, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.some` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function arraySome(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (predicate(array[index], index, array)) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `_.sum` for arrays without support for iteratees.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     */\n    function arraySum(array) {\n      var length = array.length,\n          result = 0;\n\n      while (length--) {\n        result += +array[length] || 0;\n      }\n      return result;\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assign` use.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignDefaults(objectValue, sourceValue) {\n      return typeof objectValue == 'undefined' ? sourceValue : objectValue;\n    }\n\n    /**\n     * Used by `_.template` to customize its `_.assign` use.\n     *\n     * **Note:** This method is like `assignDefaults` except that it ignores\n     * inherited property values when checking if a property is `undefined`.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @param {string} key The key associated with the object and source values.\n     * @param {Object} object The destination object.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignOwnDefaults(objectValue, sourceValue, key, object) {\n      return (typeof objectValue == 'undefined' || !hasOwnProperty.call(object, key))\n        ? sourceValue\n        : objectValue;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for argument juggling,\n     * multiple sources, and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} [customizer] The function to customize assigning values.\n     * @returns {Object} Returns the destination object.\n     */\n    function baseAssign(object, source, customizer) {\n      var props = keys(source);\n      if (!customizer) {\n        return baseCopy(source, object, props);\n      }\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key],\n            result = customizer(value, source[key], key, object, source);\n\n        if ((result === result ? (result !== value) : (value === value)) ||\n            (typeof value == 'undefined' && !(key in object))) {\n          object[key] = result;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.at` without support for strings and individual\n     * key arguments.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {number[]|string[]} [props] The property names or indexes of elements to pick.\n     * @returns {Array} Returns the new array of picked elements.\n     */\n    function baseAt(collection, props) {\n      var index = -1,\n          length = collection.length,\n          isArr = isLength(length),\n          propsLength = props.length,\n          result = Array(propsLength);\n\n      while(++index < propsLength) {\n        var key = props[index];\n        if (isArr) {\n          key = parseFloat(key);\n          result[index] = isIndex(key, length) ? collection[key] : undefined;\n        } else {\n          result[index] = collection[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Array} props The property names to copy.\n     * @returns {Object} Returns `object`.\n     */\n    function baseCopy(source, object, props) {\n      if (!props) {\n        props = object;\n        object = {};\n      }\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n        object[key] = source[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.callback` which supports specifying the\n     * number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function baseCallback(func, thisArg, argCount) {\n      var type = typeof func;\n      if (type == 'function') {\n        return typeof thisArg == 'undefined'\n          ? func\n          : bindCallback(func, thisArg, argCount);\n      }\n      if (func == null) {\n        return identity;\n      }\n      if (type == 'object') {\n        return baseMatches(func);\n      }\n      return typeof thisArg == 'undefined'\n        ? baseProperty(func + '')\n        : baseMatchesProperty(func + '', thisArg);\n    }\n\n    /**\n     * The base implementation of `_.clone` without support for argument juggling\n     * and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The object `value` belongs to.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates clones with source counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, isDeep, customizer, key, object, stackA, stackB) {\n      var result;\n      if (customizer) {\n        result = object ? customizer(value, key, object) : customizer(value);\n      }\n      if (typeof result != 'undefined') {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return arrayCopy(value, result);\n        }\n      } else {\n        var tag = objToString.call(value),\n            isFunc = tag == funcTag;\n\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = initCloneObject(isFunc ? {} : value);\n          if (!isDeep) {\n            return baseCopy(value, result, keys(value));\n          }\n        } else {\n          return cloneableTags[tag]\n            ? initCloneByTag(value, tag, isDeep)\n            : (object ? value : {});\n        }\n      }\n      // Check for circular references and return corresponding clone.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == value) {\n          return stackB[length];\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate it with its clone.\n      stackA.push(value);\n      stackB.push(result);\n\n      // Recursively populate clone (susceptible to call stack limits).\n      (isArr ? arrayEach : baseForOwn)(value, function(subValue, key) {\n        result[key] = baseClone(subValue, isDeep, customizer, key, value, stackA, stackB);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} prototype The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function Object() {}\n      return function(prototype) {\n        if (isObject(prototype)) {\n          Object.prototype = prototype;\n          var result = new Object;\n          Object.prototype = null;\n        }\n        return result || context.Object();\n      };\n    }());\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts an index\n     * of where to slice the arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Object} args The arguments provide to `func`.\n     * @returns {number} Returns the timer id.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of `_.difference` which accepts a single array\n     * of values to exclude.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values) {\n      var length = array ? array.length : 0,\n          result = [];\n\n      if (!length) {\n        return result;\n      }\n      var index = -1,\n          indexOf = getIndexOf(),\n          isCommon = indexOf == baseIndexOf,\n          cache = (isCommon && values.length >= 200) ? createCache(values) : null,\n          valuesLength = values.length;\n\n      if (cache) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n        values = cache;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index];\n\n        if (isCommon && value === value) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === value) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (indexOf(values, value, 0) < 0) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (typeof end == 'undefined' || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : (end >>> 0);\n      start >>>= 0;\n\n      while (start < length) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.find`, `_.findLast`, `_.findKey`, and `_.findLastKey`,\n     * without support for callback shorthands and `this` binding, which iterates\n     * over `collection` using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @param {boolean} [retKey] Specify returning the key of the found element\n     *  instead of the element itself.\n     * @returns {*} Returns the found element or its key, else `undefined`.\n     */\n    function baseFind(collection, predicate, eachFunc, retKey) {\n      var result;\n      eachFunc(collection, function(value, key, collection) {\n        if (predicate(value, key, collection)) {\n          result = retKey ? key : value;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with added support for restricting\n     * flattening and specifying the start index.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {boolean} isDeep Specify a deep flatten.\n     * @param {boolean} isStrict Restrict flattening to arrays and `arguments` objects.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, isDeep, isStrict) {\n      var index = -1,\n          length = array.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n\n        if (isObjectLike(value) && isLength(value.length) && (isArray(value) || isArguments(value))) {\n          if (isDeep) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            value = baseFlatten(value, isDeep, isStrict);\n          }\n          var valIndex = -1,\n              valLength = value.length;\n\n          result.length += valLength;\n          while (++valIndex < valLength) {\n            result[++resIndex] = value[valIndex];\n          }\n        } else if (!isStrict) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForIn` and `baseForOwn` which iterates\n     * over `object` properties returned by `keysFunc` invoking `iteratee` for\n     * each property. Iterator functions may exit iteration early by explicitly\n     * returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forIn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForIn(object, iteratee) {\n      return baseFor(object, iteratee, keysIn);\n    }\n\n    /**\n     * The base implementation of `_.forOwn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from those provided.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the new array of filtered property names.\n     */\n    function baseFunctions(object, props) {\n      var index = -1,\n          length = props.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var key = props[index];\n        if (isFunction(object[key])) {\n          result[++resIndex] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` without support for `this` binding\n     * `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, customizer, isLoose, stackA, stackB) {\n      // Exit early for identical values.\n      if (value === other) {\n        // Treat `+0` vs. `-0` as not equal.\n        return value !== 0 || (1 / value == 1 / other);\n      }\n      var valType = typeof value,\n          othType = typeof other;\n\n      // Exit early for unlike primitive values.\n      if ((valType != 'function' && valType != 'object' && othType != 'function' && othType != 'object') ||\n          value == null || other == null) {\n        // Return `false` unless both values are `NaN`.\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, baseIsEqual, customizer, isLoose, stackA, stackB);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA=[]] Tracks traversed `value` objects.\n     * @param {Array} [stackB=[]] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = arrayTag,\n          othTag = arrayTag;\n\n      if (!objIsArr) {\n        objTag = objToString.call(object);\n        if (objTag == argsTag) {\n          objTag = objectTag;\n        } else if (objTag != objectTag) {\n          objIsArr = isTypedArray(object);\n        }\n      }\n      if (!othIsArr) {\n        othTag = objToString.call(other);\n        if (othTag == argsTag) {\n          othTag = objectTag;\n        } else if (othTag != objectTag) {\n          othIsArr = isTypedArray(other);\n        }\n      }\n      var objIsObj = (objTag == objectTag || (isLoose && objTag == funcTag)),\n          othIsObj = (othTag == objectTag || (isLoose && othTag == funcTag)),\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && !(objIsArr || objIsObj)) {\n        return equalByTag(object, other, objTag);\n      }\n      if (isLoose) {\n        if (!isSameTag && !(objIsObj && othIsObj)) {\n          return false;\n        }\n      } else {\n        var valWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (valWrapped || othWrapped) {\n          return equalFunc(valWrapped ? object.value() : object, othWrapped ? other.value() : other, customizer, isLoose, stackA, stackB);\n        }\n        if (!isSameTag) {\n          return false;\n        }\n      }\n      // Assume cyclic values are equal.\n      // For more information on detecting circular references see https://es5.github.io/#JO.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == object) {\n          return stackB[length] == other;\n        }\n      }\n      // Add `object` and `other` to the stack of traversed objects.\n      stackA.push(object);\n      stackB.push(other);\n\n      var result = (objIsArr ? equalArrays : equalObjects)(object, other, equalFunc, customizer, isLoose, stackA, stackB);\n\n      stackA.pop();\n      stackB.pop();\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The source property names to match.\n     * @param {Array} values The source values to match.\n     * @param {Array} strictCompareFlags Strict comparison flags for source values.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, props, values, strictCompareFlags, customizer) {\n      var index = -1,\n          length = props.length,\n          noCustomizer = !customizer;\n\n      while (++index < length) {\n        if ((noCustomizer && strictCompareFlags[index])\n              ? values[index] !== object[props[index]]\n              : !(props[index] in object)\n            ) {\n          return false;\n        }\n      }\n      index = -1;\n      while (++index < length) {\n        var key = props[index],\n            objValue = object[key],\n            srcValue = values[index];\n\n        if (noCustomizer && strictCompareFlags[index]) {\n          var result = typeof objValue != 'undefined' || (key in object);\n        } else {\n          result = customizer ? customizer(objValue, srcValue, key) : undefined;\n          if (typeof result == 'undefined') {\n            result = baseIsEqual(srcValue, objValue, customizer, true);\n          }\n        }\n        if (!result) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var result = [];\n      baseEach(collection, function(value, key, collection) {\n        result.push(iteratee(value, key, collection));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which does not clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatches(source) {\n      var props = keys(source),\n          length = props.length;\n\n      if (!length) {\n        return constant(true);\n      }\n      if (length == 1) {\n        var key = props[0],\n            value = source[key];\n\n        if (isStrictComparable(value)) {\n          return function(object) {\n            return object != null && object[key] === value &&\n              (typeof value != 'undefined' || (key in toObject(object)));\n          };\n        }\n      }\n      var values = Array(length),\n          strictCompareFlags = Array(length);\n\n      while (length--) {\n        value = source[props[length]];\n        values[length] = value;\n        strictCompareFlags[length] = isStrictComparable(value);\n      }\n      return function(object) {\n        return object != null && baseIsMatch(toObject(object), props, values, strictCompareFlags);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which does not coerce `key`\n     * to a string.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} value The value to compare.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatchesProperty(key, value) {\n      if (isStrictComparable(value)) {\n        return function(object) {\n          return object != null && object[key] === value &&\n            (typeof value != 'undefined' || (key in toObject(object)));\n        };\n      }\n      return function(object) {\n        return object != null && baseIsEqual(value, object[key], null, true);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for argument juggling,\n     * multiple sources, and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} [customizer] The function to customize merging properties.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {Object} Returns the destination object.\n     */\n    function baseMerge(object, source, customizer, stackA, stackB) {\n      if (!isObject(object)) {\n        return object;\n      }\n      var isSrcArr = isLength(source.length) && (isArray(source) || isTypedArray(source));\n      (isSrcArr ? arrayEach : baseForOwn)(source, function(srcValue, key, source) {\n        if (isObjectLike(srcValue)) {\n          stackA || (stackA = []);\n          stackB || (stackB = []);\n          return baseMergeDeep(object, source, key, baseMerge, customizer, stackA, stackB);\n        }\n        var value = object[key],\n            result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n            isCommon = typeof result == 'undefined';\n\n        if (isCommon) {\n          result = srcValue;\n        }\n        if ((isSrcArr || typeof result != 'undefined') &&\n            (isCommon || (result === result ? (result !== value) : (value === value)))) {\n          object[key] = result;\n        }\n      });\n      return object;\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize merging properties.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseMergeDeep(object, source, key, mergeFunc, customizer, stackA, stackB) {\n      var length = stackA.length,\n          srcValue = source[key];\n\n      while (length--) {\n        if (stackA[length] == srcValue) {\n          object[key] = stackB[length];\n          return;\n        }\n      }\n      var value = object[key],\n          result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n          isCommon = typeof result == 'undefined';\n\n      if (isCommon) {\n        result = srcValue;\n        if (isLength(srcValue.length) && (isArray(srcValue) || isTypedArray(srcValue))) {\n          result = isArray(value)\n            ? value\n            : ((value && value.length) ? arrayCopy(value) : []);\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          result = isArguments(value)\n            ? toPlainObject(value)\n            : (isPlainObject(value) ? value : {});\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate\n      // it with its merged value.\n      stackA.push(srcValue);\n      stackB.push(result);\n\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        object[key] = mergeFunc(result, srcValue, customizer, stackA, stackB);\n      } else if (result === result ? (result !== value) : (value === value)) {\n        object[key] = result;\n      }\n    }\n\n    /**\n     * The base implementation of `_.property` which does not coerce `key` to a string.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @returns {Function} Returns the new function.\n     */\n    function baseProperty(key) {\n      return function(object) {\n        return object == null ? undefined : object[key];\n      };\n    }\n\n    /**\n     * The base implementation of `_.random` without support for argument juggling\n     * and returning floating-point numbers.\n     *\n     * @private\n     * @param {number} min The minimum possible value.\n     * @param {number} max The maximum possible value.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(min, max) {\n      return min + floor(nativeRandom() * (max - min + 1));\n    }\n\n    /**\n     * The base implementation of `_.reduce` and `_.reduceRight` without support\n     * for callback shorthands and `this` binding, which iterates over `collection`\n     * using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} accumulator The initial value.\n     * @param {boolean} initFromCollection Specify using the first or last element\n     *  of `collection` as the initial value.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @returns {*} Returns the accumulated value.\n     */\n    function baseReduce(collection, iteratee, accumulator, initFromCollection, eachFunc) {\n      eachFunc(collection, function(value, index, collection) {\n        accumulator = initFromCollection\n          ? (initFromCollection = false, value)\n          : iteratee(accumulator, value, index, collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop detection.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (typeof end == 'undefined' || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortBy` which uses `comparer` to define\n     * the sort order of `array` and replaces criteria objects with their\n     * corresponding values.\n     *\n     * @private\n     * @param {Array} array The array to sort.\n     * @param {Function} comparer The function to define sort order.\n     * @returns {Array} Returns `array`.\n     */\n    function baseSortBy(array, comparer) {\n      var length = array.length;\n\n      array.sort(comparer);\n      while (length--) {\n        array[length] = array[length].value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.sortByOrder` without param guards.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {string[]} props The property names to sort by.\n     * @param {boolean[]} orders The sort orders of `props`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseSortByOrder(collection, props, orders) {\n      var index = -1,\n          length = collection.length,\n          result = isLength(length) ? Array(length) : [];\n\n      baseEach(collection, function(value) {\n        var length = props.length,\n            criteria = Array(length);\n\n        while (length--) {\n          criteria[length] = value == null ? undefined : value[props[length]];\n        }\n        result[++index] = { 'criteria': criteria, 'index': index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.sum` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {number} Returns the sum.\n     */\n    function baseSum(collection, iteratee) {\n      var result = 0;\n      baseEach(collection, function(value, index, collection) {\n        result += +iteratee(value, index, collection) || 0;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.uniq` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The function invoked per iteration.\n     * @returns {Array} Returns the new duplicate-value-free array.\n     */\n    function baseUniq(array, iteratee) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = array.length,\n          isCommon = indexOf == baseIndexOf,\n          isLarge = isCommon && length >= 200,\n          seen = isLarge ? createCache() : null,\n          result = [];\n\n      if (seen) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n      } else {\n        isLarge = false;\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value, index, array) : value;\n\n        if (isCommon && value === value) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (indexOf(seen, computed, 0) < 0) {\n          if (iteratee || isLarge) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.values` and `_.valuesIn` which creates an\n     * array of `object` property values corresponding to the property names\n     * returned by `keysFunc`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} props The property names to get values for.\n     * @returns {Object} Returns the array of property values.\n     */\n    function baseValues(object, props) {\n      var index = -1,\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = object[props[index]];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.dropRightWhile`, `_.dropWhile`, `_.takeRightWhile`,\n     * and `_.takeWhile` without support for callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) && predicate(array[index], index, array)) {}\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to peform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      var index = -1,\n          length = actions.length;\n\n      while (++index < length) {\n        var args = [result],\n            action = actions[index];\n\n        push.apply(args, action.args);\n        result = action.func.apply(action.thisArg, args);\n      }\n      return result;\n    }\n\n    /**\n     * Performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndex(array, value, retHighest) {\n      var low = 0,\n          high = array ? array.length : low;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (retHighest ? (computed <= value) : (computed < value)) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return binaryIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * This function is like `binaryIndex` except that it invokes `iteratee` for\n     * `value` and each element of `array` to compute their sort ranking. The\n     * iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n\n      var low = 0,\n          high = array ? array.length : 0,\n          valIsNaN = value !== value,\n          valIsUndef = typeof value == 'undefined';\n\n      while (low < high) {\n        var mid = floor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            isReflexive = computed === computed;\n\n        if (valIsNaN) {\n          var setLow = isReflexive || retHighest;\n        } else if (valIsUndef) {\n          setLow = isReflexive && (retHighest || typeof computed != 'undefined');\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * A specialized version of `baseCallback` which only supports `this` binding\n     * and specifying the number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function bindCallback(func, thisArg, argCount) {\n      if (typeof func != 'function') {\n        return identity;\n      }\n      if (typeof thisArg == 'undefined') {\n        return func;\n      }\n      switch (argCount) {\n        case 1: return function(value) {\n          return func.call(thisArg, value);\n        };\n        case 3: return function(value, index, collection) {\n          return func.call(thisArg, value, index, collection);\n        };\n        case 4: return function(accumulator, value, index, collection) {\n          return func.call(thisArg, accumulator, value, index, collection);\n        };\n        case 5: return function(value, other, key, object, source) {\n          return func.call(thisArg, value, other, key, object, source);\n        };\n      }\n      return function() {\n        return func.apply(thisArg, arguments);\n      };\n    }\n\n    /**\n     * Creates a clone of the given array buffer.\n     *\n     * @private\n     * @param {ArrayBuffer} buffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function bufferClone(buffer) {\n      return bufferSlice.call(buffer, 0);\n    }\n    if (!bufferSlice) {\n      // PhantomJS has `ArrayBuffer` and `Uint8Array` but not `Float64Array`.\n      bufferClone = !(ArrayBuffer && Uint8Array) ? constant(null) : function(buffer) {\n        var byteLength = buffer.byteLength,\n            floatLength = Float64Array ? floor(byteLength / FLOAT64_BYTES_PER_ELEMENT) : 0,\n            offset = floatLength * FLOAT64_BYTES_PER_ELEMENT,\n            result = new ArrayBuffer(byteLength);\n\n        if (floatLength) {\n          var view = new Float64Array(result, 0, floatLength);\n          view.set(new Float64Array(buffer, 0, floatLength));\n        }\n        if (byteLength != offset) {\n          view = new Uint8Array(result, offset);\n          view.set(new Uint8Array(buffer, offset));\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders) {\n      var holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          leftIndex = -1,\n          leftLength = partials.length,\n          result = Array(argsLength + leftLength);\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        result[holders[argsIndex]] = args[argsIndex];\n      }\n      while (argsLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders) {\n      var holdersIndex = -1,\n          holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          rightIndex = -1,\n          rightLength = partials.length,\n          result = Array(argsLength + rightLength);\n\n      while (++argsIndex < argsLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var pad = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[pad + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        result[pad + holders[holdersIndex]] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * Creates a function that aggregates a collection, creating an accumulator\n     * object composed from the results of running each element in the collection\n     * through an iteratee.\n     *\n     * **Note:** This function is used to create `_.countBy`, `_.groupBy`, `_.indexBy`,\n     * and `_.partition`.\n     *\n     * @private\n     * @param {Function} setter The function to set keys and values of the accumulator object.\n     * @param {Function} [initializer] The function to initialize the accumulator object.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee, thisArg) {\n        var result = initializer ? initializer() : {};\n        iteratee = getCallback(iteratee, thisArg, 3);\n\n        if (isArray(collection)) {\n          var index = -1,\n              length = collection.length;\n\n          while (++index < length) {\n            var value = collection[index];\n            setter(result, value, iteratee(value, index, collection), collection);\n          }\n        } else {\n          baseEach(collection, function(value, key, collection) {\n            setter(result, value, iteratee(value, key, collection), collection);\n          });\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that assigns properties of source object(s) to a given\n     * destination object.\n     *\n     * **Note:** This function is used to create `_.assign`, `_.defaults`, and `_.merge`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return function() {\n        var args = arguments,\n            length = args.length,\n            object = args[0];\n\n        if (length < 2 || object == null) {\n          return object;\n        }\n        var customizer = args[length - 2],\n            thisArg = args[length - 1],\n            guard = args[3];\n\n        if (length > 3 && typeof customizer == 'function') {\n          customizer = bindCallback(customizer, thisArg, 5);\n          length -= 2;\n        } else {\n          customizer = (length > 2 && typeof thisArg == 'function') ? thisArg : null;\n          length -= (customizer ? 1 : 0);\n        }\n        if (guard && isIterateeCall(args[1], args[2], guard)) {\n          customizer = length == 3 ? null : customizer;\n          length = 2;\n        }\n        var index = 0;\n        while (++index < length) {\n          var source = args[index];\n          if (source) {\n            assigner(object, source, customizer);\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        var length = collection ? collection.length : 0;\n        if (!isLength(length)) {\n          return eachFunc(collection, iteratee);\n        }\n        var index = fromRight ? length : -1,\n            iterable = toObject(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for `_.forIn` or `_.forInRight`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var iterable = toObject(object),\n            props = keysFunc(object),\n            length = props.length,\n            index = fromRight ? length : -1;\n\n        while ((fromRight ? index-- : ++index < length)) {\n          var key = props[index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createBindWrapper(func, thisArg) {\n      var Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(thisArg, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `Set` cache object to optimize linear searches of large arrays.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     * @returns {null|Object} Returns the new cache object if `Set` is supported, else `null`.\n     */\n    var createCache = !(nativeCreate && Set) ? constant(null) : function(values) {\n      return new SetCache(values);\n    };\n\n    /**\n     * Creates a function that produces compound words out of the words in a\n     * given string.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        var index = -1,\n            array = words(deburr(string)),\n            length = array.length,\n            result = '';\n\n        while (++index < length) {\n          result = callback(result, array[index], index);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtorWrapper(Ctor) {\n      return function() {\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, arguments);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a `_.curry` or `_.curryRight` function.\n     *\n     * @private\n     * @param {boolean} flag The curry bit flag.\n     * @returns {Function} Returns the new curry function.\n     */\n    function createCurry(flag) {\n      function curryFunc(func, arity, guard) {\n        if (guard && isIterateeCall(func, arity, guard)) {\n          arity = null;\n        }\n        var result = createWrapper(func, flag, null, null, null, null, null, arity);\n        result.placeholder = curryFunc.placeholder;\n        return result;\n      }\n      return curryFunc;\n    }\n\n    /**\n     * Creates a `_.max` or `_.min` function.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to get the extremum value from an array.\n     * @param {boolean} [isMin] Specify returning the minimum, instead of the maximum,\n     *  extremum value.\n     * @returns {Function} Returns the new extremum function.\n     */\n    function createExtremum(arrayFunc, isMin) {\n      return function(collection, iteratee, thisArg) {\n        if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n          iteratee = null;\n        }\n        var func = getCallback(),\n            noIteratee = iteratee == null;\n\n        if (!(func === baseCallback && noIteratee)) {\n          noIteratee = false;\n          iteratee = func(iteratee, thisArg, 3);\n        }\n        if (noIteratee) {\n          var isArr = isArray(collection);\n          if (!isArr && isString(collection)) {\n            iteratee = charAtCallback;\n          } else {\n            return arrayFunc(isArr ? collection : toIterable(collection));\n          }\n        }\n        return extremumBy(collection, iteratee, isMin);\n      };\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(eachFunc, fromRight) {\n      return function(collection, predicate, thisArg) {\n        predicate = getCallback(predicate, thisArg, 3);\n        if (isArray(collection)) {\n          var index = baseFindIndex(collection, predicate, fromRight);\n          return index > -1 ? collection[index] : undefined;\n        }\n        return baseFind(collection, predicate, eachFunc);\n      }\n    }\n\n    /**\n     * Creates a `_.findIndex` or `_.findLastIndex` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFindIndex(fromRight) {\n      return function(array, predicate, thisArg) {\n        if (!(array && array.length)) {\n          return -1;\n        }\n        predicate = getCallback(predicate, thisArg, 3);\n        return baseFindIndex(array, predicate, fromRight);\n      };\n    }\n\n    /**\n     * Creates a `_.findKey` or `_.findLastKey` function.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFindKey(objectFunc) {\n      return function(object, predicate, thisArg) {\n        predicate = getCallback(predicate, thisArg, 3);\n        return baseFind(object, predicate, objectFunc, true);\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return function() {\n        var length = arguments.length;\n        if (!length) {\n          return function() { return arguments[0]; };\n        }\n        var wrapper,\n            index = fromRight ? length : -1,\n            leftIndex = 0,\n            funcs = Array(length);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          var func = funcs[leftIndex++] = arguments[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          var funcName = wrapper ? '' : getFuncName(func);\n          wrapper = funcName == 'wrapper' ? new LodashWrapper([]) : wrapper;\n        }\n        index = wrapper ? -1 : length;\n        while (++index < length) {\n          func = funcs[index];\n          funcName = getFuncName(func);\n\n          var data = funcName == 'wrapper' ? getData(func) : null;\n          if (data && isLaziable(data[0])) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func)) ? wrapper[funcName]() : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments;\n          if (wrapper && args.length == 1 && isArray(args[0])) {\n            return wrapper.plant(args[0]).value();\n          }\n          var index = 0,\n              result = funcs[index].apply(this, args);\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      };\n    }\n\n    /**\n     * Creates a function for `_.forEach` or `_.forEachRight`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over an array.\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForEach(arrayFunc, eachFunc) {\n      return function(collection, iteratee, thisArg) {\n        return (typeof iteratee == 'function' && typeof thisArg == 'undefined' && isArray(collection))\n          ? arrayFunc(collection, iteratee)\n          : eachFunc(collection, bindCallback(iteratee, thisArg, 3));\n      };\n    }\n\n    /**\n     * Creates a function for `_.forIn` or `_.forInRight`.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForIn(objectFunc) {\n      return function(object, iteratee, thisArg) {\n        if (typeof iteratee != 'function' || typeof thisArg != 'undefined') {\n          iteratee = bindCallback(iteratee, thisArg, 3);\n        }\n        return objectFunc(object, iteratee, keysIn);\n      };\n    }\n\n    /**\n     * Creates a function for `_.forOwn` or `_.forOwnRight`.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForOwn(objectFunc) {\n      return function(object, iteratee, thisArg) {\n        if (typeof iteratee != 'function' || typeof thisArg != 'undefined') {\n          iteratee = bindCallback(iteratee, thisArg, 3);\n        }\n        return objectFunc(object, iteratee);\n      };\n    }\n\n    /**\n     * Creates a function for `_.padLeft` or `_.padRight`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify padding from the right.\n     * @returns {Function} Returns the new pad function.\n     */\n    function createPadDir(fromRight) {\n      return function(string, length, chars) {\n        string = baseToString(string);\n        return string && ((fromRight ? string : '') + createPadding(string, length, chars) + (fromRight ? '' : string));\n      };\n    }\n\n    /**\n     * Creates a `_.partial` or `_.partialRight` function.\n     *\n     * @private\n     * @param {boolean} flag The partial bit flag.\n     * @returns {Function} Returns the new partial function.\n     */\n    function createPartial(flag) {\n      var partialFunc = restParam(function(func, partials) {\n        var holders = replaceHolders(partials, partialFunc.placeholder);\n        return createWrapper(func, flag, null, partials, holders);\n      });\n      return partialFunc;\n    }\n\n    /**\n     * Creates a function for `_.reduce` or `_.reduceRight`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over an array.\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @returns {Function} Returns the new each function.\n     */\n    function createReduce(arrayFunc, eachFunc) {\n      return function(collection, iteratee, accumulator, thisArg) {\n        var initFromArray = arguments.length < 3;\n        return (typeof iteratee == 'function' && typeof thisArg == 'undefined' && isArray(collection))\n          ? arrayFunc(collection, iteratee, accumulator, initFromArray)\n          : baseReduce(collection, getCallback(iteratee, thisArg, 4), accumulator, initFromArray, eachFunc);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with optional `this`\n     * binding of, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybridWrapper(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & ARY_FLAG,\n          isBind = bitmask & BIND_FLAG,\n          isBindKey = bitmask & BIND_KEY_FLAG,\n          isCurry = bitmask & CURRY_FLAG,\n          isCurryBound = bitmask & CURRY_BOUND_FLAG,\n          isCurryRight = bitmask & CURRY_RIGHT_FLAG;\n\n      var Ctor = !isBindKey && createCtorWrapper(func),\n          key = func;\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it to other functions.\n        var length = arguments.length,\n            index = length,\n            args = Array(length);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight);\n        }\n        if (isCurry || isCurryRight) {\n          var placeholder = wrapper.placeholder,\n              argsHolders = replaceHolders(args, placeholder);\n\n          length -= argsHolders.length;\n          if (length < arity) {\n            var newArgPos = argPos ? arrayCopy(argPos) : null,\n                newArity = nativeMax(arity - length, 0),\n                newsHolders = isCurry ? argsHolders : null,\n                newHoldersRight = isCurry ? null : argsHolders,\n                newPartials = isCurry ? args : null,\n                newPartialsRight = isCurry ? null : args;\n\n            bitmask |= (isCurry ? PARTIAL_FLAG : PARTIAL_RIGHT_FLAG);\n            bitmask &= ~(isCurry ? PARTIAL_RIGHT_FLAG : PARTIAL_FLAG);\n\n            if (!isCurryBound) {\n              bitmask &= ~(BIND_FLAG | BIND_KEY_FLAG);\n            }\n            var newData = [func, bitmask, thisArg, newPartials, newsHolders, newPartialsRight, newHoldersRight, newArgPos, ary, newArity],\n                result = createHybridWrapper.apply(undefined, newData);\n\n            if (isLaziable(func)) {\n              setData(result, newData);\n            }\n            result.placeholder = placeholder;\n            return result;\n          }\n        }\n        var thisBinding = isBind ? thisArg : this;\n        if (isBindKey) {\n          func = thisBinding[key];\n        }\n        if (argPos) {\n          args = reorder(args, argPos);\n        }\n        if (isAry && ary < args.length) {\n          args.length = ary;\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? (Ctor || createCtorWrapper(func)) : func;\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates the padding required for `string` based on the given `length`.\n     * The `chars` string is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {string} string The string to create padding for.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the pad for `string`.\n     */\n    function createPadding(string, length, chars) {\n      var strLength = string.length;\n      length = +length;\n\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return '';\n      }\n      var padLength = length - strLength;\n      chars = chars == null ? ' ' : (chars + '');\n      return repeat(chars, ceil(padLength / chars.length)).slice(0, padLength);\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the optional `this`\n     * binding of `thisArg` and the `partials` prepended to those provided to\n     * the wrapper.\n     *\n     * @private\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to the new function.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createPartialWrapper(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & BIND_FLAG,\n          Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it `func`.\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(argsLength + leftLength);\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.sortedIndex` or `_.sortedLastIndex` function.\n     *\n     * @private\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {Function} Returns the new index function.\n     */\n    function createSortedIndex(retHighest) {\n      return function(array, value, iteratee, thisArg) {\n        var func = getCallback(iteratee);\n        return (func === baseCallback && iteratee == null)\n          ? binaryIndex(array, value, retHighest)\n          : binaryIndexBy(array, value, func(iteratee, thisArg, 1), retHighest);\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags.\n     *  The bitmask may be composed of the following flags:\n     *     1 - `_.bind`\n     *     2 - `_.bindKey`\n     *     4 - `_.curry` or `_.curryRight` of a bound function\n     *     8 - `_.curry`\n     *    16 - `_.curryRight`\n     *    32 - `_.partial`\n     *    64 - `_.partialRight`\n     *   128 - `_.rearg`\n     *   256 - `_.ary`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrapper(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(PARTIAL_FLAG | PARTIAL_RIGHT_FLAG);\n        partials = holders = null;\n      }\n      length -= (holders ? holders.length : 0);\n      if (bitmask & PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = null;\n      }\n      var data = isBindKey ? null : getData(func),\n          newData = [func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity];\n\n      if (data) {\n        mergeData(newData, data);\n        bitmask = newData[1];\n        arity = newData[9];\n      }\n      newData[9] = arity == null\n        ? (isBindKey ? 0 : func.length)\n        : (nativeMax(arity - length, 0) || 0);\n\n      if (bitmask == BIND_FLAG) {\n        var result = createBindWrapper(newData[0], newData[2]);\n      } else if ((bitmask == PARTIAL_FLAG || bitmask == (BIND_FLAG | PARTIAL_FLAG)) && !newData[4].length) {\n        result = createPartialWrapper.apply(undefined, newData);\n      } else {\n        result = createHybridWrapper.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setter(result, newData);\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing arrays.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var index = -1,\n          arrLength = array.length,\n          othLength = other.length,\n          result = true;\n\n      if (arrLength != othLength && !(isLoose && othLength > arrLength)) {\n        return false;\n      }\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (result && ++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        result = undefined;\n        if (customizer) {\n          result = isLoose\n            ? customizer(othValue, arrValue, index)\n            : customizer(arrValue, othValue, index);\n        }\n        if (typeof result == 'undefined') {\n          // Recursively compare arrays (susceptible to call stack limits).\n          if (isLoose) {\n            var othIndex = othLength;\n            while (othIndex--) {\n              othValue = other[othIndex];\n              result = (arrValue && arrValue === othValue) || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB);\n              if (result) {\n                break;\n              }\n            }\n          } else {\n            result = (arrValue && arrValue === othValue) || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB);\n          }\n        }\n      }\n      return !!result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} value The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag) {\n      switch (tag) {\n        case boolTag:\n        case dateTag:\n          // Coerce dates and booleans to numbers, dates to milliseconds and booleans\n          // to `1` or `0` treating invalid dates coerced to `NaN` as not equal.\n          return +object == +other;\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case numberTag:\n          // Treat `NaN` vs. `NaN` as equal.\n          return (object != +object)\n            ? other != +other\n            // But, treat `-0` vs. `+0` as not equal.\n            : (object == 0 ? ((1 / object) == (1 / other)) : object == +other);\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings primitives and string\n          // objects as equal. See https://es5.github.io/#x15.10.6.4 for more details.\n          return object == (other + '');\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var objProps = keys(object),\n          objLength = objProps.length,\n          othProps = keys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isLoose) {\n        return false;\n      }\n      var skipCtor = isLoose,\n          index = -1;\n\n      while (++index < objLength) {\n        var key = objProps[index],\n            result = isLoose ? key in other : hasOwnProperty.call(other, key);\n\n        if (result) {\n          var objValue = object[key],\n              othValue = other[key];\n\n          result = undefined;\n          if (customizer) {\n            result = isLoose\n              ? customizer(othValue, objValue, key)\n              : customizer(objValue, othValue, key);\n          }\n          if (typeof result == 'undefined') {\n            // Recursively compare objects (susceptible to call stack limits).\n            result = (objValue && objValue === othValue) || equalFunc(objValue, othValue, customizer, isLoose, stackA, stackB);\n          }\n        }\n        if (!result) {\n          return false;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (!skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Gets the extremum value of `collection` invoking `iteratee` for each value\n     * in `collection` to generate the criterion by which the value is ranked.\n     * The `iteratee` is invoked with three arguments: (value, index, collection).\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {boolean} [isMin] Specify returning the minimum, instead of the\n     *  maximum, extremum value.\n     * @returns {*} Returns the extremum value.\n     */\n    function extremumBy(collection, iteratee, isMin) {\n      var exValue = isMin ? POSITIVE_INFINITY : NEGATIVE_INFINITY,\n          computed = exValue,\n          result = computed;\n\n      baseEach(collection, function(value, index, collection) {\n        var current = iteratee(value, index, collection);\n        if ((isMin ? (current < computed) : (current > computed)) ||\n            (current === exValue && current === result)) {\n          computed = current;\n          result = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Gets the appropriate \"callback\" function. If the `_.callback` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseCallback` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getCallback(func, thisArg, argCount) {\n      var result = lodash.callback || callback;\n      result = result === callback ? baseCallback : result;\n      return argCount ? result(func, thisArg, argCount) : result;\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    var getFuncName = (function() {\n      if (!support.funcNames) {\n        return constant('');\n      }\n      if (constant.name == 'constant') {\n        return baseProperty('name');\n      }\n      return function(func) {\n        var result = func.name,\n            array = realNames[result],\n            length = array ? array.length : 0;\n\n        while (length--) {\n          var data = array[length],\n              otherFunc = data.func;\n\n          if (otherFunc == null || otherFunc == func) {\n            return data.name;\n          }\n        }\n        return result;\n      };\n    }());\n\n    /**\n     * Gets the appropriate \"indexOf\" function. If the `_.indexOf` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseIndexOf` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function|number} Returns the chosen function or its result.\n     */\n    function getIndexOf(collection, target, fromIndex) {\n      var result = lodash.indexOf || indexOf;\n      result = result === indexOf ? baseIndexOf : result;\n      return collection ? result(collection, target, fromIndex) : result;\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} [transforms] The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms ? transforms.length : 0;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add array properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      var Ctor = object.constructor;\n      if (!(typeof Ctor == 'function' && Ctor instanceof Ctor)) {\n        Ctor = Object;\n      }\n      return new Ctor;\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return bufferClone(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          var buffer = object.buffer;\n          return new Ctor(isDeep ? bufferClone(buffer) : buffer, object.byteOffset, object.length);\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          var result = new Ctor(object.source, reFlags.exec(object));\n          result.lastIndex = object.lastIndex;\n      }\n      return result;\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      value = +value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n      return value > -1 && value % 1 == 0 && value < length;\n    }\n\n    /**\n     * Checks if the provided arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number') {\n        var length = object.length,\n            prereq = isLength(length) && isIndex(index, length);\n      } else {\n        prereq = type == 'string' && index in object;\n      }\n      if (prereq) {\n        var other = object[index];\n        return value === value ? (value === other) : (other !== other);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart, else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func);\n      return !!funcName && func === lodash[funcName] && funcName in LazyWrapper.prototype;\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This function is based on [`ToLength`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength).\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     */\n    function isLength(value) {\n      return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && (value === 0 ? ((1 / value) > 0) : !isObject(value));\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers required to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and `_.rearg`\n     * augment function arguments, making the order in which they are executed important,\n     * preventing the merging of metadata. However, we make an exception for a safe\n     * common case where curried functions have `_.ary` and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < ARY_FLAG;\n\n      var isCombo =\n        (srcBitmask == ARY_FLAG && bitmask == CURRY_FLAG) ||\n        (srcBitmask == ARY_FLAG && bitmask == REARG_FLAG && data[7].length <= source[8]) ||\n        (srcBitmask == (ARY_FLAG | REARG_FLAG) && bitmask == CURRY_FLAG);\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= (bitmask & BIND_FLAG) ? 0 : CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : arrayCopy(value);\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : arrayCopy(source[4]);\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : arrayCopy(value);\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : arrayCopy(source[6]);\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = arrayCopy(value);\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * A specialized version of `_.pick` that picks `object` properties specified\n     * by the `props` array.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} props The property names to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByArray(object, props) {\n      object = toObject(object);\n\n      var index = -1,\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index];\n        if (key in object) {\n          result[key] = object[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.pick` that picks `object` properties `predicate`\n     * returns truthy for.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByCallback(object, predicate) {\n      var result = {};\n      baseForIn(object, function(value, key, object) {\n        if (predicate(value, key, object)) {\n          result[key] = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = arrayCopy(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity function\n     * to avoid garbage collection pauses in V8. See [V8 issue 2070](https://code.google.com/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = (function() {\n      var count = 0,\n          lastCalled = 0;\n\n      return function(key, value) {\n        var stamp = now(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return key;\n          }\n        } else {\n          count = 0;\n        }\n        return baseSetData(key, value);\n      };\n    }());\n\n    /**\n     * A fallback implementation of `_.isPlainObject` which checks if `value`\n     * is an object created by the `Object` constructor or has a `[[Prototype]]`\n     * of `null`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     */\n    function shimIsPlainObject(value) {\n      var Ctor,\n          support = lodash.support;\n\n      // Exit early for non `Object` objects.\n      if (!(isObjectLike(value) && objToString.call(value) == objectTag) ||\n          (!hasOwnProperty.call(value, 'constructor') &&\n            (Ctor = value.constructor, typeof Ctor == 'function' && !(Ctor instanceof Ctor)))) {\n        return false;\n      }\n      // IE < 9 iterates inherited properties before own properties. If the first\n      // iterated property is an object's own property then there are no inherited\n      // enumerable properties.\n      var result;\n      // In most environments an object's own properties are iterated before\n      // its inherited properties. If the last iterated property is an object's\n      // own property then there are no inherited enumerable properties.\n      baseForIn(value, function(subValue, key) {\n        result = key;\n      });\n      return typeof result == 'undefined' || hasOwnProperty.call(value, result);\n    }\n\n    /**\n     * A fallback implementation of `Object.keys` which creates an array of the\n     * own enumerable property names of `object`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the array of property names.\n     */\n    function shimKeys(object) {\n      var props = keysIn(object),\n          propsLength = props.length,\n          length = propsLength && object.length,\n          support = lodash.support;\n\n      var allowIndexes = length && isLength(length) &&\n        (isArray(object) || (support.nonEnumArgs && isArguments(object)));\n\n      var index = -1,\n          result = [];\n\n      while (++index < propsLength) {\n        var key = props[index];\n        if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to an array-like object if it is not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Array|Object} Returns the array-like object.\n     */\n    function toIterable(value) {\n      if (value == null) {\n        return [];\n      }\n      if (!isLength(value.length)) {\n        return values(value);\n      }\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Converts `value` to an object if it is not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Object} Returns the object.\n     */\n    function toObject(value) {\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      return wrapper instanceof LazyWrapper\n        ? wrapper.clone()\n        : new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__, arrayCopy(wrapper.__actions__));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `collection` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new array containing chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if (guard ? isIterateeCall(array, size, guard) : size == null) {\n        size = 1;\n      } else {\n        size = nativeMax(+size || 1, 1);\n      }\n      var index = 0,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = Array(ceil(length / size));\n\n      while (index < length) {\n        result[++resIndex] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array excluding all values of the provided arrays using\n     * `SameValueZero` for equality comparisons.\n     *\n     * **Note:** [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * comparisons are like strict equality comparisons, e.g. `===`, except that\n     * `NaN` matches `NaN`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The arrays of values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.difference([1, 2, 3], [4, 2]);\n     * // => [1, 3]\n     */\n    var difference = restParam(function(array, values) {\n      return (isArray(array) || isArguments(array))\n        ? baseDifference(array, baseFlatten(values, false, true))\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that match the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [1]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active', false), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active', false), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8], '*', 1, 2);\n     * // => [4, '*', 8]\n     */\n    function fill(array, value, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(chr) {\n     *   return chr.user == 'barney';\n     * });\n     * // => 0\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findIndex(users, 'active', false);\n     * // => 0\n     *\n     * // using the `_.property` callback shorthand\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    var findIndex = createFindIndex();\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(chr) {\n     *   return chr.user == 'pebbles';\n     * });\n     * // => 2\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastIndex(users, 'active', false);\n     * // => 2\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    var findLastIndex = createFindIndex(true);\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias head\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.first([1, 2, 3]);\n     * // => 1\n     *\n     * _.first([]);\n     * // => undefined\n     */\n    function first(array) {\n      return array ? array[0] : undefined;\n    }\n\n    /**\n     * Flattens a nested array. If `isDeep` is `true` the array is recursively\n     * flattened, otherwise it is only flattened a single level.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isDeep] Specify a deep flatten.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, [4]]\n     *\n     * // using `isDeep`\n     * _.flatten([1, [2, 3, [4]]], true);\n     * // => [1, 2, 3, 4]\n     */\n    function flatten(array, isDeep, guard) {\n      var length = array ? array.length : 0;\n      if (guard && isIterateeCall(array, isDeep, guard)) {\n        isDeep = false;\n      }\n      return length ? baseFlatten(array, isDeep) : [];\n    }\n\n    /**\n     * Recursively flattens a nested array.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to recursively flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, 4]\n     */\n    function flattenDeep(array) {\n      var length = array ? array.length : 0;\n      return length ? baseFlatten(array, true) : [];\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using `SameValueZero` for equality comparisons. If `fromIndex` is negative,\n     * it is used as the offset from the end of `array`. If `array` is sorted\n     * providing `true` for `fromIndex` performs a faster binary search.\n     *\n     * **Note:** [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * comparisons are like strict equality comparisons, e.g. `===`, except that\n     * `NaN` matches `NaN`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=0] The index to search from or `true`\n     *  to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // using `fromIndex`\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     *\n     * // performing a binary search\n     * _.indexOf([1, 1, 2, 2], 2, true);\n     * // => 2\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      if (typeof fromIndex == 'number') {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : fromIndex;\n      } else if (fromIndex) {\n        var index = binaryIndex(array, value),\n            other = array[index];\n\n        if (value === value ? (value === other) : (other !== other)) {\n          return index;\n        }\n        return -1;\n      }\n      return baseIndexOf(array, value, fromIndex || 0);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      return dropRight(array, 1);\n    }\n\n    /**\n     * Creates an array of unique values in all provided arrays using `SameValueZero`\n     * for equality comparisons.\n     *\n     * **Note:** [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * comparisons are like strict equality comparisons, e.g. `===`, except that\n     * `NaN` matches `NaN`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of shared values.\n     * @example\n     * _.intersection([1, 2], [4, 2], [2, 1]);\n     * // => [2]\n     */\n    function intersection() {\n      var args = [],\n          argsIndex = -1,\n          argsLength = arguments.length,\n          caches = [],\n          indexOf = getIndexOf(),\n          isCommon = indexOf == baseIndexOf;\n\n      while (++argsIndex < argsLength) {\n        var value = arguments[argsIndex];\n        if (isArray(value) || isArguments(value)) {\n          args.push(value);\n          caches.push((isCommon && value.length >= 120) ? createCache(argsIndex && value) : null);\n        }\n      }\n      argsLength = args.length;\n      var array = args[0],\n          index = -1,\n          length = array ? array.length : 0,\n          result = [],\n          seen = caches[0];\n\n      outer:\n      while (++index < length) {\n        value = array[index];\n        if ((seen ? cacheIndexOf(seen, value) : indexOf(result, value, 0)) < 0) {\n          argsIndex = argsLength;\n          while (--argsIndex) {\n            var cache = caches[argsIndex];\n            if ((cache ? cacheIndexOf(cache, value) : indexOf(args[argsIndex], value, 0)) < 0) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(value);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array ? array.length : 0;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=array.length-1] The index to search from\n     *  or `true` to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // using `fromIndex`\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     *\n     * // performing a binary search\n     * _.lastIndexOf([1, 1, 2, 2], 2, true);\n     * // => 3\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (typeof fromIndex == 'number') {\n        index = (fromIndex < 0 ? nativeMax(length + fromIndex, 0) : nativeMin(fromIndex || 0, length - 1)) + 1;\n      } else if (fromIndex) {\n        index = binaryIndex(array, value, true) - 1;\n        var other = array[index];\n        if (value === value ? (value === other) : (other !== other)) {\n          return index;\n        }\n        return -1;\n      }\n      if (value !== value) {\n        return indexOfNaN(array, index, true);\n      }\n      while (index--) {\n        if (array[index] === value) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Removes all provided values from `array` using `SameValueZero` for equality\n     * comparisons.\n     *\n     * **Notes:**\n     *  - Unlike `_.without`, this method mutates `array`\n     *  - [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     *    comparisons are like strict equality comparisons, e.g. `===`, except\n     *    that `NaN` matches `NaN`\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3, 1, 2, 3];\n     *\n     * _.pull(array, 2, 3);\n     * console.log(array);\n     * // => [1, 1]\n     */\n    function pull() {\n      var args = arguments,\n          array = args[0];\n\n      if (!(array && array.length)) {\n        return array;\n      }\n      var index = 0,\n          indexOf = getIndexOf(),\n          length = args.length;\n\n      while (++index < length) {\n        var fromIndex = 0,\n            value = args[index];\n\n        while ((fromIndex = indexOf(array, value, fromIndex)) > -1) {\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to the given indexes and returns\n     * an array of the removed elements. Indexes may be specified as an array of\n     * indexes or as individual arguments.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [5, 10, 15, 20];\n     * var evens = _.pullAt(array, 1, 3);\n     *\n     * console.log(array);\n     * // => [5, 15]\n     *\n     * console.log(evens);\n     * // => [10, 20]\n     */\n    var pullAt = restParam(function(array, indexes) {\n      array || (array = []);\n      indexes = baseFlatten(indexes);\n\n      var length = indexes.length,\n          result = baseAt(array, indexes);\n\n      indexes.sort(baseCompareAscending);\n      while (length--) {\n        var index = parseFloat(indexes[length]);\n        if (index != previous && isIndex(index)) {\n          var previous = index;\n          splice.call(array, index, 1);\n        }\n      }\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is bound to\n     * `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate, thisArg) {\n      var index = -1,\n          length = array ? array.length : 0,\n          result = [];\n\n      predicate = getCallback(predicate, thisArg, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          splice.call(array, index--, 1);\n          length--;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias tail\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.rest([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function rest(array) {\n      return drop(array, 1);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This function is used instead of `Array#slice` to support node\n     * lists in IE < 9 and to ensure dense arrays are returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value` should\n     * be inserted into `array` in order to maintain its sort order. If an iteratee\n     * function is provided it is invoked for `value` and each element of `array`\n     * to compute their sort ranking. The iteratee is bound to `thisArg` and\n     * invoked with one argument; (value).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     *\n     * _.sortedIndex([4, 4, 5, 5], 5);\n     * // => 2\n     *\n     * var dict = { 'data': { 'thirty': 30, 'forty': 40, 'fifty': 50 } };\n     *\n     * // using an iteratee function\n     * _.sortedIndex(['thirty', 'fifty'], 'forty', function(word) {\n     *   return this.data[word];\n     * }, dict);\n     * // => 1\n     *\n     * // using the `_.property` callback shorthand\n     * _.sortedIndex([{ 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');\n     * // => 1\n     */\n    var sortedIndex = createSortedIndex();\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 4, 5, 5], 5);\n     * // => 4\n     */\n    var sortedLastIndex = createSortedIndex(true);\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is bound to `thisArg`\n     * and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [2, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active', false), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeRightWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is bound to\n     * `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [1, 2]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false},\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active', false), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, of the provided arrays using\n     * `SameValueZero` for equality comparisons.\n     *\n     * **Note:** [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * comparisons are like strict equality comparisons, e.g. `===`, except that\n     * `NaN` matches `NaN`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([1, 2], [4, 2], [2, 1]);\n     * // => [1, 2, 4]\n     */\n    var union = restParam(function(arrays) {\n      return baseUniq(baseFlatten(arrays, false, true));\n    });\n\n    /**\n     * Creates a duplicate-value-free version of an array using `SameValueZero`\n     * for equality comparisons. Providing `true` for `isSorted` performs a faster\n     * search algorithm for sorted arrays. If an iteratee function is provided it\n     * is invoked for each value in the array to generate the criterion by which\n     * uniqueness is computed. The `iteratee` is bound to `thisArg` and invoked\n     * with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * **Note:** [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * comparisons are like strict equality comparisons, e.g. `===`, except that\n     * `NaN` matches `NaN`.\n     *\n     * @static\n     * @memberOf _\n     * @alias unique\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {boolean} [isSorted] Specify the array is sorted.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new duplicate-value-free array.\n     * @example\n     *\n     * _.uniq([1, 2, 1]);\n     * // => [1, 2]\n     *\n     * // using `isSorted`\n     * _.uniq([1, 1, 2], true);\n     * // => [1, 2]\n     *\n     * // using an iteratee function\n     * _.uniq([1, 2.5, 1.5, 2], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => [1, 2.5]\n     *\n     * // using the `_.property` callback shorthand\n     * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniq(array, isSorted, iteratee, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (isSorted != null && typeof isSorted != 'boolean') {\n        thisArg = iteratee;\n        iteratee = isIterateeCall(array, isSorted, thisArg) ? null : isSorted;\n        isSorted = false;\n      }\n      var func = getCallback();\n      if (!(func === baseCallback && iteratee == null)) {\n        iteratee = func(iteratee, thisArg, 3);\n      }\n      return (isSorted && getIndexOf() == baseIndexOf)\n        ? sortedUniq(array, iteratee)\n        : baseUniq(array, iteratee);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-`_.zip`\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['fred', 'barney'], [30, 40], [true, false]]\n     */\n    function unzip(array) {\n      var index = -1,\n          length = (array && array.length && arrayMax(arrayMap(array, getLength))) >>> 0,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = arrayMap(array, baseProperty(index));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array excluding all provided values using `SameValueZero` for\n     * equality comparisons.\n     *\n     * **Note:** [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * comparisons are like strict equality comparisons, e.g. `===`, except that\n     * `NaN` matches `NaN`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to filter.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.without([1, 2, 1, 3], 1, 2);\n     * // => [3]\n     */\n    var without = restParam(function(array, values) {\n      return (isArray(array) || isArguments(array))\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array that is the [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the provided arrays.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of values.\n     * @example\n     *\n     * _.xor([1, 2], [4, 2]);\n     * // => [1, 4]\n     */\n    function xor() {\n      var index = -1,\n          length = arguments.length;\n\n      while (++index < length) {\n        var array = arguments[index];\n        if (isArray(array) || isArguments(array)) {\n          var result = result\n            ? baseDifference(result, array).concat(baseDifference(array, result))\n            : array;\n        }\n      }\n      return result ? baseUniq(result) : [];\n    }\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the first\n     * elements of the given arrays, the second of which contains the second elements\n     * of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     */\n    var zip = restParam(unzip);\n\n    /**\n     * The inverse of `_.pairs`; this method returns an object composed from arrays\n     * of property names and values. Provide either a single two dimensional array,\n     * e.g. `[[key1, value1], [key2, value2]]` or two arrays, one of property names\n     * and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @alias object\n     * @category Array\n     * @param {Array} props The property names.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject([['fred', 30], ['barney', 40]]);\n     * // => { 'fred': 30, 'barney': 40 }\n     *\n     * _.zipObject(['fred', 'barney'], [30, 40]);\n     * // => { 'fred': 30, 'barney': 40 }\n     */\n    function zipObject(props, values) {\n      var index = -1,\n          length = props ? props.length : 0,\n          result = {};\n\n      if (length && !values && !isArray(props[0])) {\n        values = [];\n      }\n      while (++index < length) {\n        var key = props[index];\n        if (values) {\n          result[key] = values[index];\n        } else if (key) {\n          result[key[0]] = key[1];\n        }\n      }\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object that wraps `value` with explicit method\n     * chaining enabled.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _.chain(users)\n     *   .sortBy('age')\n     *   .map(function(chr) {\n     *     return chr.user + ' is ' + chr.age;\n     *   })\n     *   .first()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor is\n     * bound to `thisArg` and invoked with one argument; (value). The purpose of\n     * this method is to \"tap into\" a method chain in order to perform operations\n     * on intermediate results within the chain.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor, thisArg) {\n      interceptor.call(thisArg, value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor, thisArg) {\n      return interceptor.call(thisArg, value);\n    }\n\n    /**\n     * Enables explicit method chaining on the wrapper object.\n     *\n     * @name chain\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // without explicit chaining\n     * _(users).first();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // with explicit chaining\n     * _(users).chain()\n     *   .first()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chained sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapper = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapper = wrapper.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapper.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Creates a clone of the chained sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapper = _(array).map(function(value) {\n     *   return Math.pow(value, 2);\n     * });\n     *\n     * var other = [3, 4];\n     * var otherWrapper = wrapper.plant(other);\n     *\n     * otherWrapper.value();\n     * // => [9, 16]\n     *\n     * wrapper.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * Reverses the wrapped array so the first element becomes the last, the\n     * second element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new reversed `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        if (this.__actions__.length) {\n          value = new LazyWrapper(this);\n        }\n        return new LodashWrapper(value.reverse(), this.__chain__);\n      }\n      return this.thru(function(value) {\n        return value.reverse();\n      });\n    }\n\n    /**\n     * Produces the result of coercing the unwrapped value to a string.\n     *\n     * @name toString\n     * @memberOf _\n     * @category Chain\n     * @returns {string} Returns the coerced string value.\n     * @example\n     *\n     * _([1, 2, 3]).toString();\n     * // => '1,2,3'\n     */\n    function wrapperToString() {\n      return (this.value() + '');\n    }\n\n    /**\n     * Executes the chained sequence to extract the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @alias run, toJSON, valueOf\n     * @category Chain\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements corresponding to the given keys, or indexes,\n     * of `collection`. Keys may be specified as individual arguments or as arrays\n     * of keys.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(number|number[]|string|string[])} [props] The property names\n     *  or indexes of elements to pick, specified individually or in arrays.\n     * @returns {Array} Returns the new array of picked elements.\n     * @example\n     *\n     * _.at(['a', 'b', 'c'], [0, 2]);\n     * // => ['a', 'c']\n     *\n     * _.at(['barney', 'fred', 'pebbles'], 0, 2);\n     * // => ['barney', 'pebbles']\n     */\n    var at = restParam(function(collection, props) {\n      var length = collection ? collection.length : 0;\n      if (isLength(length)) {\n        collection = toIterable(collection);\n      }\n      return baseAt(collection, baseFlatten(props));\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the number of times the key was returned by `iteratee`.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      hasOwnProperty.call(result, key) ? ++result[key] : (result[key] = 1);\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * The predicate is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias all\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': false },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.every(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (thisArg && isIterateeCall(collection, predicate, thisArg)) {\n        predicate = null;\n      }\n      if (typeof predicate != 'function' || typeof thisArg != 'undefined') {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias select\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.filter([4, 5, 6], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 6]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.filter(users, { 'age': 36, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.filter(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.filter(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function filter(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias detect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.result(_.find(users, function(chr) {\n     *   return chr.age < 40;\n     * }), 'user');\n     * // => 'barney'\n     *\n     * // using the `_.matches` callback shorthand\n     * _.result(_.find(users, { 'age': 1, 'active': true }), 'user');\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.result(_.find(users, 'active', false), 'user');\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.result(_.find(users, 'active'), 'user');\n     * // => 'barney'\n     */\n    var find = createFind(baseEach);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(baseEachRight, true);\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning the first element that has equivalent property\n     * values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.result(_.findWhere(users, { 'age': 36, 'active': true }), 'user');\n     * // => 'barney'\n     *\n     * _.result(_.findWhere(users, { 'age': 40, 'active': false }), 'user');\n     * // => 'fred'\n     */\n    function findWhere(collection, source) {\n      return find(collection, baseMatches(source));\n    }\n\n    /**\n     * Iterates over elements of `collection` invoking `iteratee` for each element.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection). Iterator functions may exit iteration early\n     * by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a `length` property\n     * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n     * may be used for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @alias each\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEach(function(n) {\n     *   console.log(n);\n     * }).value();\n     * // => logs each value from left to right and returns the array\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(n, key) {\n     *   console.log(n, key);\n     * });\n     * // => logs each value-key pair and returns the object (iteration order is not guaranteed)\n     */\n    var forEach = createForEach(arrayEach, baseEach);\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEachRight(function(n) {\n     *   console.log(n);\n     * }).value();\n     * // => logs each value from right to left and returns the array\n     */\n    var forEachRight = createForEach(arrayEachRight, baseEachRight);\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is an array of the elements responsible for generating the key.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * // using the `_.property` callback shorthand\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        result[key] = [value];\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection` using `SameValueZero` for equality\n     * comparisons. If `fromIndex` is negative, it is used as the offset from\n     * the end of `collection`.\n     *\n     * **Note:** [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * comparisons are like strict equality comparisons, e.g. `===`, except that\n     * `NaN` matches `NaN`.\n     *\n     * @static\n     * @memberOf _\n     * @alias contains, include\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {*} target The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\n     * @returns {boolean} Returns `true` if a matching element is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'user': 'fred', 'age': 40 }, 'fred');\n     * // => true\n     *\n     * _.includes('pebbles', 'eb');\n     * // => true\n     */\n    function includes(collection, target, fromIndex, guard) {\n      var length = collection ? collection.length : 0;\n      if (!isLength(length)) {\n        collection = values(collection);\n        length = collection.length;\n      }\n      if (!length) {\n        return false;\n      }\n      if (typeof fromIndex != 'number' || (guard && isIterateeCall(target, fromIndex, guard))) {\n        fromIndex = 0;\n      } else {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : (fromIndex || 0);\n      }\n      return (typeof collection == 'string' || !isArray(collection) && isString(collection))\n        ? (fromIndex < length && collection.indexOf(target, fromIndex) > -1)\n        : (getIndexOf(collection, target, fromIndex) > -1);\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the last element responsible for generating the key. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var keyData = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.indexBy(keyData, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return String.fromCharCode(object.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return this.fromCharCode(object.code);\n     * }, String);\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     */\n    var indexBy = createAggregator(function(result, value, key) {\n      result[key] = value;\n    });\n\n    /**\n     * Invokes the method named by `methodName` on each element in `collection`,\n     * returning an array of the results of each invoked method. Any additional\n     * arguments are provided to each invoked method. If `methodName` is a function\n     * it is invoked for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|string} methodName The name of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invoke([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invoke = restParam(function(collection, methodName, args) {\n      var index = -1,\n          isFunc = typeof methodName == 'function',\n          length = collection ? collection.length : 0,\n          result = isLength(length) ? Array(length) : [];\n\n      baseEach(collection, function(value) {\n        var func = isFunc ? methodName : (value != null && value[methodName]);\n        result[++index] = func ? func.apply(value, args) : undefined;\n      });\n      return result;\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` through\n     * `iteratee`. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * Many lodash methods are guarded to work as interatees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `callback`, `chunk`, `clone`, `create`, `curry`, `curryRight`, `drop`,\n     * `dropRight`, `every`, `fill`, `flatten`, `invert`, `max`, `min`, `parseInt`,\n     * `slice`, `sortBy`, `take`, `takeRight`, `template`, `trim`, `trimLeft`,\n     * `trimRight`, `trunc`, `random`, `range`, `sample`, `some`, `uniq`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @alias collect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     *  create a `_.property` or `_.matches` style callback respectively.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function timesThree(n) {\n     *   return n * 3;\n     * }\n     *\n     * _.map([1, 2], timesThree);\n     * // => [3, 6]\n     *\n     * _.map({ 'a': 1, 'b': 2 }, timesThree);\n     * // => [3, 6] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee, thisArg) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      iteratee = getCallback(iteratee, thisArg, 3);\n      return func(collection, iteratee);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, while the second of which\n     * contains elements `predicate` returns falsey for. The predicate is bound\n     * to `thisArg` and invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * _.partition([1, 2, 3], function(n) {\n     *   return n % 2;\n     * });\n     * // => [[1, 3], [2]]\n     *\n     * _.partition([1.2, 2.3, 3.4], function(n) {\n     *   return this.floor(n) % 2;\n     * }, Math);\n     * // => [[1.2, 3.4], [2.3]]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * var mapper = function(array) {\n     *   return _.pluck(array, 'user');\n     * };\n     *\n     * // using the `_.matches` callback shorthand\n     * _.map(_.partition(users, { 'age': 1, 'active': false }), mapper);\n     * // => [['pebbles'], ['barney', 'fred']]\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.map(_.partition(users, 'active', false), mapper);\n     * // => [['barney', 'pebbles'], ['fred']]\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(_.partition(users, 'active'), mapper);\n     * // => [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Gets the value of `key` from all elements in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {string} key The key of the property to pluck.\n     * @returns {Array} Returns the property values.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.pluck(users, 'user');\n     * // => ['barney', 'fred']\n     *\n     * var userIndex = _.indexBy(users, 'user');\n     * _.pluck(userIndex, 'age');\n     * // => [36, 40] (iteration order is not guaranteed)\n     */\n    function pluck(collection, key) {\n      return map(collection, baseProperty(key));\n    }\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` through `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not provided the first element of `collection` is used as the initial\n     * value. The `iteratee` is bound to `thisArg` and invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as interatees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `includes`, `merge`, `sortByAll`, and `sortByOrder`\n     *\n     * @static\n     * @memberOf _\n     * @alias foldl, inject\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * });\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     *   return result;\n     * }, {});\n     * // => { 'a': 3, 'b': 6 } (iteration order is not guaranteed)\n     */\n    var reduce = createReduce(arrayReduce, baseEach);\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias foldr\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    var reduceRight =  createReduce(arrayReduceRight, baseEachRight);\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.reject([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [1, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.reject(users, { 'age': 40, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.reject(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.reject(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function reject(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, function(value, index, collection) {\n        return !predicate(value, index, collection);\n      });\n    }\n\n    /**\n     * Gets a random element or `n` random elements from a collection.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to sample.\n     * @param {number} [n] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {*} Returns the random sample(s).\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     *\n     * _.sample([1, 2, 3, 4], 2);\n     * // => [3, 1]\n     */\n    function sample(collection, n, guard) {\n      if (guard ? isIterateeCall(collection, n, guard) : n == null) {\n        collection = toIterable(collection);\n        var length = collection.length;\n        return length > 0 ? collection[baseRandom(0, length - 1)] : undefined;\n      }\n      var result = shuffle(collection);\n      result.length = nativeMin(n < 0 ? 0 : (+n || 0), result.length);\n      return result;\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      collection = toIterable(collection);\n\n      var index = -1,\n          length = collection.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var rand = baseRandom(0, index);\n        if (index != rand) {\n          result[index] = result[rand];\n        }\n        result[rand] = collection[index];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the size of `collection`.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      var length = collection ? collection.length : 0;\n      return isLength(length) ? length : keys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * The function returns as soon as it finds a passing value and does not iterate\n     * over the entire collection. The predicate is bound to `thisArg` and invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias any\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.some(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (thisArg && isIterateeCall(collection, predicate, thisArg)) {\n        predicate = null;\n      }\n      if (typeof predicate != 'function' || typeof thisArg != 'undefined') {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection through `iteratee`. This method performs\n     * a stable sort, that is, it preserves the original sort order of equal elements.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|Function|Object|string} [iteratee=_.identity] The function\n     *  invoked per iteration. If a property name or an object is provided it is\n     *  used to create a `_.property` or `_.matches` style callback respectively.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return Math.sin(n);\n     * });\n     * // => [3, 1, 2]\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return this.sin(n);\n     * }, Math);\n     * // => [3, 1, 2]\n     *\n     * var users = [\n     *   { 'user': 'fred' },\n     *   { 'user': 'pebbles' },\n     *   { 'user': 'barney' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.sortBy(users, 'user'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function sortBy(collection, iteratee, thisArg) {\n      if (collection == null) {\n        return [];\n      }\n      var index = -1,\n          length = collection.length,\n          result = isLength(length) ? Array(length) : [];\n\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n        iteratee = null;\n      }\n      iteratee = getCallback(iteratee, thisArg, 3);\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = { 'criteria': iteratee(value, key, collection), 'index': index, 'value': value };\n      });\n      return baseSortBy(result, compareAscending);\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it sorts by property names\n     * instead of an iteratee function.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(string|string[])} props The property names to sort by,\n     *  specified as individual property names or arrays of property names.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 26 },\n     *   { 'user': 'fred',   'age': 30 }\n     * ];\n     *\n     * _.map(_.sortByAll(users, ['user', 'age']), _.values);\n     * // => [['barney', 26], ['barney', 36], ['fred', 30], ['fred', 40]]\n     */\n    function sortByAll() {\n      var args = arguments,\n          collection = args[0],\n          guard = args[3],\n          index = 0,\n          length = args.length - 1;\n\n      if (collection == null) {\n        return [];\n      }\n      var props = Array(length);\n      while (index < length) {\n        props[index] = args[++index];\n      }\n      if (guard && isIterateeCall(args[1], args[2], guard)) {\n        props = args[1];\n      }\n      return baseSortByOrder(collection, baseFlatten(props), []);\n    }\n\n    /**\n     * This method is like `_.sortByAll` except that it allows specifying the\n     * sort orders of the property names to sort by. A truthy value in `orders`\n     * will sort the corresponding property name in ascending order while a\n     * falsey value will sort it in descending order.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {string[]} props The property names to sort by.\n     * @param {boolean[]} orders The sort orders of `props`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 26 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 30 }\n     * ];\n     *\n     * // sort by `user` in ascending order and by `age` in descending order\n     * _.map(_.sortByOrder(users, ['user', 'age'], [true, false]), _.values);\n     * // => [['barney', 36], ['barney', 26], ['fred', 40], ['fred', 30]]\n     */\n    function sortByOrder(collection, props, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (guard && isIterateeCall(props, orders, guard)) {\n        orders = null;\n      }\n      if (!isArray(props)) {\n        props = props == null ? [] : [props];\n      }\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseSortByOrder(collection, props, orders);\n    }\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning an array of all elements that have equivalent\n     * property values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false, 'pets': ['hoppy'] },\n     *   { 'user': 'fred',   'age': 40, 'active': true, 'pets': ['baby puss', 'dino'] }\n     * ];\n     *\n     * _.pluck(_.where(users, { 'age': 36, 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * _.pluck(_.where(users, { 'pets': ['dino'] }), 'user');\n     * // => ['fred']\n     */\n    function where(collection, source) {\n      return filter(collection, baseMatches(source));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the number of milliseconds that have elapsed since the Unix epoch\n     * (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @category Date\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => logs the number of milliseconds it took for the deferred function to be invoked\n     */\n    var now = nativeNow || function() {\n      return new Date().getTime();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it is called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => logs 'done saving!' after the two async saves have completed\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      n = nativeIsFinite(n = +n) ? n : 0;\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that accepts up to `n` arguments ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      if (guard && isIterateeCall(func, n, guard)) {\n        n = null;\n      }\n      n = (func && n == null) ? func.length : nativeMax(+n || 0, 0);\n      return createWrapper(func, ARY_FLAG, null, null, null, null, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it is called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery('#add').on('click', _.before(5, addContactToList));\n     * // => allows adding up to 4 contacts to the list\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        } else {\n          func = null;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and prepends any additional `_.bind` arguments to those provided to the\n     * bound function.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind` this method does not set the `length`\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var greet = function(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * };\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // using placeholders\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = restParam(function(func, thisArg, partials) {\n      var bitmask = BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, bind.placeholder);\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method. Method names may be specified as individual arguments or as arrays\n     * of method names. If no method names are provided all enumerable function\n     * properties, own and inherited, of `object` are bound.\n     *\n     * **Note:** This method does not set the `length` property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} [methodNames] The object method names to bind,\n     *  specified as individual method names or arrays of method names.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'onClick': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view);\n     * jQuery('#docs').on('click', view.onClick);\n     * // => logs 'clicked docs' when the element is clicked\n     */\n    var bindAll = restParam(function(object, methodNames) {\n      methodNames = methodNames.length ? baseFlatten(methodNames) : functions(object);\n\n      var index = -1,\n          length = methodNames.length;\n\n      while (++index < length) {\n        var key = methodNames[index];\n        object[key] = createWrapper(object[key], BIND_FLAG, object);\n      }\n      return object;\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` and prepends\n     * any additional `_.bindKey` arguments to those provided to the bound function.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist.\n     * See [Peter Michaux's article](http://michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object the method belongs to.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // using placeholders\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = restParam(function(object, key, partials) {\n      var bitmask = BIND_FLAG | BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, bindKey.placeholder);\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts one or more arguments of `func` that when\n     * called either invokes `func` returning its result, if all `func` arguments\n     * have been provided, or returns a function that accepts one or more of the\n     * remaining `func` arguments, and so on. The arity of `func` may be specified\n     * if `func.length` is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the `length` property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    var curry = createCurry(CURRY_FLAG);\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the `length` property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    var curryRight = createCurry(CURRY_RIGHT_FLAG);\n\n    /**\n     * Creates a function that delays invoking `func` until after `wait` milliseconds\n     * have elapsed since the last time it was invoked. The created function comes\n     * with a `cancel` method to cancel delayed invocations. Provide an options\n     * object to indicate that `func` should be invoked on the leading and/or\n     * trailing edge of the `wait` timeout. Subsequent calls to the debounced\n     * function return the result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the debounced function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=false] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {number} [options.maxWait] The maximum time `func` is allowed to be\n     *  delayed before it is invoked.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // avoid costly calculations while the window size is in flux\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // invoke `sendMail` when the click event is fired, debouncing subsequent calls\n     * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // ensure `batchLog` is invoked once after 1 second of debounced calls\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', _.debounce(batchLog, 250, {\n     *   'maxWait': 1000\n     * }));\n     *\n     * // cancel a debounced call\n     * var todoChanges = _.debounce(batchLog, 1000);\n     * Object.observe(models.todo, todoChanges);\n     *\n     * Object.observe(models, function(changes) {\n     *   if (_.find(changes, { 'user': 'todo', 'type': 'delete'})) {\n     *     todoChanges.cancel();\n     *   }\n     * }, ['delete']);\n     *\n     * // ...at some point `models.todo` is changed\n     * models.todo.completed = true;\n     *\n     * // ...before 1 second has passed `models.todo` is deleted\n     * // which cancels the debounced `todoChanges` call\n     * delete models.todo;\n     */\n    function debounce(func, wait, options) {\n      var args,\n          maxTimeoutId,\n          result,\n          stamp,\n          thisArg,\n          timeoutId,\n          trailingCall,\n          lastCalled = 0,\n          maxWait = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = wait < 0 ? 0 : (+wait || 0);\n      if (options === true) {\n        var leading = true;\n        trailing = false;\n      } else if (isObject(options)) {\n        leading = options.leading;\n        maxWait = 'maxWait' in options && nativeMax(+options.maxWait || 0, wait);\n        trailing = 'trailing' in options ? options.trailing : trailing;\n      }\n\n      function cancel() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        if (maxTimeoutId) {\n          clearTimeout(maxTimeoutId);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n      }\n\n      function delayed() {\n        var remaining = wait - (now() - stamp);\n        if (remaining <= 0 || remaining > wait) {\n          if (maxTimeoutId) {\n            clearTimeout(maxTimeoutId);\n          }\n          var isCalled = trailingCall;\n          maxTimeoutId = timeoutId = trailingCall = undefined;\n          if (isCalled) {\n            lastCalled = now();\n            result = func.apply(thisArg, args);\n            if (!timeoutId && !maxTimeoutId) {\n              args = thisArg = null;\n            }\n          }\n        } else {\n          timeoutId = setTimeout(delayed, remaining);\n        }\n      }\n\n      function maxDelayed() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n        if (trailing || (maxWait !== wait)) {\n          lastCalled = now();\n          result = func.apply(thisArg, args);\n          if (!timeoutId && !maxTimeoutId) {\n            args = thisArg = null;\n          }\n        }\n      }\n\n      function debounced() {\n        args = arguments;\n        stamp = now();\n        thisArg = this;\n        trailingCall = trailing && (timeoutId || !leading);\n\n        if (maxWait === false) {\n          var leadingCall = leading && !timeoutId;\n        } else {\n          if (!maxTimeoutId && !leading) {\n            lastCalled = stamp;\n          }\n          var remaining = maxWait - (stamp - lastCalled),\n              isCalled = remaining <= 0 || remaining > maxWait;\n\n          if (isCalled) {\n            if (maxTimeoutId) {\n              maxTimeoutId = clearTimeout(maxTimeoutId);\n            }\n            lastCalled = stamp;\n            result = func.apply(thisArg, args);\n          }\n          else if (!maxTimeoutId) {\n            maxTimeoutId = setTimeout(maxDelayed, remaining);\n          }\n        }\n        if (isCalled && timeoutId) {\n          timeoutId = clearTimeout(timeoutId);\n        }\n        else if (!timeoutId && wait !== maxWait) {\n          timeoutId = setTimeout(delayed, wait);\n        }\n        if (leadingCall) {\n          isCalled = true;\n          result = func.apply(thisArg, args);\n        }\n        if (isCalled && !timeoutId && !maxTimeoutId) {\n          args = thisArg = null;\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // logs 'deferred' after one or more milliseconds\n     */\n    var defer = restParam(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => logs 'later' after one second\n     */\n    var delay = restParam(function(func, wait, args) {\n      return baseDelay(func, wait, args);\n    });\n\n    /**\n     * Creates a function that returns the result of invoking the provided\n     * functions with the `this` binding of the created function, where each\n     * successive invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow(_.add, square);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the provided functions from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias backflow, compose\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight(square, _.add);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is coerced to a string and used as the\n     * cache key. The `func` is invoked with the `this` binding of the memoized\n     * function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the [`Map`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-properties-of-the-map-prototype-object)\n     * method interface of `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoizing function.\n     * @example\n     *\n     * var upperCase = _.memoize(function(string) {\n     *   return string.toUpperCase();\n     * });\n     *\n     * upperCase('fred');\n     * // => 'FRED'\n     *\n     * // modifying the result cache\n     * upperCase.cache.set('fred', 'BARNEY');\n     * upperCase('fred');\n     * // => 'BARNEY'\n     *\n     * // replacing `_.memoize.Cache`\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'barney' };\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'fred' }\n     *\n     * _.memoize.Cache = WeakMap;\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'barney' }\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            cache = memoized.cache,\n            key = resolver ? resolver.apply(this, args) : args[0];\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        cache.set(key, result);\n        return result;\n      };\n      memoized.cache = new memoize.Cache;\n      return memoized;\n    }\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        return !predicate.apply(this, arguments);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first call. The `func` is invoked\n     * with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // `initialize` invokes `createApplication` once\n     */\n    function once(func) {\n      return before(func, 2);\n    }\n\n    /**\n     * Creates a function that invokes `func` with `partial` arguments prepended\n     * to those provided to the new function. This method is like `_.bind` except\n     * it does **not** alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the `length` property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // using placeholders\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = createPartial(PARTIAL_FLAG);\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to those provided to the new function.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the `length` property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // using placeholders\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = createPartial(PARTIAL_RIGHT_FLAG);\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified indexes where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, 2, 0, 1);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     *\n     * var map = _.rearg(_.map, [1, 0]);\n     * map(function(n) {\n     *   return n * 3;\n     * }, [1, 2, 3]);\n     * // => [3, 6, 9]\n     */\n    var rearg = restParam(function(func, indexes) {\n      return createWrapper(func, REARG_FLAG, null, null, null, baseFlatten(indexes));\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as an array.\n     *\n     * **Note:** This method is based on the [rest parameter](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.restParam(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function restParam(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = nativeMax(typeof start == 'undefined' ? (func.length - 1) : (+start || 0), 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            rest = Array(length);\n\n        while (++index < length) {\n          rest[index] = args[start + index];\n        }\n        switch (start) {\n          case 0: return func.call(this, rest);\n          case 1: return func.call(this, args[0], rest);\n          case 2: return func.call(this, args[0], args[1], rest);\n        }\n        var otherArgs = Array(start + 1);\n        index = -1;\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = rest;\n        return func.apply(this, otherArgs);\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the created\n     * function and an array of arguments much like [`Function#apply`](https://es5.github.io/#x15.3.4.3).\n     *\n     * **Note:** This method is based on the [spread operator](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * // with a Promise\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function(array) {\n        return func.apply(this, array);\n      };\n    }\n\n    /**\n     * Creates a function that only invokes `func` at most once per every `wait`\n     * milliseconds. The created function comes with a `cancel` method to cancel\n     * delayed invocations. Provide an options object to indicate that `func`\n     * should be invoked on the leading and/or trailing edge of the `wait` timeout.\n     * Subsequent calls to the throttled function return the result of the last\n     * `func` call.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the throttled function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=true] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // avoid excessively updating the position while scrolling\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // invoke `renewToken` when the click event is fired, but not more than once every 5 minutes\n     * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n     *   'trailing': false\n     * }));\n     *\n     * // cancel a trailing throttled call\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (options === false) {\n        leading = false;\n      } else if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      debounceOptions.leading = leading;\n      debounceOptions.maxWait = +wait;\n      debounceOptions.trailing = trailing;\n      return debounce(func, wait, debounceOptions);\n    }\n\n    /**\n     * Creates a function that provides `value` to the wrapper function as its\n     * first argument. Any additional arguments provided to the function are\n     * appended to those provided to the wrapper function. The wrapper is invoked\n     * with the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} wrapper The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      wrapper = wrapper == null ? identity : wrapper;\n      return createWrapper(wrapper, PARTIAL_FLAG, null, [value], []);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a clone of `value`. If `isDeep` is `true` nested objects are cloned,\n     * otherwise they are assigned by reference. If `customizer` is provided it is\n     * invoked to produce the cloned values. If `customizer` returns `undefined`\n     * cloning is handled by the method instead. The `customizer` is bound to\n     * `thisArg` and invoked with two argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var shallow = _.clone(users);\n     * shallow[0] === users[0];\n     * // => true\n     *\n     * var deep = _.clone(users, true);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.clone(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 0\n     */\n    function clone(value, isDeep, customizer, thisArg) {\n      if (isDeep && typeof isDeep != 'boolean' && isIterateeCall(value, isDeep, customizer)) {\n        isDeep = false;\n      }\n      else if (typeof isDeep == 'function') {\n        thisArg = customizer;\n        customizer = isDeep;\n        isDeep = false;\n      }\n      customizer = typeof customizer == 'function' && bindCallback(customizer, thisArg, 1);\n      return baseClone(value, isDeep, customizer);\n    }\n\n    /**\n     * Creates a deep clone of `value`. If `customizer` is provided it is invoked\n     * to produce the cloned values. If `customizer` returns `undefined` cloning\n     * is handled by the method instead. The `customizer` is bound to `thisArg`\n     * and invoked with two argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the deep cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var deep = _.cloneDeep(users);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.cloneDeep(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 20\n     */\n    function cloneDeep(value, customizer, thisArg) {\n      customizer = typeof customizer == 'function' && bindCallback(customizer, thisArg, 1);\n      return baseClone(value, true, customizer);\n    }\n\n    /**\n     * Checks if `value` is classified as an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    function isArguments(value) {\n      var length = isObjectLike(value) ? value.length : undefined;\n      return isLength(length) && objToString.call(value) == argsTag;\n    }\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(function() { return arguments; }());\n     * // => false\n     */\n    var isArray = nativeIsArray || function(value) {\n      return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\n    };\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false || (isObjectLike(value) && objToString.call(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    function isDate(value) {\n      return isObjectLike(value) && objToString.call(value) == dateTag;\n    }\n\n    /**\n     * Checks if `value` is a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return !!value && value.nodeType === 1 && isObjectLike(value) &&\n        (objToString.call(value).indexOf('Element') > -1);\n    }\n    // Fallback for environments without DOM support.\n    if (!support.dom) {\n      isElement = function(value) {\n        return !!value && value.nodeType === 1 && isObjectLike(value) && !isPlainObject(value);\n      };\n    }\n\n    /**\n     * Checks if `value` is empty. A value is considered empty unless it is an\n     * `arguments` object, array, string, or jQuery-like collection with a length\n     * greater than `0` or an object with own enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Array|Object|string} value The value to inspect.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      var length = value.length;\n      if (isLength(length) && (isArray(value) || isString(value) || isArguments(value) ||\n          (isObjectLike(value) && isFunction(value.splice)))) {\n        return !length;\n      }\n      return !keys(value).length;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent. If `customizer` is provided it is invoked to compare values.\n     * If `customizer` returns `undefined` comparisons are handled by the method\n     * instead. The `customizer` is bound to `thisArg` and invoked with three\n     * arguments: (value, other [, index|key]).\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. Functions and DOM nodes\n     * are **not** supported. Provide a customizer function to extend support\n     * for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'fred' };\n     *\n     * object == other;\n     * // => false\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * // using a customizer callback\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqual(array, other, function(value, other) {\n     *   if (_.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/)) {\n     *     return true;\n     *   }\n     * });\n     * // => true\n     */\n    function isEqual(value, other, customizer, thisArg) {\n      customizer = typeof customizer == 'function' && bindCallback(customizer, thisArg, 3);\n      if (!customizer && isStrictComparable(value) && isStrictComparable(other)) {\n        return value === other;\n      }\n      var result = customizer ? customizer(value, other) : undefined;\n      return typeof result == 'undefined' ? baseIsEqual(value, other, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      return isObjectLike(value) && typeof value.message == 'string' && objToString.call(value) == errorTag;\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on [`Number.isFinite`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.isfinite).\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(10);\n     * // => true\n     *\n     * _.isFinite('10');\n     * // => false\n     *\n     * _.isFinite(true);\n     * // => false\n     *\n     * _.isFinite(Object(10));\n     * // => false\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     */\n    var isFinite = nativeNumIsFinite || function(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    };\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    var isFunction = !(baseIsFunction(/x/) || (Uint8Array && !baseIsFunction(Uint8Array))) ? baseIsFunction : function(value) {\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in older versions of Chrome and Safari which return 'function' for regexes\n      // and Safari 8 equivalents which return 'object' for typed array constructors.\n      return objToString.call(value) == funcTag;\n    };\n\n    /**\n     * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n     * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(1);\n     * // => false\n     */\n    function isObject(value) {\n      // Avoid a V8 JIT bug in Chrome 19-20.\n      // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n      var type = typeof value;\n      return type == 'function' || (!!value && type == 'object');\n    }\n\n    /**\n     * Performs a deep comparison between `object` and `source` to determine if\n     * `object` contains equivalent property values. If `customizer` is provided\n     * it is invoked to compare values. If `customizer` returns `undefined`\n     * comparisons are handled by the method instead. The `customizer` is bound\n     * to `thisArg` and invoked with three arguments: (value, other, index|key).\n     *\n     * **Note:** This method supports comparing properties of arrays, booleans,\n     * `Date` objects, numbers, `Object` objects, regexes, and strings. Functions\n     * and DOM nodes are **not** supported. Provide a customizer function to extend\n     * support for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.isMatch(object, { 'age': 40 });\n     * // => true\n     *\n     * _.isMatch(object, { 'age': 36 });\n     * // => false\n     *\n     * // using a customizer callback\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatch(object, source, function(value, other) {\n     *   return _.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/) || undefined;\n     * });\n     * // => true\n     */\n    function isMatch(object, source, customizer, thisArg) {\n      var props = keys(source),\n          length = props.length;\n\n      if (!length) {\n        return true;\n      }\n      if (object == null) {\n        return false;\n      }\n      customizer = typeof customizer == 'function' && bindCallback(customizer, thisArg, 3);\n      if (!customizer && length == 1) {\n        var key = props[0],\n            value = source[key];\n\n        if (isStrictComparable(value)) {\n          return value === object[key] && (typeof value != 'undefined' || (key in toObject(object)));\n        }\n      }\n      var values = Array(length),\n          strictCompareFlags = Array(length);\n\n      while (length--) {\n        value = values[length] = source[props[length]];\n        strictCompareFlags[length] = isStrictComparable(value);\n      }\n      return baseIsMatch(toObject(object), props, values, strictCompareFlags, customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is not the same as [`isNaN`](https://es5.github.io/#x15.1.2.4)\n     * which returns `true` for `undefined` and other non-numeric values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some host objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a native function.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (value == null) {\n        return false;\n      }\n      if (objToString.call(value) == funcTag) {\n        return reNative.test(fnToString.call(value));\n      }\n      return isObjectLike(value) && reHostCtor.test(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are classified\n     * as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isNumber(8.4);\n     * // => true\n     *\n     * _.isNumber(NaN);\n     * // => true\n     *\n     * _.isNumber('8.4');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' || (isObjectLike(value) && objToString.call(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * **Note:** This method assumes objects created by the `Object` constructor\n     * have no inherited enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    var isPlainObject = !getPrototypeOf ? shimIsPlainObject : function(value) {\n      if (!(value && objToString.call(value) == objectTag)) {\n        return false;\n      }\n      var valueOf = value.valueOf,\n          objProto = isNative(valueOf) && (objProto = getPrototypeOf(valueOf)) && getPrototypeOf(objProto);\n\n      return objProto\n        ? (value == objProto || getPrototypeOf(value) == objProto)\n        : shimIsPlainObject(value);\n    };\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    function isRegExp(value) {\n      return (isObjectLike(value) && objToString.call(value) == regexpTag) || false;\n    }\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' || (isObjectLike(value) && objToString.call(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    function isTypedArray(value) {\n      return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[objToString.call(value)];\n    }\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return typeof value == 'undefined';\n    }\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * (function() {\n     *   return _.toArray(arguments).slice(1);\n     * }(1, 2, 3));\n     * // => [2, 3]\n     */\n    function toArray(value) {\n      var length = value ? value.length : 0;\n      if (!isLength(length)) {\n        return values(value);\n      }\n      if (!length) {\n        return [];\n      }\n      return arrayCopy(value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable\n     * properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return baseCopy(value, keysIn(value));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object. Subsequent sources overwrite property assignments of previous sources.\n     * If `customizer` is provided it is invoked to produce the assigned values.\n     * The `customizer` is bound to `thisArg` and invoked with five arguments:\n     * (objectValue, sourceValue, key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize assigning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.assign({ 'user': 'barney' }, { 'age': 40 }, { 'user': 'fred' });\n     * // => { 'user': 'fred', 'age': 40 }\n     *\n     * // using a customizer callback\n     * var defaults = _.partialRight(_.assign, function(value, other) {\n     *   return typeof value == 'undefined' ? other : value;\n     * });\n     *\n     * defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var assign = createAssigner(baseAssign);\n\n    /**\n     * Creates an object that inherits from the given `prototype` object. If a\n     * `properties` object is provided its own enumerable properties are assigned\n     * to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties, guard) {\n      var result = baseCreate(prototype);\n      if (guard && isIterateeCall(prototype, properties, guard)) {\n        properties = null;\n      }\n      return properties ? baseCopy(properties, result, keys(properties)) : result;\n    }\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object for all destination properties that resolve to `undefined`. Once a\n     * property is set, additional values of the same property are ignored.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var defaults = restParam(function(args) {\n      var object = args[0];\n      if (object == null) {\n        return object;\n      }\n      args.push(assignDefaults);\n      return assign.apply(undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    var findKey = createFindKey(baseForOwn);\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => returns `pebbles` assuming `_.findKey` returns `barney`\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    var findLastKey = createFindKey(baseForOwnRight);\n\n    /**\n     * Iterates over own and inherited enumerable properties of an object invoking\n     * `iteratee` for each property. The `iteratee` is bound to `thisArg` and invoked\n     * with three arguments: (value, key, object). Iterator functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a', 'b', and 'c' (iteration order is not guaranteed)\n     */\n    var forIn = createForIn(baseFor);\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'c', 'b', and 'a' assuming `_.forIn ` logs 'a', 'b', and 'c'\n     */\n    var forInRight = createForIn(baseForRight);\n\n    /**\n     * Iterates over own enumerable properties of an object invoking `iteratee`\n     * for each property. The `iteratee` is bound to `thisArg` and invoked with\n     * three arguments: (value, key, object). Iterator functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a' and 'b' (iteration order is not guaranteed)\n     */\n    var forOwn = createForOwn(baseForOwn);\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'b' and 'a' assuming `_.forOwn` logs 'a' and 'b'\n     */\n    var forOwnRight = createForOwn(baseForOwnRight);\n\n    /**\n     * Creates an array of function property names from all enumerable properties,\n     * own and inherited, of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @alias methods\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the new array of property names.\n     * @example\n     *\n     * _.functions(_);\n     * // => ['after', 'ary', 'assign', ...]\n     */\n    function functions(object) {\n      return baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Checks if `key` exists as a direct property of `object` instead of an\n     * inherited property.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` is a direct property, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 3 };\n     *\n     * _.has(object, 'b');\n     * // => true\n     */\n    function has(object, key) {\n      return object ? hasOwnProperty.call(object, key) : false;\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite property\n     * assignments of previous values unless `multiValue` is `true`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {boolean} [multiValue] Allow multiple values per key.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     *\n     * // with `multiValue`\n     * _.invert(object, true);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function invert(object, multiValue, guard) {\n      if (guard && isIterateeCall(object, multiValue, guard)) {\n        multiValue = null;\n      }\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key];\n\n        if (multiValue) {\n          if (hasOwnProperty.call(result, value)) {\n            result[value].push(key);\n          } else {\n            result[value] = [key];\n          }\n        }\n        else {\n          result[value] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    var keys = !nativeKeys ? shimKeys : function(object) {\n      if (object) {\n        var Ctor = object.constructor,\n            length = object.length;\n      }\n      if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n          (typeof object != 'function' && (length && isLength(length)))) {\n        return shimKeys(object);\n      }\n      return isObject(object) ? nativeKeys(object) : [];\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      if (object == null) {\n        return [];\n      }\n      if (!isObject(object)) {\n        object = Object(object);\n      }\n      var length = object.length;\n      length = (length && isLength(length) &&\n        (isArray(object) || (support.nonEnumArgs && isArguments(object))) && length) || 0;\n\n      var Ctor = object.constructor,\n          index = -1,\n          isProto = typeof Ctor == 'function' && Ctor.prototype === object,\n          result = Array(length),\n          skipIndexes = length > 0;\n\n      while (++index < length) {\n        result[index] = (index + '');\n      }\n      for (var key in object) {\n        if (!(skipIndexes && isIndex(key, length)) &&\n            !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated by\n     * running each own enumerable property of `object` through `iteratee`. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments:\n     * (value, key, object).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the new mapped object.\n     * @example\n     *\n     * _.mapValues({ 'a': 1, 'b': 2 }, function(n) {\n     *   return n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * // using the `_.property` callback shorthand\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee, thisArg) {\n      var result = {};\n      iteratee = getCallback(iteratee, thisArg, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        result[key] = iteratee(value, key, object);\n      });\n      return result;\n    }\n\n    /**\n     * Recursively merges own enumerable properties of the source object(s), that\n     * don't resolve to `undefined` into the destination object. Subsequent sources\n     * overwrite property assignments of previous sources. If `customizer` is\n     * provided it is invoked to produce the merged values of the destination and\n     * source properties. If `customizer` returns `undefined` merging is handled\n     * by the method instead. The `customizer` is bound to `thisArg` and invoked\n     * with five arguments: (objectValue, sourceValue, key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize merging properties.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var users = {\n     *   'data': [{ 'user': 'barney' }, { 'user': 'fred' }]\n     * };\n     *\n     * var ages = {\n     *   'data': [{ 'age': 36 }, { 'age': 40 }]\n     * };\n     *\n     * _.merge(users, ages);\n     * // => { 'data': [{ 'user': 'barney', 'age': 36 }, { 'user': 'fred', 'age': 40 }] }\n     *\n     * // using a customizer callback\n     * var object = {\n     *   'fruits': ['apple'],\n     *   'vegetables': ['beet']\n     * };\n     *\n     * var other = {\n     *   'fruits': ['banana'],\n     *   'vegetables': ['carrot']\n     * };\n     *\n     * _.merge(object, other, function(a, b) {\n     *   if (_.isArray(a)) {\n     *     return a.concat(b);\n     *   }\n     * });\n     * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot'] }\n     */\n    var merge = createAssigner(baseMerge);\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable properties of `object` that are not omitted.\n     * Property names may be specified as individual arguments or as arrays of\n     * property names. If `predicate` is provided it is invoked for each property\n     * of `object` omitting the properties `predicate` returns truthy for. The\n     * predicate is bound to `thisArg` and invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to omit, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.omit(object, 'age');\n     * // => { 'user': 'fred' }\n     *\n     * _.omit(object, _.isNumber);\n     * // => { 'user': 'fred' }\n     */\n    var omit = restParam(function(object, props) {\n      if (object == null) {\n        return {};\n      }\n      if (typeof props[0] != 'function') {\n        var props = arrayMap(baseFlatten(props), String);\n        return pickByArray(object, baseDifference(keysIn(object), props));\n      }\n      var predicate = bindCallback(props[0], props[1], 3);\n      return pickByCallback(object, function(value, key, object) {\n        return !predicate(value, key, object);\n      });\n    });\n\n    /**\n     * Creates a two dimensional array of the key-value pairs for `object`,\n     * e.g. `[[key1, value1], [key2, value2]]`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the new array of key-value pairs.\n     * @example\n     *\n     * _.pairs({ 'barney': 36, 'fred': 40 });\n     * // => [['barney', 36], ['fred', 40]] (iteration order is not guaranteed)\n     */\n    function pairs(object) {\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var key = props[index];\n        result[index] = [key, object[key]];\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties. Property\n     * names may be specified as individual arguments or as arrays of property\n     * names. If `predicate` is provided it is invoked for each property of `object`\n     * picking the properties `predicate` returns truthy for. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to pick, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.pick(object, 'user');\n     * // => { 'user': 'fred' }\n     *\n     * _.pick(object, _.isString);\n     * // => { 'user': 'fred' }\n     */\n    var pick = restParam(function(object, props) {\n      if (object == null) {\n        return {};\n      }\n      return typeof props[0] == 'function'\n        ? pickByCallback(object, bindCallback(props[0], props[1], 3))\n        : pickByArray(object, baseFlatten(props));\n    });\n\n    /**\n     * Resolves the value of property `key` on `object`. If the value of `key` is\n     * a function it is invoked with the `this` binding of `object` and its result\n     * is returned, else the property value is returned. If the property value is\n     * `undefined` the `defaultValue` is used in its place.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to resolve.\n     * @param {*} [defaultValue] The value returned if the property value\n     *  resolves to `undefined`.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': _.constant(40) };\n     *\n     * _.result(object, 'user');\n     * // => 'fred'\n     *\n     * _.result(object, 'age');\n     * // => 40\n     *\n     * _.result(object, 'status', 'busy');\n     * // => 'busy'\n     *\n     * _.result(object, 'status', _.constant('busy'));\n     * // => 'busy'\n     */\n    function result(object, key, defaultValue) {\n      var value = object == null ? undefined : object[key];\n      if (typeof value == 'undefined') {\n        value = defaultValue;\n      }\n      return isFunction(value) ? value.call(object) : value;\n    }\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own enumerable\n     * properties through `iteratee`, with each invocation potentially mutating\n     * the `accumulator` object. The `iteratee` is bound to `thisArg` and invoked\n     * with four arguments: (accumulator, value, key, object). Iterator functions\n     * may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Array|Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     */\n    function transform(object, iteratee, accumulator, thisArg) {\n      var isArr = isArray(object) || isTypedArray(object);\n      iteratee = getCallback(iteratee, thisArg, 4);\n\n      if (accumulator == null) {\n        if (isArr || isObject(object)) {\n          var Ctor = object.constructor;\n          if (isArr) {\n            accumulator = isArray(object) ? new Ctor : [];\n          } else {\n            accumulator = baseCreate(isFunction(Ctor) && Ctor.prototype);\n          }\n        } else {\n          accumulator = {};\n        }\n      }\n      (isArr ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Creates an array of the own enumerable property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property values\n     * of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Checks if `n` is between `start` and up to but not including, `end`. If\n     * `end` is not specified it is set to `start` with `start` then set to `0`.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} n The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `n` is in the range, else `false`.\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     */\n    function inRange(value, start, end) {\n      start = +start || 0;\n      if (typeof end === 'undefined') {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      return value >= start && value < end;\n    }\n\n    /**\n     * Produces a random number between `min` and `max` (inclusive). If only one\n     * argument is provided a number between `0` and the given number is returned.\n     * If `floating` is `true`, or either `min` or `max` are floats, a floating-point\n     * number is returned instead of an integer.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} [min=0] The minimum possible value.\n     * @param {number} [max=1] The maximum possible value.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(min, max, floating) {\n      if (floating && isIterateeCall(min, max, floating)) {\n        max = floating = null;\n      }\n      var noMin = min == null,\n          noMax = max == null;\n\n      if (floating == null) {\n        if (noMax && typeof min == 'boolean') {\n          floating = min;\n          min = 1;\n        }\n        else if (typeof max == 'boolean') {\n          floating = max;\n          noMax = true;\n        }\n      }\n      if (noMin && noMax) {\n        max = 1;\n        noMax = false;\n      }\n      min = +min || 0;\n      if (noMax) {\n        max = min;\n        min = 0;\n      } else {\n        max = +max || 0;\n      }\n      if (floating || min % 1 || max % 1) {\n        var rand = nativeRandom();\n        return nativeMin(min + (rand * (max - min + parseFloat('1e-' + ((rand + '').length - 1)))), max);\n      }\n      return baseRandom(min, max);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__foo_bar__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? (word.charAt(0).toUpperCase() + word.slice(1)) : word);\n    });\n\n    /**\n     * Capitalizes the first character of `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('fred');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      string = baseToString(string);\n      return string && (string.charAt(0).toUpperCase() + string.slice(1));\n    }\n\n    /**\n     * Deburrs `string` by converting [latin-1 supplementary letters](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * to basic latin letters and removing [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = baseToString(string);\n      return string && string.replace(reLatin1, deburrLetter).replace(reComboMarks, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search from.\n     * @returns {boolean} Returns `true` if `string` ends with `target`, else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = baseToString(string);\n      target = (target + '');\n\n      var length = string.length;\n      position = typeof position == 'undefined'\n        ? length\n        : nativeMin(position < 0 ? 0 : (+position || 0), length);\n\n      position -= target.length;\n      return position >= 0 && string.indexOf(target, position) == position;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', \"'\", and \"\\`\", in `string` to\n     * their corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional characters\n     * use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't require escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value.\n     * See [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * Backticks are escaped because in Internet Explorer < 9, they can break out\n     * of attribute values or HTML comments. See [#102](https://html5sec.org/#102),\n     * [#108](https://html5sec.org/#108), and [#133](https://html5sec.org/#133) of\n     * the [HTML5 Security Cheatsheet](https://html5sec.org/) for more details.\n     *\n     * When working with HTML you should always [quote attribute values](http://wonko.com/post/html-escaping)\n     * to reduce XSS vectors.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      // Reset `lastIndex` because in IE < 9 `String#replace` does not.\n      string = baseToString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"\\\", \"/\", \"^\", \"$\", \".\", \"|\", \"?\",\n     * \"*\", \"+\", \"(\", \")\", \"[\", \"]\", \"{\" and \"}\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https:\\/\\/lodash\\.com\\/\\)'\n     */\n    function escapeRegExp(string) {\n      string = baseToString(string);\n      return (string && reHasRegExpChars.test(string))\n        ? string.replace(reRegExpChars, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__foo_bar__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Pads `string` on the left and right sides if it is shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = baseToString(string);\n      length = +length;\n\n      var strLength = string.length;\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return string;\n      }\n      var mid = (length - strLength) / 2,\n          leftLength = floor(mid),\n          rightLength = ceil(mid);\n\n      chars = createPadding('', rightLength, chars);\n      return chars.slice(0, leftLength) + string + chars;\n    }\n\n    /**\n     * Pads `string` on the left side if it is shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padLeft('abc', 6);\n     * // => '   abc'\n     *\n     * _.padLeft('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padLeft('abc', 3);\n     * // => 'abc'\n     */\n    var padLeft = createPadDir();\n\n    /**\n     * Pads `string` on the right side if it is shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padRight('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padRight('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padRight('abc', 3);\n     * // => 'abc'\n     */\n    var padRight = createPadDir(true);\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a hexadecimal,\n     * in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the [ES5 implementation](https://es5.github.io/#E)\n     * of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard && isIterateeCall(string, radix, guard)) {\n        radix = 0;\n      }\n      return nativeParseInt(string, radix);\n    }\n    // Fallback for environments with pre-ES5 implementations.\n    if (nativeParseInt(whitespace + '08') != 8) {\n      parseInt = function(string, radix, guard) {\n        // Firefox < 21 and Opera < 15 follow ES3 for `parseInt`.\n        // Chrome fails to trim leading <BOM> whitespace characters.\n        // See https://code.google.com/p/v8/issues/detail?id=3109 for more details.\n        if (guard ? isIterateeCall(string, radix, guard) : radix == null) {\n          radix = 0;\n        } else if (radix) {\n          radix = +radix;\n        }\n        string = trim(string);\n        return nativeParseInt(string, radix || (reHexPrefix.test(string) ? 16 : 10));\n      };\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=0] The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n) {\n      var result = '';\n      string = baseToString(string);\n      n = +n;\n      if (n < 1 || !string || !nativeIsFinite(n)) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = floor(n / 2);\n        string += string;\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * Converts `string` to [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--foo-bar');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string` to [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__foo_bar__');\n     * // => 'Foo Bar'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + (word.charAt(0).toUpperCase() + word.slice(1));\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`, else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = baseToString(string);\n      position = position == null\n        ? 0\n        : nativeMin(position < 0 ? 0 : (+position || 0), string.length);\n\n      return string.lastIndexOf(target, position) == position;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is provided it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options] The options object.\n     * @param {RegExp} [options.escape] The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate] The \"evaluate\" delimiter.\n     * @param {Object} [options.imports] An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate] The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL] The sourceURL of the template's compiled source.\n     * @param {string} [options.variable] The data object variable name.\n     * @param- {Object} [otherOptions] Enables the legacy `options` param signature.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // using the \"interpolate\" delimiter to create a compiled template\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // using the HTML \"escape\" delimiter to escape data property values\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // using the \"evaluate\" delimiter to execute JavaScript and generate HTML\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the internal `print` function in \"evaluate\" delimiters\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // using the ES delimiter as an alternative to the default \"interpolate\" delimiter\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // using custom template delimiters\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // using backslashes to treat delimiters as plain text\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // using the `imports` option to import `jQuery` as `jq`\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the `sourceURL` option to specify a custom sourceURL for the template\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\n     *\n     * // using the `variable` option to ensure a with-statement isn't used in the compiled template\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // using the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and a stack trace\n     * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, otherOptions) {\n      // Based on John Resig's `tmpl` implementation (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (otherOptions && isIterateeCall(string, options, otherOptions)) {\n        options = otherOptions = null;\n      }\n      string = baseToString(string);\n      options = baseAssign(baseAssign({}, otherOptions || options), settings, assignOwnDefaults);\n\n      var imports = baseAssign(baseAssign({}, options.imports), settings.imports, assignOwnDefaults),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      var sourceURL = '//# sourceURL=' +\n        ('sourceURL' in options\n          ? options.sourceURL\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products requires returning the `match`\n        // string in order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source).apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string), trimmedRightIndex(string) + 1);\n      }\n      chars = (chars + '');\n      return string.slice(charsLeftIndex(string, chars), charsRightIndex(string, chars) + 1);\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimLeft('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimLeft('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimLeft(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string));\n      }\n      return string.slice(charsLeftIndex(string, (chars + '')));\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimRight('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimRight('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimRight(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(0, trimmedRightIndex(string) + 1);\n      }\n      return string.slice(0, charsRightIndex(string, (chars + '')) + 1);\n    }\n\n    /**\n     * Truncates `string` if it is longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object|number} [options] The options object or maximum string length.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.trunc('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', 24);\n     * // => 'hi-diddly-ho there, n...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function trunc(string, options, guard) {\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = null;\n      }\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (options != null) {\n        if (isObject(options)) {\n          var separator = 'separator' in options ? options.separator : separator;\n          length = 'length' in options ? (+options.length || 0) : length;\n          omission = 'omission' in options ? baseToString(options.omission) : omission;\n        } else {\n          length = +options || 0;\n        }\n      }\n      string = baseToString(string);\n      if (length >= string.length) {\n        return string;\n      }\n      var end = length - omission.length;\n      if (end < 1) {\n        return omission;\n      }\n      var result = string.slice(0, end);\n      if (separator == null) {\n        return result + omission;\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              newEnd,\n              substring = string.slice(0, end);\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, (reFlags.exec(separator) || '') + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            newEnd = match.index;\n          }\n          result = result.slice(0, newEnd == null ? end : newEnd);\n        }\n      } else if (string.indexOf(separator, end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, `&#39;`, and `&#96;` in `string` to their\n     * corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional HTML\n     * entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = baseToString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      if (guard && isIterateeCall(string, pattern, guard)) {\n        pattern = null;\n      }\n      string = baseToString(string);\n      return string.match(pattern || reWords) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Function} func The function to attempt.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // avoid throwing errors for invalid selectors\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = restParam(function(func, args) {\n      try {\n        return func.apply(undefined, args);\n      } catch(e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and arguments of the created function. If `func` is a property name the\n     * created callback returns the property value for a given element. If `func`\n     * is an object the created callback returns `true` for elements that contain\n     * the equivalent object properties, otherwise it returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias iteratee\n     * @category Utility\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // wrap to create custom callback shorthands\n     * _.callback = _.wrap(_.callback, function(callback, func, thisArg) {\n     *   var match = /^(.+?)__([gl]t)(.+)$/.exec(func);\n     *   if (!match) {\n     *     return callback(func, thisArg);\n     *   }\n     *   return function(object) {\n     *     return match[2] == 'gt'\n     *       ? object[match[1]] > match[3]\n     *       : object[match[1]] < match[3];\n     *   };\n     * });\n     *\n     * _.filter(users, 'age__gt36');\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     */\n    function callback(func, thisArg, guard) {\n      if (guard && isIterateeCall(func, thisArg, guard)) {\n        thisArg = null;\n      }\n      return isObjectLike(func)\n        ? matches(func)\n        : baseCallback(func, thisArg);\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var getter = _.constant(object);\n     *\n     * getter() === object;\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * This method returns the first argument provided to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.identity(object) === object;\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function which performs a deep comparison between a given object\n     * and `source`, returning `true` if the given object has equivalent property\n     * values, else `false`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, _.matches({ 'age': 40, 'active': false }));\n     * // => [{ 'user': 'fred', 'age': 40, 'active': false }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, true));\n    }\n\n    /**\n     * Creates a function which compares the property value of `key` on a given\n     * object to `value`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {string} key The key of the property to get.\n     * @param {*} value The value to compare.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * _.find(users, _.matchesProperty('user', 'fred'));\n     * // => { 'user': 'fred' }\n     */\n    function matchesProperty(key, value) {\n      return baseMatchesProperty(key + '', baseClone(value, true));\n    }\n\n    /**\n     * Adds all own enumerable function properties of a source object to the\n     * destination object. If `object` is a function then methods are added to\n     * its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function\n     * for mixins to avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Function|Object} [object=this] object The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.chain=true] Specify whether the functions added\n     *  are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * // use `_.runInContext` to avoid conflicts (esp. in Node.js)\n     * var _ = require('lodash').runInContext();\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      if (options == null) {\n        var isObj = isObject(source),\n            props = isObj && keys(source),\n            methodNames = props && props.length && baseFunctions(source, props);\n\n        if (!(methodNames ? methodNames.length : isObj)) {\n          methodNames = false;\n          options = source;\n          source = object;\n          object = this;\n        }\n      }\n      if (!methodNames) {\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = true,\n          index = -1,\n          isFunc = isFunction(object),\n          length = methodNames.length;\n\n      if (options === false) {\n        chain = false;\n      } else if (isObject(options) && 'chain' in options) {\n        chain = options.chain;\n      }\n      while (++index < length) {\n        var methodName = methodNames[index],\n            func = source[methodName];\n\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = (function(func) {\n            return function() {\n              var chainAll = this.__chain__;\n              if (chain || chainAll) {\n                var result = object(this.__wrapped__),\n                    actions = result.__actions__ = arrayCopy(this.__actions__);\n\n                actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n                result.__chain__ = chainAll;\n                return result;\n              }\n              var args = [this.value()];\n              push.apply(args, arguments);\n              return func.apply(object, args);\n            };\n          }(func));\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      context._ = oldDash;\n      return this;\n    }\n\n    /**\n     * A no-operation function which returns `undefined` regardless of the\n     * arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.noop(object) === undefined;\n     * // => true\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function which returns the property value of `key` on a given object.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {string} key The key of the property to get.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred' },\n     *   { 'user': 'barney' }\n     * ];\n     *\n     * var getName = _.property('user');\n     *\n     * _.map(users, getName);\n     * // => ['fred', 'barney']\n     *\n     * _.pluck(_.sortBy(users, getName), 'user');\n     * // => ['barney', 'fred']\n     */\n    function property(key) {\n      return baseProperty(key + '');\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function which returns\n     * the property value of a given key on `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} object The object to inspect.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var object = { 'a': 3, 'b': 1, 'c': 2 };\n     *\n     * _.map(['a', 'c'], _.propertyOf(object));\n     * // => [3, 2]\n     *\n     * _.sortBy(['a', 'b', 'c'], _.propertyOf(object));\n     * // => ['b', 'c', 'a']\n     */\n    function propertyOf(object) {\n      return function(key) {\n        return object == null ? undefined : object[key];\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. If `end` is not specified it is\n     * set to `start` with `start` then set to `0`. If `start` is less than `end`\n     * a zero-length range is created unless a negative `step` is specified.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the new array of numbers.\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    function range(start, end, step) {\n      if (step && isIterateeCall(start, end, step)) {\n        end = step = null;\n      }\n      start = +start || 0;\n      step = step == null ? 1 : (+step || 0);\n\n      if (end == null) {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      // Use `Array(length)` so engines like Chakra and V8 avoid slower modes.\n      // See https://youtu.be/XAqIpGU8ZZk#t=17m25s for more details.\n      var index = -1,\n          length = nativeMax(ceil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * Invokes the iteratee function `n` times, returning an array of the results\n     * of each invocation. The `iteratee` is bound to `thisArg` and invoked with\n     * one argument; (index).\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * var diceRolls = _.times(3, _.partial(_.random, 1, 6, false));\n     * // => [3, 6, 4]\n     *\n     * _.times(3, function(n) {\n     *   mage.castSpell(n);\n     * });\n     * // => invokes `mage.castSpell(n)` three times with `n` of `0`, `1`, and `2` respectively\n     *\n     * _.times(3, function(n) {\n     *   this.cast(n);\n     * }, mage);\n     * // => also invokes `mage.castSpell(n)` three times\n     */\n    function times(n, iteratee, thisArg) {\n      n = +n;\n\n      // Exit early to avoid a JSC JIT bug in Safari 8\n      // where `Array(0)` is treated as `Array(1)`.\n      if (n < 1 || !nativeIsFinite(n)) {\n        return [];\n      }\n      var index = -1,\n          result = Array(nativeMin(n, MAX_ARRAY_LENGTH));\n\n      iteratee = bindCallback(iteratee, thisArg, 1);\n      while (++index < n) {\n        if (index < MAX_ARRAY_LENGTH) {\n          result[index] = iteratee(index);\n        } else {\n          iteratee(index);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is provided the ID is appended to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {string} [prefix] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return baseToString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} augend The first number to add.\n     * @param {number} addend The second number to add.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    function add(augend, addend) {\n      return augend + addend;\n    }\n\n    /**\n     * Gets the maximum value of `collection`. If `collection` is empty or falsey\n     * `-Infinity` is returned. If an iteratee function is provided it is invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => -Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.max(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'fred', 'age': 40 }\n     *\n     * // using the `_.property` callback shorthand\n     * _.max(users, 'age');\n     * // => { 'user': 'fred', 'age': 40 }\n     */\n    var max = createExtremum(arrayMax);\n\n    /**\n     * Gets the minimum value of `collection`. If `collection` is empty or falsey\n     * `Infinity` is returned. If an iteratee function is provided it is invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.min(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // using the `_.property` callback shorthand\n     * _.min(users, 'age');\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var min = createExtremum(arrayMin, true);\n\n    /**\n     * Gets the sum of the values in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 6]);\n     * // => 10\n     *\n     * _.sum({ 'a': 4, 'b': 6 });\n     * // => 10\n     *\n     * var objects = [\n     *   { 'n': 4 },\n     *   { 'n': 6 }\n     * ];\n     *\n     * _.sum(objects, function(object) {\n     *   return object.n;\n     * });\n     * // => 10\n     *\n     * // using the `_.property` callback shorthand\n     * _.sum(objects, 'n');\n     * // => 10\n     */\n    function sum(collection, iteratee, thisArg) {\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n        iteratee = null;\n      }\n      var func = getCallback(),\n          noIteratee = iteratee == null;\n\n      if (!(func === baseCallback && noIteratee)) {\n        noIteratee = false;\n        iteratee = func(iteratee, thisArg, 3);\n      }\n      return noIteratee\n        ? arraySum(isArray(collection) ? collection : toIterable(collection))\n        : baseSum(collection, iteratee);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    // Add functions to the `Map` cache.\n    MapCache.prototype['delete'] = mapDelete;\n    MapCache.prototype.get = mapGet;\n    MapCache.prototype.has = mapHas;\n    MapCache.prototype.set = mapSet;\n\n    // Add functions to the `Set` cache.\n    SetCache.prototype.push = cachePush;\n\n    // Assign cache to `_.memoize`.\n    memoize.Cache = MapCache;\n\n    // Add functions that return wrapped values when chaining.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.callback = callback;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.functions = functions;\n    lodash.groupBy = groupBy;\n    lodash.indexBy = indexBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.invert = invert;\n    lodash.invoke = invoke;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.omit = omit;\n    lodash.once = once;\n    lodash.pairs = pairs;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pluck = pluck;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.restParam = restParam;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortByAll = sortByAll;\n    lodash.sortByOrder = sortByOrder;\n    lodash.spread = spread;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.times = times;\n    lodash.toArray = toArray;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.union = union;\n    lodash.uniq = uniq;\n    lodash.unzip = unzip;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.where = where;\n    lodash.without = without;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n\n    // Add aliases.\n    lodash.backflow = flowRight;\n    lodash.collect = map;\n    lodash.compose = flowRight;\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.extend = assign;\n    lodash.iteratee = callback;\n    lodash.methods = functions;\n    lodash.object = zipObject;\n    lodash.select = filter;\n    lodash.tail = rest;\n    lodash.unique = uniq;\n\n    // Add functions to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add functions that return unwrapped values when chaining.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.deburr = deburr;\n    lodash.endsWith = endsWith;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.findWhere = findWhere;\n    lodash.first = first;\n    lodash.has = has;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isBoolean = isBoolean;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isMatch = isMatch;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isString = isString;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.max = max;\n    lodash.min = min;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padLeft = padLeft;\n    lodash.padRight = padRight;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.result = result;\n    lodash.runInContext = runInContext;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.sum = sum;\n    lodash.template = template;\n    lodash.trim = trim;\n    lodash.trimLeft = trimLeft;\n    lodash.trimRight = trimRight;\n    lodash.trunc = trunc;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.words = words;\n\n    // Add aliases.\n    lodash.all = every;\n    lodash.any = some;\n    lodash.contains = includes;\n    lodash.detect = find;\n    lodash.foldl = reduce;\n    lodash.foldr = reduceRight;\n    lodash.head = first;\n    lodash.include = includes;\n    lodash.inject = reduce;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!lodash.prototype[methodName]) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), false);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add functions capable of returning wrapped and unwrapped values when chaining.\n    lodash.sample = sample;\n\n    lodash.prototype.sample = function(n) {\n      if (!this.__chain__ && n == null) {\n        return sample(this.value());\n      }\n      return this.thru(function(value) {\n        return sample(value, n);\n      });\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type string\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['dropWhile', 'filter', 'map', 'takeWhile'], function(methodName, type) {\n      var isFilter = type != LAZY_MAP_FLAG,\n          isDropWhile = type == LAZY_DROP_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee, thisArg) {\n        var filtered = this.__filtered__,\n            result = (filtered && isDropWhile) ? new LazyWrapper(this) : this.clone(),\n            iteratees = result.__iteratees__ || (result.__iteratees__ = []);\n\n        iteratees.push({\n          'done': false,\n          'count': 0,\n          'index': 0,\n          'iteratee': getCallback(iteratee, thisArg, 1),\n          'limit': -1,\n          'type': type\n        });\n\n        result.__filtered__ = filtered || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      var whileName = methodName + 'While';\n\n      LazyWrapper.prototype[methodName] = function(n) {\n        var filtered = this.__filtered__,\n            result = (filtered && !index) ? this.dropWhile() : this.clone();\n\n        n = n == null ? 1 : nativeMax(floor(n) || 0, 0);\n        if (filtered) {\n          if (index) {\n            result.__takeCount__ = nativeMin(result.__takeCount__, n);\n          } else {\n            last(result.__iteratees__).limit = n;\n          }\n        } else {\n          var views = result.__views__ || (result.__views__ = []);\n          views.push({ 'size': n, 'type': methodName + (result.__dir__ < 0 ? 'Right' : '') });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n\n      LazyWrapper.prototype[methodName + 'RightWhile'] = function(predicate, thisArg) {\n        return this.reverse()[whileName](predicate, thisArg).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.first` and `_.last`.\n    arrayEach(['first', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.rest`.\n    arrayEach(['initial', 'rest'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[dropName](1);\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.pluck` and `_.where`.\n    arrayEach(['pluck', 'where'], function(methodName, index) {\n      var operationName = index ? 'filter' : 'map',\n          createCallback = index ? baseMatches : baseProperty;\n\n      LazyWrapper.prototype[methodName] = function(value) {\n        return this[operationName](createCallback(value));\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.reject = function(predicate, thisArg) {\n      predicate = getCallback(predicate, thisArg, 1);\n      return this.filter(function(value) {\n        return !predicate(value);\n      });\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = start == null ? 0 : (+start || 0);\n      var result = start < 0 ? this.takeRight(-start) : this.drop(start);\n\n      if (typeof end != 'undefined') {\n        end = (+end || 0);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.drop(0);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (!lodashFunc) {\n        return;\n      }\n      var checkIteratee = /^(?:filter|map|reject)|While$/.test(methodName),\n          retUnwrapped = /^(?:first|last)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments,\n            length = args.length,\n            chainAll = this.__chain__,\n            value = this.__wrapped__,\n            isHybrid = !!this.__actions__.length,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // avoid lazy use if the iteratee has a `length` other than `1`\n          isLazy = useLazy = false;\n        }\n        var onlyLazy = isLazy && !isHybrid;\n        if (retUnwrapped && !chainAll) {\n          return onlyLazy\n            ? func.call(value)\n            : lodashFunc.call(lodash, this.value());\n        }\n        var interceptor = function(value) {\n          var otherArgs = [value];\n          push.apply(otherArgs, args);\n          return lodashFunc.apply(lodash, otherArgs);\n        };\n        if (useLazy) {\n          var wrapper = onlyLazy ? value : new LazyWrapper(this),\n              result = func.apply(wrapper, args);\n\n          if (!retUnwrapped && (isHybrid || result.__actions__)) {\n            var actions = result.__actions__ || (result.__actions__ = []);\n            actions.push({ 'func': thru, 'args': [interceptor], 'thisArg': lodash });\n          }\n          return new LodashWrapper(result, chainAll);\n        }\n        return this.thru(interceptor);\n      };\n    });\n\n    // Add `Array` and `String` methods to `lodash.prototype`.\n    arrayEach(['concat', 'join', 'pop', 'push', 'replace', 'shift', 'sort', 'splice', 'split', 'unshift'], function(methodName) {\n      var func = (/^(?:replace|split)$/.test(methodName) ? stringProto : arrayProto)[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:join|pop|replace|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          return func.apply(this.value(), args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(value, args);\n        });\n      };\n    });\n\n    // Map minified function names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name,\n            names = realNames[key] || (realNames[key] = []);\n\n        names.push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybridWrapper(null, BIND_KEY_FLAG).name] = [{ 'name': 'wrapper', 'func': null }];\n\n    // Add functions to the lazy wrapper.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chaining functions to the `lodash` wrapper.\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toString = wrapperToString;\n    lodash.prototype.run = lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add function aliases to the `lodash` wrapper.\n    lodash.prototype.collect = lodash.prototype.map;\n    lodash.prototype.head = lodash.prototype.first;\n    lodash.prototype.select = lodash.prototype.filter;\n    lodash.prototype.tail = lodash.prototype.rest;\n\n    return lodash;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers like r.js check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose lodash to the global object when an AMD loader is present to avoid\n    // errors in cases where lodash is loaded by a script tag and not intended\n    // as an AMD module. See http://requirejs.org/docs/errors.html#mismatch for\n    // more details.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.\n  else if (freeExports && freeModule) {\n    // Export for Node.js or RingoJS.\n    if (moduleExports) {\n      (freeModule.exports = _)._ = _;\n    }\n    // Export for Narwhal or Rhino -require.\n    else {\n      freeExports._ = _;\n    }\n  }\n  else {\n    // Export for a browser or Rhino.\n    root._ = _;\n  }\n}.call(this));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],4:[function(require,module,exports){\n/*\n * Copyright 2012-2013 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n(function (define, location) {\n\t'use strict';\n\n\tvar undef;\n\n\tdefine(function (require) {\n\n\t\tvar mixin, origin, urlRE, absoluteUrlRE, fullyQualifiedUrlRE;\n\n\t\tmixin = require('./util/mixin');\n\n\t\turlRE = /([a-z][a-z0-9\\+\\-\\.]*:)\\/\\/([^@]+@)?(([^:\\/]+)(:([0-9]+))?)?(\\/[^?#]*)?(\\?[^#]*)?(#\\S*)?/i;\n\t\tabsoluteUrlRE = /^([a-z][a-z0-9\\-\\+\\.]*:\\/\\/|\\/)/i;\n\t\tfullyQualifiedUrlRE = /([a-z][a-z0-9\\+\\-\\.]*:)\\/\\/([^@]+@)?(([^:\\/]+)(:([0-9]+))?)?\\//i;\n\n\t\t/**\n\t\t * Apply params to the template to create a URL.\n\t\t *\n\t\t * Parameters that are not applied directly to the template, are appended\n\t\t * to the URL as query string parameters.\n\t\t *\n\t\t * @param {string} template the URI template\n\t\t * @param {Object} params parameters to apply to the template\n\t\t * @return {string} the resulting URL\n\t\t */\n\t\tfunction buildUrl(template, params) {\n\t\t\t// internal builder to convert template with params.\n\t\t\tvar url, name, queryStringParams, re;\n\n\t\t\turl = template;\n\t\t\tqueryStringParams = {};\n\n\t\t\tif (params) {\n\t\t\t\tfor (name in params) {\n\t\t\t\t\t/*jshint forin:false */\n\t\t\t\t\tre = new RegExp('\\\\{' + name + '\\\\}');\n\t\t\t\t\tif (re.test(url)) {\n\t\t\t\t\t\turl = url.replace(re, encodeURIComponent(params[name]), 'g');\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tqueryStringParams[name] = params[name];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (name in queryStringParams) {\n\t\t\t\t\turl += url.indexOf('?') === -1 ? '?' : '&';\n\t\t\t\t\turl += encodeURIComponent(name);\n\t\t\t\t\tif (queryStringParams[name] !== null && queryStringParams[name] !== undefined) {\n\t\t\t\t\t\turl += '=';\n\t\t\t\t\t\turl += encodeURIComponent(queryStringParams[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn url;\n\t\t}\n\n\t\tfunction startsWith(str, test) {\n\t\t\treturn str.indexOf(test) === 0;\n\t\t}\n\n\t\t/**\n\t\t * Create a new URL Builder\n\t\t *\n\t\t * @param {string|UrlBuilder} template the base template to build from, may be another UrlBuilder\n\t\t * @param {Object} [params] base parameters\n\t\t * @constructor\n\t\t */\n\t\tfunction UrlBuilder(template, params) {\n\t\t\tif (!(this instanceof UrlBuilder)) {\n\t\t\t\t// invoke as a constructor\n\t\t\t\treturn new UrlBuilder(template, params);\n\t\t\t}\n\n\t\t\tif (template instanceof UrlBuilder) {\n\t\t\t\tthis._template = template.template;\n\t\t\t\tthis._params = mixin({}, this._params, params);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._template = (template || '').toString();\n\t\t\t\tthis._params = params || {};\n\t\t\t}\n\t\t}\n\n\t\tUrlBuilder.prototype = {\n\n\t\t\t/**\n\t\t\t * Create a new UrlBuilder instance that extends the current builder.\n\t\t\t * The current builder is unmodified.\n\t\t\t *\n\t\t\t * @param {string} [template] URL template to append to the current template\n\t\t\t * @param {Object} [params] params to combine with current params.  New params override existing params\n\t\t\t * @return {UrlBuilder} the new builder\n\t\t\t */\n\t\t\tappend: function (template,  params) {\n\t\t\t\t// TODO consider query strings and fragments\n\t\t\t\treturn new UrlBuilder(this._template + template, mixin({}, this._params, params));\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Create a new UrlBuilder with a fully qualified URL based on the\n\t\t\t * window's location or base href and the current templates relative URL.\n\t\t\t *\n\t\t\t * Path variables are preserved.\n\t\t\t *\n\t\t\t * *Browser only*\n\t\t\t *\n\t\t\t * @return {UrlBuilder} the fully qualified URL template\n\t\t\t */\n\t\t\tfullyQualify: function () {\n\t\t\t\tif (!location) { return this; }\n\t\t\t\tif (this.isFullyQualified()) { return this; }\n\n\t\t\t\tvar template = this._template;\n\n\t\t\t\tif (startsWith(template, '//')) {\n\t\t\t\t\ttemplate = origin.protocol + template;\n\t\t\t\t}\n\t\t\t\telse if (startsWith(template, '/')) {\n\t\t\t\t\ttemplate = origin.origin + template;\n\t\t\t\t}\n\t\t\t\telse if (!this.isAbsolute()) {\n\t\t\t\t\ttemplate = origin.origin + origin.pathname.substring(0, origin.pathname.lastIndexOf('/') + 1);\n\t\t\t\t}\n\n\t\t\t\tif (template.indexOf('/', 8) === -1) {\n\t\t\t\t\t// default the pathname to '/'\n\t\t\t\t\ttemplate = template + '/';\n\t\t\t\t}\n\n\t\t\t\treturn new UrlBuilder(template, this._params);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * True if the URL is absolute\n\t\t\t *\n\t\t\t * @return {boolean}\n\t\t\t */\n\t\t\tisAbsolute: function () {\n\t\t\t\treturn absoluteUrlRE.test(this.build());\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * True if the URL is fully qualified\n\t\t\t *\n\t\t\t * @return {boolean}\n\t\t\t */\n\t\t\tisFullyQualified: function () {\n\t\t\t\treturn fullyQualifiedUrlRE.test(this.build());\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * True if the URL is cross origin. The protocol, host and port must not be\n\t\t\t * the same in order to be cross origin,\n\t\t\t *\n\t\t\t * @return {boolean}\n\t\t\t */\n\t\t\tisCrossOrigin: function () {\n\t\t\t\tif (!origin) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tvar url = this.parts();\n\t\t\t\treturn url.protocol !== origin.protocol ||\n\t\t\t\t       url.hostname !== origin.hostname ||\n\t\t\t\t       url.port !== origin.port;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Split a URL into its consituent parts following the naming convention of\n\t\t\t * 'window.location'. One difference is that the port will contain the\n\t\t\t * protocol default if not specified.\n\t\t\t *\n\t\t\t * @see https://developer.mozilla.org/en-US/docs/DOM/window.location\n\t\t\t *\n\t\t\t * @returns {Object} a 'window.location'-like object\n\t\t\t */\n\t\t\tparts: function () {\n\t\t\t\t/*jshint maxcomplexity:20 */\n\t\t\t\tvar url, parts;\n\t\t\t\turl = this.fullyQualify().build().match(urlRE);\n\t\t\t\tparts = {\n\t\t\t\t\thref: url[0],\n\t\t\t\t\tprotocol: url[1],\n\t\t\t\t\thost: url[3] || '',\n\t\t\t\t\thostname: url[4] || '',\n\t\t\t\t\tport: url[6],\n\t\t\t\t\tpathname: url[7] || '',\n\t\t\t\t\tsearch: url[8] || '',\n\t\t\t\t\thash: url[9] || ''\n\t\t\t\t};\n\t\t\t\tparts.origin = parts.protocol + '//' + parts.host;\n\t\t\t\tparts.port = parts.port || (parts.protocol === 'https:' ? '443' : parts.protocol === 'http:' ? '80' : '');\n\t\t\t\treturn parts;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Expand the template replacing path variables with parameters\n\t\t\t *\n\t\t\t * @param {Object} [params] params to combine with current params.  New params override existing params\n\t\t\t * @return {string} the expanded URL\n\t\t\t */\n\t\t\tbuild: function (params) {\n\t\t\t\treturn buildUrl(this._template, mixin({}, this._params, params));\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @see build\n\t\t\t */\n\t\t\ttoString: function () {\n\t\t\t\treturn this.build();\n\t\t\t}\n\n\t\t};\n\n\t\torigin = location ? new UrlBuilder(location.href).parts() : undef;\n\n\t\treturn UrlBuilder;\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); },\n\ttypeof window !== 'undefined' ? window.location : void 0\n\t// Boilerplate for AMD and Node\n));\n\n},{\"./util/mixin\":42}],5:[function(require,module,exports){\n/*\n * Copyright 2014 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n(function (define) {\n\t'use strict';\n\n\tdefine(function (require) {\n\n\t\tvar rest = require('./client/default'),\n\t\t    browser = require('./client/xhr');\n\n\t\trest.setPlatformDefaultClient(browser);\n\n\t\treturn rest;\n\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); }\n\t// Boilerplate for AMD and Node\n));\n\n},{\"./client/default\":7,\"./client/xhr\":8}],6:[function(require,module,exports){\n/*\n * Copyright 2014 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n(function (define) {\n\t'use strict';\n\n\tdefine(function (/* require */) {\n\n\t\t/**\n\t\t * Add common helper methods to a client impl\n\t\t *\n\t\t * @param {function} impl the client implementation\n\t\t * @param {Client} [target] target of this client, used when wrapping other clients\n\t\t * @returns {Client} the client impl with additional methods\n\t\t */\n\t\treturn function client(impl, target) {\n\n\t\t\tif (target) {\n\n\t\t\t\t/**\n\t\t\t\t * @returns {Client} the target client\n\t\t\t\t */\n\t\t\t\timpl.skip = function skip() {\n\t\t\t\t\treturn target;\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Allow a client to easily be wrapped by an interceptor\n\t\t\t *\n\t\t\t * @param {Interceptor} interceptor the interceptor to wrap this client with\n\t\t\t * @param [config] configuration for the interceptor\n\t\t\t * @returns {Client} the newly wrapped client\n\t\t\t */\n\t\t\timpl.wrap = function wrap(interceptor, config) {\n\t\t\t\treturn interceptor(impl, config);\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * @deprecated\n\t\t\t */\n\t\t\timpl.chain = function chain() {\n\t\t\t\tif (typeof console !== 'undefined') {\n\t\t\t\t\tconsole.log('rest.js: client.chain() is deprecated, use client.wrap() instead');\n\t\t\t\t}\n\n\t\t\t\treturn impl.wrap.apply(this, arguments);\n\t\t\t};\n\n\t\t\treturn impl;\n\n\t\t};\n\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); }\n\t// Boilerplate for AMD and Node\n));\n\n},{}],7:[function(require,module,exports){\n/*\n * Copyright 2014 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n(function (define) {\n\t'use strict';\n\n\tvar undef;\n\n\tdefine(function (require) {\n\n\t\t/**\n\t\t * Plain JS Object containing properties that represent an HTTP request.\n\t\t *\n\t\t * Depending on the capabilities of the underlying client, a request\n\t\t * may be cancelable. If a request may be canceled, the client will add\n\t\t * a canceled flag and cancel function to the request object. Canceling\n\t\t * the request will put the response into an error state.\n\t\t *\n\t\t * @field {string} [method='GET'] HTTP method, commonly GET, POST, PUT, DELETE or HEAD\n\t\t * @field {string|UrlBuilder} [path=''] path template with optional path variables\n\t\t * @field {Object} [params] parameters for the path template and query string\n\t\t * @field {Object} [headers] custom HTTP headers to send, in addition to the clients default headers\n\t\t * @field [entity] the HTTP entity, common for POST or PUT requests\n\t\t * @field {boolean} [canceled] true if the request has been canceled, set by the client\n\t\t * @field {Function} [cancel] cancels the request if invoked, provided by the client\n\t\t * @field {Client} [originator] the client that first handled this request, provided by the interceptor\n\t\t *\n\t\t * @class Request\n\t\t */\n\n\t\t/**\n\t\t * Plain JS Object containing properties that represent an HTTP response\n\t\t *\n\t\t * @field {Object} [request] the request object as received by the root client\n\t\t * @field {Object} [raw] the underlying request object, like XmlHttpRequest in a browser\n\t\t * @field {number} [status.code] status code of the response (i.e. 200, 404)\n\t\t * @field {string} [status.text] status phrase of the response\n\t\t * @field {Object] [headers] response headers hash of normalized name, value pairs\n\t\t * @field [entity] the response body\n\t\t *\n\t\t * @class Response\n\t\t */\n\n\t\t/**\n\t\t * HTTP client particularly suited for RESTful operations.\n\t\t *\n\t\t * @field {function} wrap wraps this client with a new interceptor returning the wrapped client\n\t\t *\n\t\t * @param {Request} the HTTP request\n\t\t * @returns {ResponsePromise<Response>} a promise the resolves to the HTTP response\n\t\t *\n\t\t * @class Client\n\t\t */\n\n\t\t /**\n\t\t  * Extended when.js Promises/A+ promise with HTTP specific helpers\n\t\t  *q\n\t\t  * @method entity promise for the HTTP entity\n\t\t  * @method status promise for the HTTP status code\n\t\t  * @method headers promise for the HTTP response headers\n\t\t  * @method header promise for a specific HTTP response header\n\t\t  *\n\t\t  * @class ResponsePromise\n\t\t  * @extends Promise\n\t\t  */\n\n\t\tvar client, target, platformDefault;\n\n\t\tclient = require('../client');\n\n\t\t/**\n\t\t * Make a request with the default client\n\t\t * @param {Request} the HTTP request\n\t\t * @returns {Promise<Response>} a promise the resolves to the HTTP response\n\t\t */\n\t\tfunction defaultClient() {\n\t\t\treturn target.apply(undef, arguments);\n\t\t}\n\n\t\t/**\n\t\t * Change the default client\n\t\t * @param {Client} client the new default client\n\t\t */\n\t\tdefaultClient.setDefaultClient = function setDefaultClient(client) {\n\t\t\ttarget = client;\n\t\t};\n\n\t\t/**\n\t\t * Obtain a direct reference to the current default client\n\t\t * @returns {Client} the default client\n\t\t */\n\t\tdefaultClient.getDefaultClient = function getDefaultClient() {\n\t\t\treturn target;\n\t\t};\n\n\t\t/**\n\t\t * Reset the default client to the platform default\n\t\t */\n\t\tdefaultClient.resetDefaultClient = function resetDefaultClient() {\n\t\t\ttarget = platformDefault;\n\t\t};\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tdefaultClient.setPlatformDefaultClient = function setPlatformDefaultClient(client) {\n\t\t\tif (platformDefault) {\n\t\t\t\tthrow new Error('Unable to redefine platformDefaultClient');\n\t\t\t}\n\t\t\ttarget = platformDefault = client;\n\t\t};\n\n\t\treturn client(defaultClient);\n\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); }\n\t// Boilerplate for AMD and Node\n));\n\n},{\"../client\":6}],8:[function(require,module,exports){\n/*\n * Copyright 2012-2014 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n(function (define, global) {\n\t'use strict';\n\n\tdefine(function (require) {\n\n\t\tvar when, UrlBuilder, normalizeHeaderName, responsePromise, client, headerSplitRE;\n\n\t\twhen = require('when');\n\t\tUrlBuilder = require('../UrlBuilder');\n\t\tnormalizeHeaderName = require('../util/normalizeHeaderName');\n\t\tresponsePromise = require('../util/responsePromise');\n\t\tclient = require('../client');\n\n\t\t// according to the spec, the line break is '\\r\\n', but doesn't hold true in practice\n\t\theaderSplitRE = /[\\r|\\n]+/;\n\n\t\tfunction parseHeaders(raw) {\n\t\t\t// Note: Set-Cookie will be removed by the browser\n\t\t\tvar headers = {};\n\n\t\t\tif (!raw) { return headers; }\n\n\t\t\traw.trim().split(headerSplitRE).forEach(function (header) {\n\t\t\t\tvar boundary, name, value;\n\t\t\t\tboundary = header.indexOf(':');\n\t\t\t\tname = normalizeHeaderName(header.substring(0, boundary).trim());\n\t\t\t\tvalue = header.substring(boundary + 1).trim();\n\t\t\t\tif (headers[name]) {\n\t\t\t\t\tif (Array.isArray(headers[name])) {\n\t\t\t\t\t\t// add to an existing array\n\t\t\t\t\t\theaders[name].push(value);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// convert single value to array\n\t\t\t\t\t\theaders[name] = [headers[name], value];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// new, single value\n\t\t\t\t\theaders[name] = value;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn headers;\n\t\t}\n\n\t\tfunction safeMixin(target, source) {\n\t\t\tObject.keys(source || {}).forEach(function (prop) {\n\t\t\t\t// make sure the property already exists as\n\t\t\t\t// IE 6 will blow up if we add a new prop\n\t\t\t\tif (source.hasOwnProperty(prop) && prop in target) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\ttarget[prop] = source[prop];\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\t// ignore, expected for some properties at some points in the request lifecycle\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn target;\n\t\t}\n\n\t\treturn client(function xhr(request) {\n\t\t\treturn responsePromise.promise(function (resolve, reject) {\n\t\t\t\t/*jshint maxcomplexity:20 */\n\n\t\t\t\tvar client, method, url, headers, entity, headerName, response, XMLHttpRequest;\n\n\t\t\t\trequest = typeof request === 'string' ? { path: request } : request || {};\n\t\t\t\tresponse = { request: request };\n\n\t\t\t\tif (request.canceled) {\n\t\t\t\t\tresponse.error = 'precanceled';\n\t\t\t\t\treject(response);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tXMLHttpRequest = request.engine || global.XMLHttpRequest;\n\t\t\t\tif (!XMLHttpRequest) {\n\t\t\t\t\treject({ request: request, error: 'xhr-not-available' });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tentity = request.entity;\n\t\t\t\trequest.method = request.method || (entity ? 'POST' : 'GET');\n\t\t\t\tmethod = request.method;\n\t\t\t\turl = new UrlBuilder(request.path || '', request.params).build();\n\n\t\t\t\ttry {\n\t\t\t\t\tclient = response.raw = new XMLHttpRequest();\n\n\t\t\t\t\t// mixin extra request properties before and after opening the request as some properties require being set at different phases of the request\n\t\t\t\t\tsafeMixin(client, request.mixin);\n\t\t\t\t\tclient.open(method, url, true);\n\t\t\t\t\tsafeMixin(client, request.mixin);\n\n\t\t\t\t\theaders = request.headers;\n\t\t\t\t\tfor (headerName in headers) {\n\t\t\t\t\t\t/*jshint forin:false */\n\t\t\t\t\t\tif (headerName === 'Content-Type' && headers[headerName] === 'multipart/form-data') {\n\t\t\t\t\t\t\t// XMLHttpRequest generates its own Content-Type header with the\n\t\t\t\t\t\t\t// appropriate multipart boundary when sending multipart/form-data.\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tclient.setRequestHeader(headerName, headers[headerName]);\n\t\t\t\t\t}\n\n\t\t\t\t\trequest.canceled = false;\n\t\t\t\t\trequest.cancel = function cancel() {\n\t\t\t\t\t\trequest.canceled = true;\n\t\t\t\t\t\tclient.abort();\n\t\t\t\t\t\treject(response);\n\t\t\t\t\t};\n\n\t\t\t\t\tclient.onreadystatechange = function (/* e */) {\n\t\t\t\t\t\tif (request.canceled) { return; }\n\t\t\t\t\t\tif (client.readyState === (XMLHttpRequest.DONE || 4)) {\n\t\t\t\t\t\t\tresponse.status = {\n\t\t\t\t\t\t\t\tcode: client.status,\n\t\t\t\t\t\t\t\ttext: client.statusText\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tresponse.headers = parseHeaders(client.getAllResponseHeaders());\n\t\t\t\t\t\t\tresponse.entity = client.responseText;\n\n\t\t\t\t\t\t\tif (response.status.code > 0) {\n\t\t\t\t\t\t\t\t// check status code as readystatechange fires before error event\n\t\t\t\t\t\t\t\tresolve(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t// give the error callback a chance to fire before resolving\n\t\t\t\t\t\t\t\t// requests for file:// URLs do not have a status code\n\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\tresolve(response);\n\t\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tclient.onerror = function (/* e */) {\n\t\t\t\t\t\t\tresponse.error = 'loaderror';\n\t\t\t\t\t\t\treject(response);\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\t// IE 6 will not support error handling\n\t\t\t\t\t}\n\n\t\t\t\t\tclient.send(entity);\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\tresponse.error = 'loaderror';\n\t\t\t\t\treject(response);\n\t\t\t\t}\n\n\t\t\t});\n\t\t});\n\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); },\n\ttypeof window !== 'undefined' ? window : void 0\n\t// Boilerplate for AMD and Node\n));\n\n},{\"../UrlBuilder\":4,\"../client\":6,\"../util/normalizeHeaderName\":43,\"../util/responsePromise\":44,\"when\":39}],9:[function(require,module,exports){\n/*\n * Copyright 2012-2015 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n(function (define) {\n\t'use strict';\n\n\tdefine(function (require) {\n\n\t\tvar defaultClient, mixin, responsePromise, client, when;\n\n\t\tdefaultClient = require('./client/default');\n\t\tmixin = require('./util/mixin');\n\t\tresponsePromise = require('./util/responsePromise');\n\t\tclient = require('./client');\n\t\twhen = require('when');\n\n\t\t/**\n\t\t * Interceptors have the ability to intercept the request and/org response\n\t\t * objects.  They may augment, prune, transform or replace the\n\t\t * request/response as needed.  Clients may be composed by wrapping\n\t\t * together multiple interceptors.\n\t\t *\n\t\t * Configured interceptors are functional in nature.  Wrapping a client in\n\t\t * an interceptor will not affect the client, merely the data that flows in\n\t\t * and out of that client.  A common configuration can be created once and\n\t\t * shared; specialization can be created by further wrapping that client\n\t\t * with custom interceptors.\n\t\t *\n\t\t * @param {Client} [target] client to wrap\n\t\t * @param {Object} [config] configuration for the interceptor, properties will be specific to the interceptor implementation\n\t\t * @returns {Client} A client wrapped with the interceptor\n\t\t *\n\t\t * @class Interceptor\n\t\t */\n\n\t\tfunction defaultInitHandler(config) {\n\t\t\treturn config;\n\t\t}\n\n\t\tfunction defaultRequestHandler(request /*, config, meta */) {\n\t\t\treturn request;\n\t\t}\n\n\t\tfunction defaultResponseHandler(response /*, config, meta */) {\n\t\t\treturn response;\n\t\t}\n\n\t\tfunction race(promisesOrValues) {\n\t\t\t// this function is different than when.any as the first to reject also wins\n\t\t\treturn when.promise(function (resolve, reject) {\n\t\t\t\tpromisesOrValues.forEach(function (promiseOrValue) {\n\t\t\t\t\twhen(promiseOrValue, resolve, reject);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Alternate return type for the request handler that allows for more complex interactions.\n\t\t *\n\t\t * @param properties.request the traditional request return object\n\t\t * @param {Promise} [properties.abort] promise that resolves if/when the request is aborted\n\t\t * @param {Client} [properties.client] override the defined client with an alternate client\n\t\t * @param [properties.response] response for the request, short circuit the request\n\t\t */\n\t\tfunction ComplexRequest(properties) {\n\t\t\tif (!(this instanceof ComplexRequest)) {\n\t\t\t\t// in case users forget the 'new' don't mix into the interceptor\n\t\t\t\treturn new ComplexRequest(properties);\n\t\t\t}\n\t\t\tmixin(this, properties);\n\t\t}\n\n\t\t/**\n\t\t * Create a new interceptor for the provided handlers.\n\t\t *\n\t\t * @param {Function} [handlers.init] one time intialization, must return the config object\n\t\t * @param {Function} [handlers.request] request handler\n\t\t * @param {Function} [handlers.response] response handler regardless of error state\n\t\t * @param {Function} [handlers.success] response handler when the request is not in error\n\t\t * @param {Function} [handlers.error] response handler when the request is in error, may be used to 'unreject' an error state\n\t\t * @param {Function} [handlers.client] the client to use if otherwise not specified, defaults to platform default client\n\t\t *\n\t\t * @returns {Interceptor}\n\t\t */\n\t\tfunction interceptor(handlers) {\n\n\t\t\tvar initHandler, requestHandler, successResponseHandler, errorResponseHandler;\n\n\t\t\thandlers = handlers || {};\n\n\t\t\tinitHandler            = handlers.init    || defaultInitHandler;\n\t\t\trequestHandler         = handlers.request || defaultRequestHandler;\n\t\t\tsuccessResponseHandler = handlers.success || handlers.response || defaultResponseHandler;\n\t\t\terrorResponseHandler   = handlers.error   || function () {\n\t\t\t\t// Propagate the rejection, with the result of the handler\n\t\t\t\treturn when((handlers.response || defaultResponseHandler).apply(this, arguments), when.reject, when.reject);\n\t\t\t};\n\n\t\t\treturn function (target, config) {\n\n\t\t\t\tif (typeof target === 'object') {\n\t\t\t\t\tconfig = target;\n\t\t\t\t}\n\t\t\t\tif (typeof target !== 'function') {\n\t\t\t\t\ttarget = handlers.client || defaultClient;\n\t\t\t\t}\n\n\t\t\t\tconfig = initHandler(config || {});\n\n\t\t\t\tfunction interceptedClient(request) {\n\t\t\t\t\tvar context, meta;\n\t\t\t\t\tcontext = {};\n\t\t\t\t\tmeta = { 'arguments': Array.prototype.slice.call(arguments), client: interceptedClient };\n\t\t\t\t\trequest = typeof request === 'string' ? { path: request } : request || {};\n\t\t\t\t\trequest.originator = request.originator || interceptedClient;\n\t\t\t\t\treturn responsePromise(\n\t\t\t\t\t\trequestHandler.call(context, request, config, meta),\n\t\t\t\t\t\tfunction (request) {\n\t\t\t\t\t\t\tvar response, abort, next;\n\t\t\t\t\t\t\tnext = target;\n\t\t\t\t\t\t\tif (request instanceof ComplexRequest) {\n\t\t\t\t\t\t\t\t// unpack request\n\t\t\t\t\t\t\t\tabort = request.abort;\n\t\t\t\t\t\t\t\tnext = request.client || next;\n\t\t\t\t\t\t\t\tresponse = request.response;\n\t\t\t\t\t\t\t\t// normalize request, must be last\n\t\t\t\t\t\t\t\trequest = request.request;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresponse = response || when(request, function (request) {\n\t\t\t\t\t\t\t\treturn when(\n\t\t\t\t\t\t\t\t\tnext(request),\n\t\t\t\t\t\t\t\t\tfunction (response) {\n\t\t\t\t\t\t\t\t\t\treturn successResponseHandler.call(context, response, config, meta);\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tfunction (response) {\n\t\t\t\t\t\t\t\t\t\treturn errorResponseHandler.call(context, response, config, meta);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn abort ? race([response, abort]) : response;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction (error) {\n\t\t\t\t\t\t\treturn when.reject({ request: request, error: error });\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn client(interceptedClient, target);\n\t\t\t};\n\t\t}\n\n\t\tinterceptor.ComplexRequest = ComplexRequest;\n\n\t\treturn interceptor;\n\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); }\n\t// Boilerplate for AMD and Node\n));\n\n},{\"./client\":6,\"./client/default\":7,\"./util/mixin\":42,\"./util/responsePromise\":44,\"when\":39}],10:[function(require,module,exports){\n/*\n * Copyright 2013 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n(function (define) {\n\t'use strict';\n\n\tdefine(function (require) {\n\n\t\tvar interceptor, mixinUtil, defaulter;\n\n\t\tinterceptor = require('../interceptor');\n\t\tmixinUtil = require('../util/mixin');\n\n\t\tdefaulter = (function () {\n\n\t\t\tfunction mixin(prop, target, defaults) {\n\t\t\t\tif (prop in target || prop in defaults) {\n\t\t\t\t\ttarget[prop] = mixinUtil({}, defaults[prop], target[prop]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction copy(prop, target, defaults) {\n\t\t\t\tif (prop in defaults && !(prop in target)) {\n\t\t\t\t\ttarget[prop] = defaults[prop];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar mappings = {\n\t\t\t\tmethod: copy,\n\t\t\t\tpath: copy,\n\t\t\t\tparams: mixin,\n\t\t\t\theaders: mixin,\n\t\t\t\tentity: copy,\n\t\t\t\tmixin: mixin\n\t\t\t};\n\n\t\t\treturn function (target, defaults) {\n\t\t\t\tfor (var prop in mappings) {\n\t\t\t\t\t/*jshint forin: false */\n\t\t\t\t\tmappings[prop](prop, target, defaults);\n\t\t\t\t}\n\t\t\t\treturn target;\n\t\t\t};\n\n\t\t}());\n\n\t\t/**\n\t\t * Provide default values for a request. These values will be applied to the\n\t\t * request if the request object does not already contain an explicit value.\n\t\t *\n\t\t * For 'params', 'headers', and 'mixin', individual values are mixed in with the\n\t\t * request's values. The result is a new object representiing the combined\n\t\t * request and config values. Neither input object is mutated.\n\t\t *\n\t\t * @param {Client} [client] client to wrap\n\t\t * @param {string} [config.method] the default method\n\t\t * @param {string} [config.path] the default path\n\t\t * @param {Object} [config.params] the default params, mixed with the request's existing params\n\t\t * @param {Object} [config.headers] the default headers, mixed with the request's existing headers\n\t\t * @param {Object} [config.mixin] the default \"mixins\" (http/https options), mixed with the request's existing \"mixins\"\n\t\t *\n\t\t * @returns {Client}\n\t\t */\n\t\treturn interceptor({\n\t\t\trequest: function handleRequest(request, config) {\n\t\t\t\treturn defaulter(request, config);\n\t\t\t}\n\t\t});\n\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); }\n\t// Boilerplate for AMD and Node\n));\n\n},{\"../interceptor\":9,\"../util/mixin\":42}],11:[function(require,module,exports){\n/*\n * Copyright 2012-2013 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n(function (define) {\n\t'use strict';\n\n\tdefine(function (require) {\n\n\t\tvar interceptor, when;\n\n\t\tinterceptor = require('../interceptor');\n\t\twhen = require('when');\n\n\t\t/**\n\t\t * Rejects the response promise based on the status code.\n\t\t *\n\t\t * Codes greater than or equal to the provided value are rejected.  Default\n\t\t * value 400.\n\t\t *\n\t\t * @param {Client} [client] client to wrap\n\t\t * @param {number} [config.code=400] code to indicate a rejection\n\t\t *\n\t\t * @returns {Client}\n\t\t */\n\t\treturn interceptor({\n\t\t\tinit: function (config) {\n\t\t\t\tconfig.code = config.code || 400;\n\t\t\t\treturn config;\n\t\t\t},\n\t\t\tresponse: function (response, config) {\n\t\t\t\tif (response.status && response.status.code >= config.code) {\n\t\t\t\t\treturn when.reject(response);\n\t\t\t\t}\n\t\t\t\treturn response;\n\t\t\t}\n\t\t});\n\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); }\n\t// Boilerplate for AMD and Node\n));\n\n},{\"../interceptor\":9,\"when\":39}],12:[function(require,module,exports){\n/*\n * Copyright 2012-2014 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n(function (define) {\n\t'use strict';\n\n\tdefine(function (require) {\n\n\t\tvar interceptor, mime, registry, noopConverter, when;\n\n\t\tinterceptor = require('../interceptor');\n\t\tmime = require('../mime');\n\t\tregistry = require('../mime/registry');\n\t\twhen = require('when');\n\n\t\tnoopConverter = {\n\t\t\tread: function (obj) { return obj; },\n\t\t\twrite: function (obj) { return obj; }\n\t\t};\n\n\t\t/**\n\t\t * MIME type support for request and response entities.  Entities are\n\t\t * (de)serialized using the converter for the MIME type.\n\t\t *\n\t\t * Request entities are converted using the desired converter and the\n\t\t * 'Accept' request header prefers this MIME.\n\t\t *\n\t\t * Response entities are converted based on the Content-Type response header.\n\t\t *\n\t\t * @param {Client} [client] client to wrap\n\t\t * @param {string} [config.mime='text/plain'] MIME type to encode the request\n\t\t *   entity\n\t\t * @param {string} [config.accept] Accept header for the request\n\t\t * @param {Client} [config.client=<request.originator>] client passed to the\n\t\t *   converter, defaults to the client originating the request\n\t\t * @param {Registry} [config.registry] MIME registry, defaults to the root\n\t\t *   registry\n\t\t * @param {boolean} [config.permissive] Allow an unkown request MIME type\n\t\t *\n\t\t * @returns {Client}\n\t\t */\n\t\treturn interceptor({\n\t\t\tinit: function (config) {\n\t\t\t\tconfig.registry = config.registry || registry;\n\t\t\t\treturn config;\n\t\t\t},\n\t\t\trequest: function (request, config) {\n\t\t\t\tvar type, headers;\n\n\t\t\t\theaders = request.headers || (request.headers = {});\n\t\t\t\ttype = mime.parse(headers['Content-Type'] = headers['Content-Type'] || config.mime || 'text/plain');\n\t\t\t\theaders.Accept = headers.Accept || config.accept || type.raw + ', application/json;q=0.8, text/plain;q=0.5, */*;q=0.2';\n\n\t\t\t\tif (!('entity' in request)) {\n\t\t\t\t\treturn request;\n\t\t\t\t}\n\n\t\t\t\treturn config.registry.lookup(type).otherwise(function () {\n\t\t\t\t\t// failed to resolve converter\n\t\t\t\t\tif (config.permissive) {\n\t\t\t\t\t\treturn noopConverter;\n\t\t\t\t\t}\n\t\t\t\t\tthrow 'mime-unknown';\n\t\t\t\t}).then(function (converter) {\n\t\t\t\t\tvar client = config.client || request.originator;\n\n\t\t\t\t\treturn when.attempt(converter.write, request.entity, { client: client, request: request, mime: type, registry: config.registry })\n\t\t\t\t\t\t.otherwise(function() {\n\t\t\t\t\t\t\tthrow 'mime-serialization';\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(function(entity) {\n\t\t\t\t\t\t\trequest.entity = entity;\n\t\t\t\t\t\t\treturn request;\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\tresponse: function (response, config) {\n\t\t\t\tif (!(response.headers && response.headers['Content-Type'] && response.entity)) {\n\t\t\t\t\treturn response;\n\t\t\t\t}\n\n\t\t\t\tvar type = mime.parse(response.headers['Content-Type']);\n\n\t\t\t\treturn config.registry.lookup(type).otherwise(function () { return noopConverter; }).then(function (converter) {\n\t\t\t\t\tvar client = config.client || response.request && response.request.originator;\n\n\t\t\t\t\treturn when.attempt(converter.read, response.entity, { client: client, response: response, mime: type, registry: config.registry })\n\t\t\t\t\t\t.otherwise(function (e) {\n\t\t\t\t\t\t\tresponse.error = 'mime-deserialization';\n\t\t\t\t\t\t\tresponse.cause = e;\n\t\t\t\t\t\t\tthrow response;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(function (entity) {\n\t\t\t\t\t\t\tresponse.entity = entity;\n\t\t\t\t\t\t\treturn response;\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); }\n\t// Boilerplate for AMD and Node\n));\n\n},{\"../interceptor\":9,\"../mime\":15,\"../mime/registry\":16,\"when\":39}],13:[function(require,module,exports){\n/*\n * Copyright 2012-2013 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n(function (define) {\n\t'use strict';\n\n\tdefine(function (require) {\n\n\t\tvar interceptor, UrlBuilder;\n\n\t\tinterceptor = require('../interceptor');\n\t\tUrlBuilder = require('../UrlBuilder');\n\n\t\tfunction startsWith(str, prefix) {\n\t\t\treturn str.indexOf(prefix) === 0;\n\t\t}\n\n\t\tfunction endsWith(str, suffix) {\n\t\t\treturn str.lastIndexOf(suffix) + suffix.length === str.length;\n\t\t}\n\n\t\t/**\n\t\t * Prefixes the request path with a common value.\n\t\t *\n\t\t * @param {Client} [client] client to wrap\n\t\t * @param {number} [config.prefix] path prefix\n\t\t *\n\t\t * @returns {Client}\n\t\t */\n\t\treturn interceptor({\n\t\t\trequest: function (request, config) {\n\t\t\t\tvar path;\n\n\t\t\t\tif (config.prefix && !(new UrlBuilder(request.path).isFullyQualified())) {\n\t\t\t\t\tpath = config.prefix;\n\t\t\t\t\tif (request.path) {\n\t\t\t\t\t\tif (!endsWith(path, '/') && !startsWith(request.path, '/')) {\n\t\t\t\t\t\t\t// add missing '/' between path sections\n\t\t\t\t\t\t\tpath += '/';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpath += request.path;\n\t\t\t\t\t}\n\t\t\t\t\trequest.path = path;\n\t\t\t\t}\n\n\t\t\t\treturn request;\n\t\t\t}\n\t\t});\n\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); }\n\t// Boilerplate for AMD and Node\n));\n\n},{\"../UrlBuilder\":4,\"../interceptor\":9}],14:[function(require,module,exports){\n/*\n * Copyright 2015 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n(function (define) {\n\t'use strict';\n\n\tdefine(function (require) {\n\n\t\tvar interceptor, uriTemplate, mixin;\n\n\t\tinterceptor = require('../interceptor');\n\t\turiTemplate = require('../util/uriTemplate');\n\t\tmixin = require('../util/mixin');\n\n\t\t/**\n\t\t * Applies request params to the path as a URI Template\n\t\t *\n\t\t * Params are removed from the request object, as they have been consumed.\n\t\t *\n\t\t * @param {Client} [client] client to wrap\n\t\t * @param {Object} [config.params] default param values\n\t\t * @param {string} [config.template] default template\n\t\t *\n\t\t * @returns {Client}\n\t\t */\n\t\treturn interceptor({\n\t\t\tinit: function (config) {\n\t\t\t\tconfig.params = config.params || {};\n\t\t\t\tconfig.template = config.template || '';\n\t\t\t\treturn config;\n\t\t\t},\n\t\t\trequest: function (request, config) {\n\t\t\t\tvar template, params;\n\n\t\t\t\ttemplate = request.path || config.template;\n\t\t\t\tparams = mixin({}, request.params, config.params);\n\n\t\t\t\trequest.path = uriTemplate.expand(template, params);\n\t\t\t\tdelete request.params;\n\n\t\t\t\treturn request;\n\t\t\t}\n\t\t});\n\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); }\n\t// Boilerplate for AMD and Node\n));\n\n},{\"../interceptor\":9,\"../util/mixin\":42,\"../util/uriTemplate\":46}],15:[function(require,module,exports){\n/*\n* Copyright 2014 the original author or authors\n* @license MIT, see LICENSE.txt for details\n*\n* @author Scott Andrews\n*/\n\n(function (define) {\n\t'use strict';\n\n\tvar undef;\n\n\tdefine(function (/* require */) {\n\n\t\t/**\n\t\t * Parse a MIME type into it's constituent parts\n\t\t *\n\t\t * @param {string} mime MIME type to parse\n\t\t * @return {{\n\t\t *   {string} raw the original MIME type\n\t\t *   {string} type the type and subtype\n\t\t *   {string} [suffix] mime suffix, including the plus, if any\n\t\t *   {Object} params key/value pair of attributes\n\t\t * }}\n\t\t */\n\t\tfunction parse(mime) {\n\t\t\tvar params, type;\n\n\t\t\tparams = mime.split(';');\n\t\t\ttype = params[0].trim().split('+');\n\n\t\t\treturn {\n\t\t\t\traw: mime,\n\t\t\t\ttype: type[0],\n\t\t\t\tsuffix: type[1] ? '+' + type[1] : '',\n\t\t\t\tparams: params.slice(1).reduce(function (params, pair) {\n\t\t\t\t\tpair = pair.split('=');\n\t\t\t\t\tparams[pair[0].trim()] = pair[1] ? pair[1].trim() : undef;\n\t\t\t\t\treturn params;\n\t\t\t\t}, {})\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tparse: parse\n\t\t};\n\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); }\n\t// Boilerplate for AMD and Node\n));\n\n},{}],16:[function(require,module,exports){\n/*\n * Copyright 2012-2014 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n(function (define) {\n\t'use strict';\n\n\tdefine(function (require) {\n\n\t\tvar mime, when, registry;\n\n\t\tmime = require('../mime');\n\t\twhen = require('when');\n\n\t\tfunction Registry(mimes) {\n\n\t\t\t/**\n\t\t\t * Lookup the converter for a MIME type\n\t\t\t *\n\t\t\t * @param {string} type the MIME type\n\t\t\t * @return a promise for the converter\n\t\t\t */\n\t\t\tthis.lookup = function lookup(type) {\n\t\t\t\tvar parsed;\n\n\t\t\t\tparsed = typeof type === 'string' ? mime.parse(type) : type;\n\n\t\t\t\tif (mimes[parsed.raw]) {\n\t\t\t\t\treturn mimes[parsed.raw];\n\t\t\t\t}\n\t\t\t\tif (mimes[parsed.type + parsed.suffix]) {\n\t\t\t\t\treturn mimes[parsed.type + parsed.suffix];\n\t\t\t\t}\n\t\t\t\tif (mimes[parsed.type]) {\n\t\t\t\t\treturn mimes[parsed.type];\n\t\t\t\t}\n\t\t\t\tif (mimes[parsed.suffix]) {\n\t\t\t\t\treturn mimes[parsed.suffix];\n\t\t\t\t}\n\n\t\t\t\treturn when.reject(new Error('Unable to locate converter for mime \"' + parsed.raw + '\"'));\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Create a late dispatched proxy to the target converter.\n\t\t\t *\n\t\t\t * Common when a converter is registered under multiple names and\n\t\t\t * should be kept in sync if updated.\n\t\t\t *\n\t\t\t * @param {string} type mime converter to dispatch to\n\t\t\t * @returns converter whose read/write methods target the desired mime converter\n\t\t\t */\n\t\t\tthis.delegate = function delegate(type) {\n\t\t\t\treturn {\n\t\t\t\t\tread: function () {\n\t\t\t\t\t\tvar args = arguments;\n\t\t\t\t\t\treturn this.lookup(type).then(function (converter) {\n\t\t\t\t\t\t\treturn converter.read.apply(this, args);\n\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t}.bind(this),\n\t\t\t\t\twrite: function () {\n\t\t\t\t\t\tvar args = arguments;\n\t\t\t\t\t\treturn this.lookup(type).then(function (converter) {\n\t\t\t\t\t\t\treturn converter.write.apply(this, args);\n\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t}.bind(this)\n\t\t\t\t};\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Register a custom converter for a MIME type\n\t\t\t *\n\t\t\t * @param {string} type the MIME type\n\t\t\t * @param converter the converter for the MIME type\n\t\t\t * @return a promise for the converter\n\t\t\t */\n\t\t\tthis.register = function register(type, converter) {\n\t\t\t\tmimes[type] = when(converter);\n\t\t\t\treturn mimes[type];\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Create a child registry whoes registered converters remain local, while\n\t\t\t * able to lookup converters from its parent.\n\t\t\t *\n\t\t\t * @returns child MIME registry\n\t\t\t */\n\t\t\tthis.child = function child() {\n\t\t\t\treturn new Registry(Object.create(mimes));\n\t\t\t};\n\n\t\t}\n\n\t\tregistry = new Registry({});\n\n\t\t// include provided serializers\n\t\tregistry.register('application/hal', require('./type/application/hal'));\n\t\tregistry.register('application/json', require('./type/application/json'));\n\t\tregistry.register('application/x-www-form-urlencoded', require('./type/application/x-www-form-urlencoded'));\n\t\tregistry.register('multipart/form-data', require('./type/multipart/form-data'));\n\t\tregistry.register('text/plain', require('./type/text/plain'));\n\n\t\tregistry.register('+json', registry.delegate('application/json'));\n\n\t\treturn registry;\n\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); }\n\t// Boilerplate for AMD and Node\n));\n\n},{\"../mime\":15,\"./type/application/hal\":17,\"./type/application/json\":18,\"./type/application/x-www-form-urlencoded\":19,\"./type/multipart/form-data\":20,\"./type/text/plain\":21,\"when\":39}],17:[function(require,module,exports){\n/*\n * Copyright 2013-2015 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n(function (define) {\n\t'use strict';\n\n\tdefine(function (require) {\n\n\t\tvar pathPrefix, template, find, lazyPromise, responsePromise, when;\n\n\t\tpathPrefix = require('../../../interceptor/pathPrefix');\n\t\ttemplate = require('../../../interceptor/template');\n\t\tfind = require('../../../util/find');\n\t\tlazyPromise = require('../../../util/lazyPromise');\n\t\tresponsePromise = require('../../../util/responsePromise');\n\t\twhen = require('when');\n\n\t\tfunction defineProperty(obj, name, value) {\n\t\t\tObject.defineProperty(obj, name, {\n\t\t\t\tvalue: value,\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: false,\n\t\t\t\twriteable: true\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Hypertext Application Language serializer\n\t\t *\n\t\t * Implemented to https://tools.ietf.org/html/draft-kelly-json-hal-06\n\t\t *\n\t\t * As the spec is still a draft, this implementation will be updated as the\n\t\t * spec evolves\n\t\t *\n\t\t * Objects are read as HAL indexing links and embedded objects on to the\n\t\t * resource. Objects are written as plain JSON.\n\t\t *\n\t\t * Embedded relationships are indexed onto the resource by the relationship\n\t\t * as a promise for the related resource.\n\t\t *\n\t\t * Links are indexed onto the resource as a lazy promise that will GET the\n\t\t * resource when a handler is first registered on the promise.\n\t\t *\n\t\t * A `requestFor` method is added to the entity to make a request for the\n\t\t * relationship.\n\t\t *\n\t\t * A `clientFor` method is added to the entity to get a full Client for a\n\t\t * relationship.\n\t\t *\n\t\t * The `_links` and `_embedded` properties on the resource are made\n\t\t * non-enumerable.\n\t\t */\n\t\treturn {\n\n\t\t\tread: function (str, opts) {\n\t\t\t\tvar client, console;\n\n\t\t\t\topts = opts || {};\n\t\t\t\tclient = opts.client;\n\t\t\t\tconsole = opts.console || console;\n\n\t\t\t\tfunction deprecationWarning(relationship, deprecation) {\n\t\t\t\t\tif (deprecation && console && console.warn || console.log) {\n\t\t\t\t\t\t(console.warn || console.log).call(console, 'Relationship \\'' + relationship + '\\' is deprecated, see ' + deprecation);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn opts.registry.lookup(opts.mime.suffix).then(function (converter) {\n\t\t\t\t\treturn when(converter.read(str, opts)).then(function (root) {\n\n\t\t\t\t\t\tfind.findProperties(root, '_embedded', function (embedded, resource, name) {\n\t\t\t\t\t\t\tObject.keys(embedded).forEach(function (relationship) {\n\t\t\t\t\t\t\t\tif (relationship in resource) { return; }\n\t\t\t\t\t\t\t\tvar related = responsePromise({\n\t\t\t\t\t\t\t\t\tentity: embedded[relationship]\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tdefineProperty(resource, relationship, related);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tdefineProperty(resource, name, embedded);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tfind.findProperties(root, '_links', function (links, resource, name) {\n\t\t\t\t\t\t\tObject.keys(links).forEach(function (relationship) {\n\t\t\t\t\t\t\t\tvar link = links[relationship];\n\t\t\t\t\t\t\t\tif (relationship in resource) { return; }\n\t\t\t\t\t\t\t\tdefineProperty(resource, relationship, responsePromise.make(lazyPromise(function () {\n\t\t\t\t\t\t\t\t\tif (link.deprecation) { deprecationWarning(relationship, link.deprecation); }\n\t\t\t\t\t\t\t\t\tif (link.templated === true) {\n\t\t\t\t\t\t\t\t\t\treturn template(client)({ path: link.href });\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn client({ path: link.href });\n\t\t\t\t\t\t\t\t})));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tdefineProperty(resource, name, links);\n\t\t\t\t\t\t\tdefineProperty(resource, 'clientFor', function (relationship, clientOverride) {\n\t\t\t\t\t\t\t\tvar link = links[relationship];\n\t\t\t\t\t\t\t\tif (!link) {\n\t\t\t\t\t\t\t\t\tthrow new Error('Unknown relationship: ' + relationship);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (link.deprecation) { deprecationWarning(relationship, link.deprecation); }\n\t\t\t\t\t\t\t\tif (link.templated === true) {\n\t\t\t\t\t\t\t\t\treturn template(\n\t\t\t\t\t\t\t\t\t\tclientOverride || client,\n\t\t\t\t\t\t\t\t\t\t{ template: link.href }\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn pathPrefix(\n\t\t\t\t\t\t\t\t\tclientOverride || client,\n\t\t\t\t\t\t\t\t\t{ prefix: link.href }\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tdefineProperty(resource, 'requestFor', function (relationship, request, clientOverride) {\n\t\t\t\t\t\t\t\tvar client = this.clientFor(relationship, clientOverride);\n\t\t\t\t\t\t\t\treturn client(request);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn root;\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t},\n\n\t\t\twrite: function (obj, opts) {\n\t\t\t\treturn opts.registry.lookup(opts.mime.suffix).then(function (converter) {\n\t\t\t\t\treturn converter.write(obj, opts);\n\t\t\t\t});\n\t\t\t}\n\n\t\t};\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); }\n\t// Boilerplate for AMD and Node\n));\n\n},{\"../../../interceptor/pathPrefix\":13,\"../../../interceptor/template\":14,\"../../../util/find\":40,\"../../../util/lazyPromise\":41,\"../../../util/responsePromise\":44,\"when\":39}],18:[function(require,module,exports){\n/*\n * Copyright 2012-2015 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n(function (define) {\n\t'use strict';\n\n\tdefine(function (/* require */) {\n\n\t\t/**\n\t\t * Create a new JSON converter with custom reviver/replacer.\n\t\t *\n\t\t * The extended converter must be published to a MIME registry in order\n\t\t * to be used. The existing converter will not be modified.\n\t\t *\n\t\t * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON\n\t\t *\n\t\t * @param {function} [reviver=undefined] custom JSON.parse reviver\n\t\t * @param {function|Array} [replacer=undefined] custom JSON.stringify replacer\n\t\t */\n\t\tfunction createConverter(reviver, replacer) {\n\t\t\treturn {\n\n\t\t\t\tread: function (str) {\n\t\t\t\t\treturn JSON.parse(str, reviver);\n\t\t\t\t},\n\n\t\t\t\twrite: function (obj) {\n\t\t\t\t\treturn JSON.stringify(obj, replacer);\n\t\t\t\t},\n\n\t\t\t\textend: createConverter\n\n\t\t\t};\n\t\t}\n\n\t\treturn createConverter();\n\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); }\n\t// Boilerplate for AMD and Node\n));\n\n},{}],19:[function(require,module,exports){\n/*\n * Copyright 2012 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n(function (define) {\n\t'use strict';\n\n\tdefine(function (/* require */) {\n\n\t\tvar encodedSpaceRE, urlEncodedSpaceRE;\n\n\t\tencodedSpaceRE = /%20/g;\n\t\turlEncodedSpaceRE = /\\+/g;\n\n\t\tfunction urlEncode(str) {\n\t\t\tstr = encodeURIComponent(str);\n\t\t\t// spec says space should be encoded as '+'\n\t\t\treturn str.replace(encodedSpaceRE, '+');\n\t\t}\n\n\t\tfunction urlDecode(str) {\n\t\t\t// spec says space should be encoded as '+'\n\t\t\tstr = str.replace(urlEncodedSpaceRE, ' ');\n\t\t\treturn decodeURIComponent(str);\n\t\t}\n\n\t\tfunction append(str, name, value) {\n\t\t\tif (Array.isArray(value)) {\n\t\t\t\tvalue.forEach(function (value) {\n\t\t\t\t\tstr = append(str, name, value);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (str.length > 0) {\n\t\t\t\t\tstr += '&';\n\t\t\t\t}\n\t\t\t\tstr += urlEncode(name);\n\t\t\t\tif (value !== undefined && value !== null) {\n\t\t\t\t\tstr += '=' + urlEncode(value);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn str;\n\t\t}\n\n\t\treturn {\n\n\t\t\tread: function (str) {\n\t\t\t\tvar obj = {};\n\t\t\t\tstr.split('&').forEach(function (entry) {\n\t\t\t\t\tvar pair, name, value;\n\t\t\t\t\tpair = entry.split('=');\n\t\t\t\t\tname = urlDecode(pair[0]);\n\t\t\t\t\tif (pair.length === 2) {\n\t\t\t\t\t\tvalue = urlDecode(pair[1]);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tvalue = null;\n\t\t\t\t\t}\n\t\t\t\t\tif (name in obj) {\n\t\t\t\t\t\tif (!Array.isArray(obj[name])) {\n\t\t\t\t\t\t\t// convert to an array, perserving currnent value\n\t\t\t\t\t\t\tobj[name] = [obj[name]];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tobj[name].push(value);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tobj[name] = value;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn obj;\n\t\t\t},\n\n\t\t\twrite: function (obj) {\n\t\t\t\tvar str = '';\n\t\t\t\tObject.keys(obj).forEach(function (name) {\n\t\t\t\t\tstr = append(str, name, obj[name]);\n\t\t\t\t});\n\t\t\t\treturn str;\n\t\t\t}\n\n\t\t};\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); }\n\t// Boilerplate for AMD and Node\n));\n\n},{}],20:[function(require,module,exports){\n/*\n * Copyright 2014 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Michael Jackson\n */\n\n/* global FormData, File, Blob */\n\n(function (define) {\n\t'use strict';\n\n\tdefine(function (/* require */) {\n\n\t\tfunction isFormElement(object) {\n\t\t\treturn object &&\n\t\t\t\tobject.nodeType === 1 && // Node.ELEMENT_NODE\n\t\t\t\tobject.tagName === 'FORM';\n\t\t}\n\n\t\tfunction createFormDataFromObject(object) {\n\t\t\tvar formData = new FormData();\n\n\t\t\tvar value;\n\t\t\tfor (var property in object) {\n\t\t\t\tif (object.hasOwnProperty(property)) {\n\t\t\t\t\tvalue = object[property];\n\n\t\t\t\t\tif (value instanceof File) {\n\t\t\t\t\t\tformData.append(property, value, value.name);\n\t\t\t\t\t} else if (value instanceof Blob) {\n\t\t\t\t\t\tformData.append(property, value);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tformData.append(property, String(value));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn formData;\n\t\t}\n\n\t\treturn {\n\n\t\t\twrite: function (object) {\n\t\t\t\tif (typeof FormData === 'undefined') {\n\t\t\t\t\tthrow new Error('The multipart/form-data mime serializer requires FormData support');\n\t\t\t\t}\n\n\t\t\t\t// Support FormData directly.\n\t\t\t\tif (object instanceof FormData) {\n\t\t\t\t\treturn object;\n\t\t\t\t}\n\n\t\t\t\t// Support <form> elements.\n\t\t\t\tif (isFormElement(object)) {\n\t\t\t\t\treturn new FormData(object);\n\t\t\t\t}\n\n\t\t\t\t// Support plain objects, may contain File/Blob as value.\n\t\t\t\tif (typeof object === 'object' && object !== null) {\n\t\t\t\t\treturn createFormDataFromObject(object);\n\t\t\t\t}\n\n\t\t\t\tthrow new Error('Unable to create FormData from object ' + object);\n\t\t\t}\n\n\t\t};\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); }\n\t// Boilerplate for AMD and Node\n));\n\n},{}],21:[function(require,module,exports){\n/*\n * Copyright 2012 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n(function (define) {\n\t'use strict';\n\n\tdefine(function (/* require */) {\n\n\t\treturn {\n\n\t\t\tread: function (str) {\n\t\t\t\treturn str;\n\t\t\t},\n\n\t\t\twrite: function (obj) {\n\t\t\t\treturn obj.toString();\n\t\t\t}\n\n\t\t};\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); }\n\t// Boilerplate for AMD and Node\n));\n\n},{}],22:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function (require) {\n\n\tvar makePromise = require('./makePromise');\n\tvar Scheduler = require('./Scheduler');\n\tvar async = require('./env').asap;\n\n\treturn makePromise({\n\t\tscheduler: new Scheduler(async)\n\t});\n\n});\n})(typeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); });\n\n},{\"./Scheduler\":23,\"./env\":35,\"./makePromise\":37}],23:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\t// Credit to Twisol (https://github.com/Twisol) for suggesting\n\t// this type of extensible queue + trampoline approach for next-tick conflation.\n\n\t/**\n\t * Async task scheduler\n\t * @param {function} async function to schedule a single async function\n\t * @constructor\n\t */\n\tfunction Scheduler(async) {\n\t\tthis._async = async;\n\t\tthis._running = false;\n\n\t\tthis._queue = this;\n\t\tthis._queueLen = 0;\n\t\tthis._afterQueue = {};\n\t\tthis._afterQueueLen = 0;\n\n\t\tvar self = this;\n\t\tthis.drain = function() {\n\t\t\tself._drain();\n\t\t};\n\t}\n\n\t/**\n\t * Enqueue a task\n\t * @param {{ run:function }} task\n\t */\n\tScheduler.prototype.enqueue = function(task) {\n\t\tthis._queue[this._queueLen++] = task;\n\t\tthis.run();\n\t};\n\n\t/**\n\t * Enqueue a task to run after the main task queue\n\t * @param {{ run:function }} task\n\t */\n\tScheduler.prototype.afterQueue = function(task) {\n\t\tthis._afterQueue[this._afterQueueLen++] = task;\n\t\tthis.run();\n\t};\n\n\tScheduler.prototype.run = function() {\n\t\tif (!this._running) {\n\t\t\tthis._running = true;\n\t\t\tthis._async(this.drain);\n\t\t}\n\t};\n\n\t/**\n\t * Drain the handler queue entirely, and then the after queue\n\t */\n\tScheduler.prototype._drain = function() {\n\t\tvar i = 0;\n\t\tfor (; i < this._queueLen; ++i) {\n\t\t\tthis._queue[i].run();\n\t\t\tthis._queue[i] = void 0;\n\t\t}\n\n\t\tthis._queueLen = 0;\n\t\tthis._running = false;\n\n\t\tfor (i = 0; i < this._afterQueueLen; ++i) {\n\t\t\tthis._afterQueue[i].run();\n\t\t\tthis._afterQueue[i] = void 0;\n\t\t}\n\n\t\tthis._afterQueueLen = 0;\n\t};\n\n\treturn Scheduler;\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n},{}],24:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\t/**\n\t * Custom error type for promises rejected by promise.timeout\n\t * @param {string} message\n\t * @constructor\n\t */\n\tfunction TimeoutError (message) {\n\t\tError.call(this);\n\t\tthis.message = message;\n\t\tthis.name = TimeoutError.name;\n\t\tif (typeof Error.captureStackTrace === 'function') {\n\t\t\tError.captureStackTrace(this, TimeoutError);\n\t\t}\n\t}\n\n\tTimeoutError.prototype = Object.create(Error.prototype);\n\tTimeoutError.prototype.constructor = TimeoutError;\n\n\treturn TimeoutError;\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n},{}],25:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\tmakeApply.tryCatchResolve = tryCatchResolve;\n\n\treturn makeApply;\n\n\tfunction makeApply(Promise, call) {\n\t\tif(arguments.length < 2) {\n\t\t\tcall = tryCatchResolve;\n\t\t}\n\n\t\treturn apply;\n\n\t\tfunction apply(f, thisArg, args) {\n\t\t\tvar p = Promise._defer();\n\t\t\tvar l = args.length;\n\t\t\tvar params = new Array(l);\n\t\t\tcallAndResolve({ f:f, thisArg:thisArg, args:args, params:params, i:l-1, call:call }, p._handler);\n\n\t\t\treturn p;\n\t\t}\n\n\t\tfunction callAndResolve(c, h) {\n\t\t\tif(c.i < 0) {\n\t\t\t\treturn call(c.f, c.thisArg, c.params, h);\n\t\t\t}\n\n\t\t\tvar handler = Promise._handler(c.args[c.i]);\n\t\t\thandler.fold(callAndResolveNext, c, void 0, h);\n\t\t}\n\n\t\tfunction callAndResolveNext(c, x, h) {\n\t\t\tc.params[c.i] = x;\n\t\t\tc.i -= 1;\n\t\t\tcallAndResolve(c, h);\n\t\t}\n\t}\n\n\tfunction tryCatchResolve(f, thisArg, args, resolver) {\n\t\ttry {\n\t\t\tresolver.resolve(f.apply(thisArg, args));\n\t\t} catch(e) {\n\t\t\tresolver.reject(e);\n\t\t}\n\t}\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n\n\n},{}],26:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function(require) {\n\n\tvar state = require('../state');\n\tvar applier = require('../apply');\n\n\treturn function array(Promise) {\n\n\t\tvar applyFold = applier(Promise);\n\t\tvar toPromise = Promise.resolve;\n\t\tvar all = Promise.all;\n\n\t\tvar ar = Array.prototype.reduce;\n\t\tvar arr = Array.prototype.reduceRight;\n\t\tvar slice = Array.prototype.slice;\n\n\t\t// Additional array combinators\n\n\t\tPromise.any = any;\n\t\tPromise.some = some;\n\t\tPromise.settle = settle;\n\n\t\tPromise.map = map;\n\t\tPromise.filter = filter;\n\t\tPromise.reduce = reduce;\n\t\tPromise.reduceRight = reduceRight;\n\n\t\t/**\n\t\t * When this promise fulfills with an array, do\n\t\t * onFulfilled.apply(void 0, array)\n\t\t * @param {function} onFulfilled function to apply\n\t\t * @returns {Promise} promise for the result of applying onFulfilled\n\t\t */\n\t\tPromise.prototype.spread = function(onFulfilled) {\n\t\t\treturn this.then(all).then(function(array) {\n\t\t\t\treturn onFulfilled.apply(this, array);\n\t\t\t});\n\t\t};\n\n\t\treturn Promise;\n\n\t\t/**\n\t\t * One-winner competitive race.\n\t\t * Return a promise that will fulfill when one of the promises\n\t\t * in the input array fulfills, or will reject when all promises\n\t\t * have rejected.\n\t\t * @param {array} promises\n\t\t * @returns {Promise} promise for the first fulfilled value\n\t\t */\n\t\tfunction any(promises) {\n\t\t\tvar p = Promise._defer();\n\t\t\tvar resolver = p._handler;\n\t\t\tvar l = promises.length>>>0;\n\n\t\t\tvar pending = l;\n\t\t\tvar errors = [];\n\n\t\t\tfor (var h, x, i = 0; i < l; ++i) {\n\t\t\t\tx = promises[i];\n\t\t\t\tif(x === void 0 && !(i in promises)) {\n\t\t\t\t\t--pending;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\th = Promise._handler(x);\n\t\t\t\tif(h.state() > 0) {\n\t\t\t\t\tresolver.become(h);\n\t\t\t\t\tPromise._visitRemaining(promises, i, h);\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\th.visit(resolver, handleFulfill, handleReject);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(pending === 0) {\n\t\t\t\tresolver.reject(new RangeError('any(): array must not be empty'));\n\t\t\t}\n\n\t\t\treturn p;\n\n\t\t\tfunction handleFulfill(x) {\n\t\t\t\t/*jshint validthis:true*/\n\t\t\t\terrors = null;\n\t\t\t\tthis.resolve(x); // this === resolver\n\t\t\t}\n\n\t\t\tfunction handleReject(e) {\n\t\t\t\t/*jshint validthis:true*/\n\t\t\t\tif(this.resolved) { // this === resolver\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\terrors.push(e);\n\t\t\t\tif(--pending === 0) {\n\t\t\t\t\tthis.reject(errors);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * N-winner competitive race\n\t\t * Return a promise that will fulfill when n input promises have\n\t\t * fulfilled, or will reject when it becomes impossible for n\n\t\t * input promises to fulfill (ie when promises.length - n + 1\n\t\t * have rejected)\n\t\t * @param {array} promises\n\t\t * @param {number} n\n\t\t * @returns {Promise} promise for the earliest n fulfillment values\n\t\t *\n\t\t * @deprecated\n\t\t */\n\t\tfunction some(promises, n) {\n\t\t\t/*jshint maxcomplexity:7*/\n\t\t\tvar p = Promise._defer();\n\t\t\tvar resolver = p._handler;\n\n\t\t\tvar results = [];\n\t\t\tvar errors = [];\n\n\t\t\tvar l = promises.length>>>0;\n\t\t\tvar nFulfill = 0;\n\t\t\tvar nReject;\n\t\t\tvar x, i; // reused in both for() loops\n\n\t\t\t// First pass: count actual array items\n\t\t\tfor(i=0; i<l; ++i) {\n\t\t\t\tx = promises[i];\n\t\t\t\tif(x === void 0 && !(i in promises)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t++nFulfill;\n\t\t\t}\n\n\t\t\t// Compute actual goals\n\t\t\tn = Math.max(n, 0);\n\t\t\tnReject = (nFulfill - n + 1);\n\t\t\tnFulfill = Math.min(n, nFulfill);\n\n\t\t\tif(n > nFulfill) {\n\t\t\t\tresolver.reject(new RangeError('some(): array must contain at least '\n\t\t\t\t+ n + ' item(s), but had ' + nFulfill));\n\t\t\t} else if(nFulfill === 0) {\n\t\t\t\tresolver.resolve(results);\n\t\t\t}\n\n\t\t\t// Second pass: observe each array item, make progress toward goals\n\t\t\tfor(i=0; i<l; ++i) {\n\t\t\t\tx = promises[i];\n\t\t\t\tif(x === void 0 && !(i in promises)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tPromise._handler(x).visit(resolver, fulfill, reject, resolver.notify);\n\t\t\t}\n\n\t\t\treturn p;\n\n\t\t\tfunction fulfill(x) {\n\t\t\t\t/*jshint validthis:true*/\n\t\t\t\tif(this.resolved) { // this === resolver\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresults.push(x);\n\t\t\t\tif(--nFulfill === 0) {\n\t\t\t\t\terrors = null;\n\t\t\t\t\tthis.resolve(results);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction reject(e) {\n\t\t\t\t/*jshint validthis:true*/\n\t\t\t\tif(this.resolved) { // this === resolver\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\terrors.push(e);\n\t\t\t\tif(--nReject === 0) {\n\t\t\t\t\tresults = null;\n\t\t\t\t\tthis.reject(errors);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Apply f to the value of each promise in a list of promises\n\t\t * and return a new list containing the results.\n\t\t * @param {array} promises\n\t\t * @param {function(x:*, index:Number):*} f mapping function\n\t\t * @returns {Promise}\n\t\t */\n\t\tfunction map(promises, f) {\n\t\t\treturn Promise._traverse(f, promises);\n\t\t}\n\n\t\t/**\n\t\t * Filter the provided array of promises using the provided predicate.  Input may\n\t\t * contain promises and values\n\t\t * @param {Array} promises array of promises and values\n\t\t * @param {function(x:*, index:Number):boolean} predicate filtering predicate.\n\t\t *  Must return truthy (or promise for truthy) for items to retain.\n\t\t * @returns {Promise} promise that will fulfill with an array containing all items\n\t\t *  for which predicate returned truthy.\n\t\t */\n\t\tfunction filter(promises, predicate) {\n\t\t\tvar a = slice.call(promises);\n\t\t\treturn Promise._traverse(predicate, a).then(function(keep) {\n\t\t\t\treturn filterSync(a, keep);\n\t\t\t});\n\t\t}\n\n\t\tfunction filterSync(promises, keep) {\n\t\t\t// Safe because we know all promises have fulfilled if we've made it this far\n\t\t\tvar l = keep.length;\n\t\t\tvar filtered = new Array(l);\n\t\t\tfor(var i=0, j=0; i<l; ++i) {\n\t\t\t\tif(keep[i]) {\n\t\t\t\t\tfiltered[j++] = Promise._handler(promises[i]).value;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfiltered.length = j;\n\t\t\treturn filtered;\n\n\t\t}\n\n\t\t/**\n\t\t * Return a promise that will always fulfill with an array containing\n\t\t * the outcome states of all input promises.  The returned promise\n\t\t * will never reject.\n\t\t * @param {Array} promises\n\t\t * @returns {Promise} promise for array of settled state descriptors\n\t\t */\n\t\tfunction settle(promises) {\n\t\t\treturn all(promises.map(settleOne));\n\t\t}\n\n\t\tfunction settleOne(p) {\n\t\t\tvar h = Promise._handler(p);\n\t\t\tif(h.state() === 0) {\n\t\t\t\treturn toPromise(p).then(state.fulfilled, state.rejected);\n\t\t\t}\n\n\t\t\th._unreport();\n\t\t\treturn state.inspect(h);\n\t\t}\n\n\t\t/**\n\t\t * Traditional reduce function, similar to `Array.prototype.reduce()`, but\n\t\t * input may contain promises and/or values, and reduceFunc\n\t\t * may return either a value or a promise, *and* initialValue may\n\t\t * be a promise for the starting value.\n\t\t * @param {Array|Promise} promises array or promise for an array of anything,\n\t\t *      may contain a mix of promises and values.\n\t\t * @param {function(accumulated:*, x:*, index:Number):*} f reduce function\n\t\t * @returns {Promise} that will resolve to the final reduced value\n\t\t */\n\t\tfunction reduce(promises, f /*, initialValue */) {\n\t\t\treturn arguments.length > 2 ? ar.call(promises, liftCombine(f), arguments[2])\n\t\t\t\t\t: ar.call(promises, liftCombine(f));\n\t\t}\n\n\t\t/**\n\t\t * Traditional reduce function, similar to `Array.prototype.reduceRight()`, but\n\t\t * input may contain promises and/or values, and reduceFunc\n\t\t * may return either a value or a promise, *and* initialValue may\n\t\t * be a promise for the starting value.\n\t\t * @param {Array|Promise} promises array or promise for an array of anything,\n\t\t *      may contain a mix of promises and values.\n\t\t * @param {function(accumulated:*, x:*, index:Number):*} f reduce function\n\t\t * @returns {Promise} that will resolve to the final reduced value\n\t\t */\n\t\tfunction reduceRight(promises, f /*, initialValue */) {\n\t\t\treturn arguments.length > 2 ? arr.call(promises, liftCombine(f), arguments[2])\n\t\t\t\t\t: arr.call(promises, liftCombine(f));\n\t\t}\n\n\t\tfunction liftCombine(f) {\n\t\t\treturn function(z, x, i) {\n\t\t\t\treturn applyFold(f, void 0, [z,x,i]);\n\t\t\t};\n\t\t}\n\t};\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(require); }));\n\n},{\"../apply\":25,\"../state\":38}],27:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\treturn function flow(Promise) {\n\n\t\tvar resolve = Promise.resolve;\n\t\tvar reject = Promise.reject;\n\t\tvar origCatch = Promise.prototype['catch'];\n\n\t\t/**\n\t\t * Handle the ultimate fulfillment value or rejection reason, and assume\n\t\t * responsibility for all errors.  If an error propagates out of result\n\t\t * or handleFatalError, it will be rethrown to the host, resulting in a\n\t\t * loud stack track on most platforms and a crash on some.\n\t\t * @param {function?} onResult\n\t\t * @param {function?} onError\n\t\t * @returns {undefined}\n\t\t */\n\t\tPromise.prototype.done = function(onResult, onError) {\n\t\t\tthis._handler.visit(this._handler.receiver, onResult, onError);\n\t\t};\n\n\t\t/**\n\t\t * Add Error-type and predicate matching to catch.  Examples:\n\t\t * promise.catch(TypeError, handleTypeError)\n\t\t *   .catch(predicate, handleMatchedErrors)\n\t\t *   .catch(handleRemainingErrors)\n\t\t * @param onRejected\n\t\t * @returns {*}\n\t\t */\n\t\tPromise.prototype['catch'] = Promise.prototype.otherwise = function(onRejected) {\n\t\t\tif (arguments.length < 2) {\n\t\t\t\treturn origCatch.call(this, onRejected);\n\t\t\t}\n\n\t\t\tif(typeof onRejected !== 'function') {\n\t\t\t\treturn this.ensure(rejectInvalidPredicate);\n\t\t\t}\n\n\t\t\treturn origCatch.call(this, createCatchFilter(arguments[1], onRejected));\n\t\t};\n\n\t\t/**\n\t\t * Wraps the provided catch handler, so that it will only be called\n\t\t * if the predicate evaluates truthy\n\t\t * @param {?function} handler\n\t\t * @param {function} predicate\n\t\t * @returns {function} conditional catch handler\n\t\t */\n\t\tfunction createCatchFilter(handler, predicate) {\n\t\t\treturn function(e) {\n\t\t\t\treturn evaluatePredicate(e, predicate)\n\t\t\t\t\t? handler.call(this, e)\n\t\t\t\t\t: reject(e);\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Ensures that onFulfilledOrRejected will be called regardless of whether\n\t\t * this promise is fulfilled or rejected.  onFulfilledOrRejected WILL NOT\n\t\t * receive the promises' value or reason.  Any returned value will be disregarded.\n\t\t * onFulfilledOrRejected may throw or return a rejected promise to signal\n\t\t * an additional error.\n\t\t * @param {function} handler handler to be called regardless of\n\t\t *  fulfillment or rejection\n\t\t * @returns {Promise}\n\t\t */\n\t\tPromise.prototype['finally'] = Promise.prototype.ensure = function(handler) {\n\t\t\tif(typeof handler !== 'function') {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\treturn this.then(function(x) {\n\t\t\t\treturn runSideEffect(handler, this, identity, x);\n\t\t\t}, function(e) {\n\t\t\t\treturn runSideEffect(handler, this, reject, e);\n\t\t\t});\n\t\t};\n\n\t\tfunction runSideEffect (handler, thisArg, propagate, value) {\n\t\t\tvar result = handler.call(thisArg);\n\t\t\treturn maybeThenable(result)\n\t\t\t\t? propagateValue(result, propagate, value)\n\t\t\t\t: propagate(value);\n\t\t}\n\n\t\tfunction propagateValue (result, propagate, x) {\n\t\t\treturn resolve(result).then(function () {\n\t\t\t\treturn propagate(x);\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Recover from a failure by returning a defaultValue.  If defaultValue\n\t\t * is a promise, it's fulfillment value will be used.  If defaultValue is\n\t\t * a promise that rejects, the returned promise will reject with the\n\t\t * same reason.\n\t\t * @param {*} defaultValue\n\t\t * @returns {Promise} new promise\n\t\t */\n\t\tPromise.prototype['else'] = Promise.prototype.orElse = function(defaultValue) {\n\t\t\treturn this.then(void 0, function() {\n\t\t\t\treturn defaultValue;\n\t\t\t});\n\t\t};\n\n\t\t/**\n\t\t * Shortcut for .then(function() { return value; })\n\t\t * @param  {*} value\n\t\t * @return {Promise} a promise that:\n\t\t *  - is fulfilled if value is not a promise, or\n\t\t *  - if value is a promise, will fulfill with its value, or reject\n\t\t *    with its reason.\n\t\t */\n\t\tPromise.prototype['yield'] = function(value) {\n\t\t\treturn this.then(function() {\n\t\t\t\treturn value;\n\t\t\t});\n\t\t};\n\n\t\t/**\n\t\t * Runs a side effect when this promise fulfills, without changing the\n\t\t * fulfillment value.\n\t\t * @param {function} onFulfilledSideEffect\n\t\t * @returns {Promise}\n\t\t */\n\t\tPromise.prototype.tap = function(onFulfilledSideEffect) {\n\t\t\treturn this.then(onFulfilledSideEffect)['yield'](this);\n\t\t};\n\n\t\treturn Promise;\n\t};\n\n\tfunction rejectInvalidPredicate() {\n\t\tthrow new TypeError('catch predicate must be a function');\n\t}\n\n\tfunction evaluatePredicate(e, predicate) {\n\t\treturn isError(predicate) ? e instanceof predicate : predicate(e);\n\t}\n\n\tfunction isError(predicate) {\n\t\treturn predicate === Error\n\t\t\t|| (predicate != null && predicate.prototype instanceof Error);\n\t}\n\n\tfunction maybeThenable(x) {\n\t\treturn (typeof x === 'object' || typeof x === 'function') && x !== null;\n\t}\n\n\tfunction identity(x) {\n\t\treturn x;\n\t}\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n},{}],28:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n/** @author Jeff Escalante */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\treturn function fold(Promise) {\n\n\t\tPromise.prototype.fold = function(f, z) {\n\t\t\tvar promise = this._beget();\n\n\t\t\tthis._handler.fold(function(z, x, to) {\n\t\t\t\tPromise._handler(z).fold(function(x, z, to) {\n\t\t\t\t\tto.resolve(f.call(this, z, x));\n\t\t\t\t}, x, this, to);\n\t\t\t}, z, promise._handler.receiver, promise._handler);\n\n\t\t\treturn promise;\n\t\t};\n\n\t\treturn Promise;\n\t};\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n},{}],29:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function(require) {\n\n\tvar inspect = require('../state').inspect;\n\n\treturn function inspection(Promise) {\n\n\t\tPromise.prototype.inspect = function() {\n\t\t\treturn inspect(Promise._handler(this));\n\t\t};\n\n\t\treturn Promise;\n\t};\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(require); }));\n\n},{\"../state\":38}],30:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\treturn function generate(Promise) {\n\n\t\tvar resolve = Promise.resolve;\n\n\t\tPromise.iterate = iterate;\n\t\tPromise.unfold = unfold;\n\n\t\treturn Promise;\n\n\t\t/**\n\t\t * @deprecated Use github.com/cujojs/most streams and most.iterate\n\t\t * Generate a (potentially infinite) stream of promised values:\n\t\t * x, f(x), f(f(x)), etc. until condition(x) returns true\n\t\t * @param {function} f function to generate a new x from the previous x\n\t\t * @param {function} condition function that, given the current x, returns\n\t\t *  truthy when the iterate should stop\n\t\t * @param {function} handler function to handle the value produced by f\n\t\t * @param {*|Promise} x starting value, may be a promise\n\t\t * @return {Promise} the result of the last call to f before\n\t\t *  condition returns true\n\t\t */\n\t\tfunction iterate(f, condition, handler, x) {\n\t\t\treturn unfold(function(x) {\n\t\t\t\treturn [x, f(x)];\n\t\t\t}, condition, handler, x);\n\t\t}\n\n\t\t/**\n\t\t * @deprecated Use github.com/cujojs/most streams and most.unfold\n\t\t * Generate a (potentially infinite) stream of promised values\n\t\t * by applying handler(generator(seed)) iteratively until\n\t\t * condition(seed) returns true.\n\t\t * @param {function} unspool function that generates a [value, newSeed]\n\t\t *  given a seed.\n\t\t * @param {function} condition function that, given the current seed, returns\n\t\t *  truthy when the unfold should stop\n\t\t * @param {function} handler function to handle the value produced by unspool\n\t\t * @param x {*|Promise} starting value, may be a promise\n\t\t * @return {Promise} the result of the last value produced by unspool before\n\t\t *  condition returns true\n\t\t */\n\t\tfunction unfold(unspool, condition, handler, x) {\n\t\t\treturn resolve(x).then(function(seed) {\n\t\t\t\treturn resolve(condition(seed)).then(function(done) {\n\t\t\t\t\treturn done ? seed : resolve(unspool(seed)).spread(next);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tfunction next(item, newSeed) {\n\t\t\t\treturn resolve(handler(item)).then(function() {\n\t\t\t\t\treturn unfold(unspool, condition, handler, newSeed);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n},{}],31:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\treturn function progress(Promise) {\n\n\t\t/**\n\t\t * @deprecated\n\t\t * Register a progress handler for this promise\n\t\t * @param {function} onProgress\n\t\t * @returns {Promise}\n\t\t */\n\t\tPromise.prototype.progress = function(onProgress) {\n\t\t\treturn this.then(void 0, void 0, onProgress);\n\t\t};\n\n\t\treturn Promise;\n\t};\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n},{}],32:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function(require) {\n\n\tvar env = require('../env');\n\tvar TimeoutError = require('../TimeoutError');\n\n\tfunction setTimeout(f, ms, x, y) {\n\t\treturn env.setTimer(function() {\n\t\t\tf(x, y, ms);\n\t\t}, ms);\n\t}\n\n\treturn function timed(Promise) {\n\t\t/**\n\t\t * Return a new promise whose fulfillment value is revealed only\n\t\t * after ms milliseconds\n\t\t * @param {number} ms milliseconds\n\t\t * @returns {Promise}\n\t\t */\n\t\tPromise.prototype.delay = function(ms) {\n\t\t\tvar p = this._beget();\n\t\t\tthis._handler.fold(handleDelay, ms, void 0, p._handler);\n\t\t\treturn p;\n\t\t};\n\n\t\tfunction handleDelay(ms, x, h) {\n\t\t\tsetTimeout(resolveDelay, ms, x, h);\n\t\t}\n\n\t\tfunction resolveDelay(x, h) {\n\t\t\th.resolve(x);\n\t\t}\n\n\t\t/**\n\t\t * Return a new promise that rejects after ms milliseconds unless\n\t\t * this promise fulfills earlier, in which case the returned promise\n\t\t * fulfills with the same value.\n\t\t * @param {number} ms milliseconds\n\t\t * @param {Error|*=} reason optional rejection reason to use, defaults\n\t\t *   to a TimeoutError if not provided\n\t\t * @returns {Promise}\n\t\t */\n\t\tPromise.prototype.timeout = function(ms, reason) {\n\t\t\tvar p = this._beget();\n\t\t\tvar h = p._handler;\n\n\t\t\tvar t = setTimeout(onTimeout, ms, reason, p._handler);\n\n\t\t\tthis._handler.visit(h,\n\t\t\t\tfunction onFulfill(x) {\n\t\t\t\t\tenv.clearTimer(t);\n\t\t\t\t\tthis.resolve(x); // this = h\n\t\t\t\t},\n\t\t\t\tfunction onReject(x) {\n\t\t\t\t\tenv.clearTimer(t);\n\t\t\t\t\tthis.reject(x); // this = h\n\t\t\t\t},\n\t\t\t\th.notify);\n\n\t\t\treturn p;\n\t\t};\n\n\t\tfunction onTimeout(reason, h, ms) {\n\t\t\tvar e = typeof reason === 'undefined'\n\t\t\t\t? new TimeoutError('timed out after ' + ms + 'ms')\n\t\t\t\t: reason;\n\t\t\th.reject(e);\n\t\t}\n\n\t\treturn Promise;\n\t};\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(require); }));\n\n},{\"../TimeoutError\":24,\"../env\":35}],33:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function(require) {\n\n\tvar setTimer = require('../env').setTimer;\n\tvar format = require('../format');\n\n\treturn function unhandledRejection(Promise) {\n\n\t\tvar logError = noop;\n\t\tvar logInfo = noop;\n\t\tvar localConsole;\n\n\t\tif(typeof console !== 'undefined') {\n\t\t\t// Alias console to prevent things like uglify's drop_console option from\n\t\t\t// removing console.log/error. Unhandled rejections fall into the same\n\t\t\t// category as uncaught exceptions, and build tools shouldn't silence them.\n\t\t\tlocalConsole = console;\n\t\t\tlogError = typeof localConsole.error !== 'undefined'\n\t\t\t\t? function (e) { localConsole.error(e); }\n\t\t\t\t: function (e) { localConsole.log(e); };\n\n\t\t\tlogInfo = typeof localConsole.info !== 'undefined'\n\t\t\t\t? function (e) { localConsole.info(e); }\n\t\t\t\t: function (e) { localConsole.log(e); };\n\t\t}\n\n\t\tPromise.onPotentiallyUnhandledRejection = function(rejection) {\n\t\t\tenqueue(report, rejection);\n\t\t};\n\n\t\tPromise.onPotentiallyUnhandledRejectionHandled = function(rejection) {\n\t\t\tenqueue(unreport, rejection);\n\t\t};\n\n\t\tPromise.onFatalRejection = function(rejection) {\n\t\t\tenqueue(throwit, rejection.value);\n\t\t};\n\n\t\tvar tasks = [];\n\t\tvar reported = [];\n\t\tvar running = null;\n\n\t\tfunction report(r) {\n\t\t\tif(!r.handled) {\n\t\t\t\treported.push(r);\n\t\t\t\tlogError('Potentially unhandled rejection [' + r.id + '] ' + format.formatError(r.value));\n\t\t\t}\n\t\t}\n\n\t\tfunction unreport(r) {\n\t\t\tvar i = reported.indexOf(r);\n\t\t\tif(i >= 0) {\n\t\t\t\treported.splice(i, 1);\n\t\t\t\tlogInfo('Handled previous rejection [' + r.id + '] ' + format.formatObject(r.value));\n\t\t\t}\n\t\t}\n\n\t\tfunction enqueue(f, x) {\n\t\t\ttasks.push(f, x);\n\t\t\tif(running === null) {\n\t\t\t\trunning = setTimer(flush, 0);\n\t\t\t}\n\t\t}\n\n\t\tfunction flush() {\n\t\t\trunning = null;\n\t\t\twhile(tasks.length > 0) {\n\t\t\t\ttasks.shift()(tasks.shift());\n\t\t\t}\n\t\t}\n\n\t\treturn Promise;\n\t};\n\n\tfunction throwit(e) {\n\t\tthrow e;\n\t}\n\n\tfunction noop() {}\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(require); }));\n\n},{\"../env\":35,\"../format\":36}],34:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\treturn function addWith(Promise) {\n\t\t/**\n\t\t * Returns a promise whose handlers will be called with `this` set to\n\t\t * the supplied receiver.  Subsequent promises derived from the\n\t\t * returned promise will also have their handlers called with receiver\n\t\t * as `this`. Calling `with` with undefined or no arguments will return\n\t\t * a promise whose handlers will again be called in the usual Promises/A+\n\t\t * way (no `this`) thus safely undoing any previous `with` in the\n\t\t * promise chain.\n\t\t *\n\t\t * WARNING: Promises returned from `with`/`withThis` are NOT Promises/A+\n\t\t * compliant, specifically violating 2.2.5 (http://promisesaplus.com/#point-41)\n\t\t *\n\t\t * @param {object} receiver `this` value for all handlers attached to\n\t\t *  the returned promise.\n\t\t * @returns {Promise}\n\t\t */\n\t\tPromise.prototype['with'] = Promise.prototype.withThis = function(receiver) {\n\t\t\tvar p = this._beget();\n\t\t\tvar child = p._handler;\n\t\t\tchild.receiver = receiver;\n\t\t\tthis._handler.chain(child, receiver);\n\t\t\treturn p;\n\t\t};\n\n\t\treturn Promise;\n\t};\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n\n},{}],35:[function(require,module,exports){\n(function (process){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/*global process,document,setTimeout,clearTimeout,MutationObserver,WebKitMutationObserver*/\n(function(define) { 'use strict';\ndefine(function(require) {\n\t/*jshint maxcomplexity:6*/\n\n\t// Sniff \"best\" async scheduling option\n\t// Prefer process.nextTick or MutationObserver, then check for\n\t// setTimeout, and finally vertx, since its the only env that doesn't\n\t// have setTimeout\n\n\tvar MutationObs;\n\tvar capturedSetTimeout = typeof setTimeout !== 'undefined' && setTimeout;\n\n\t// Default env\n\tvar setTimer = function(f, ms) { return setTimeout(f, ms); };\n\tvar clearTimer = function(t) { return clearTimeout(t); };\n\tvar asap = function (f) { return capturedSetTimeout(f, 0); };\n\n\t// Detect specific env\n\tif (isNode()) { // Node\n\t\tasap = function (f) { return process.nextTick(f); };\n\n\t} else if (MutationObs = hasMutationObserver()) { // Modern browser\n\t\tasap = initMutationObserver(MutationObs);\n\n\t} else if (!capturedSetTimeout) { // vert.x\n\t\tvar vertxRequire = require;\n\t\tvar vertx = vertxRequire('vertx');\n\t\tsetTimer = function (f, ms) { return vertx.setTimer(ms, f); };\n\t\tclearTimer = vertx.cancelTimer;\n\t\tasap = vertx.runOnLoop || vertx.runOnContext;\n\t}\n\n\treturn {\n\t\tsetTimer: setTimer,\n\t\tclearTimer: clearTimer,\n\t\tasap: asap\n\t};\n\n\tfunction isNode () {\n\t\treturn typeof process !== 'undefined' && process !== null &&\n\t\t\ttypeof process.nextTick === 'function';\n\t}\n\n\tfunction hasMutationObserver () {\n\t\treturn (typeof MutationObserver === 'function' && MutationObserver) ||\n\t\t\t(typeof WebKitMutationObserver === 'function' && WebKitMutationObserver);\n\t}\n\n\tfunction initMutationObserver(MutationObserver) {\n\t\tvar scheduled;\n\t\tvar node = document.createTextNode('');\n\t\tvar o = new MutationObserver(run);\n\t\to.observe(node, { characterData: true });\n\n\t\tfunction run() {\n\t\t\tvar f = scheduled;\n\t\t\tscheduled = void 0;\n\t\t\tf();\n\t\t}\n\n\t\tvar i = 0;\n\t\treturn function (f) {\n\t\t\tscheduled = f;\n\t\t\tnode.data = (i ^= 1);\n\t\t};\n\t}\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(require); }));\n\n}).call(this,require('_process'))\n},{\"_process\":2}],36:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\treturn {\n\t\tformatError: formatError,\n\t\tformatObject: formatObject,\n\t\ttryStringify: tryStringify\n\t};\n\n\t/**\n\t * Format an error into a string.  If e is an Error and has a stack property,\n\t * it's returned.  Otherwise, e is formatted using formatObject, with a\n\t * warning added about e not being a proper Error.\n\t * @param {*} e\n\t * @returns {String} formatted string, suitable for output to developers\n\t */\n\tfunction formatError(e) {\n\t\tvar s = typeof e === 'object' && e !== null && e.stack ? e.stack : formatObject(e);\n\t\treturn e instanceof Error ? s : s + ' (WARNING: non-Error used)';\n\t}\n\n\t/**\n\t * Format an object, detecting \"plain\" objects and running them through\n\t * JSON.stringify if possible.\n\t * @param {Object} o\n\t * @returns {string}\n\t */\n\tfunction formatObject(o) {\n\t\tvar s = String(o);\n\t\tif(s === '[object Object]' && typeof JSON !== 'undefined') {\n\t\t\ts = tryStringify(o, s);\n\t\t}\n\t\treturn s;\n\t}\n\n\t/**\n\t * Try to return the result of JSON.stringify(x).  If that fails, return\n\t * defaultValue\n\t * @param {*} x\n\t * @param {*} defaultValue\n\t * @returns {String|*} JSON.stringify(x) or defaultValue\n\t */\n\tfunction tryStringify(x, defaultValue) {\n\t\ttry {\n\t\t\treturn JSON.stringify(x);\n\t\t} catch(e) {\n\t\t\treturn defaultValue;\n\t\t}\n\t}\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n},{}],37:[function(require,module,exports){\n(function (process){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\treturn function makePromise(environment) {\n\n\t\tvar tasks = environment.scheduler;\n\t\tvar emitRejection = initEmitRejection();\n\n\t\tvar objectCreate = Object.create ||\n\t\t\tfunction(proto) {\n\t\t\t\tfunction Child() {}\n\t\t\t\tChild.prototype = proto;\n\t\t\t\treturn new Child();\n\t\t\t};\n\n\t\t/**\n\t\t * Create a promise whose fate is determined by resolver\n\t\t * @constructor\n\t\t * @returns {Promise} promise\n\t\t * @name Promise\n\t\t */\n\t\tfunction Promise(resolver, handler) {\n\t\t\tthis._handler = resolver === Handler ? handler : init(resolver);\n\t\t}\n\n\t\t/**\n\t\t * Run the supplied resolver\n\t\t * @param resolver\n\t\t * @returns {Pending}\n\t\t */\n\t\tfunction init(resolver) {\n\t\t\tvar handler = new Pending();\n\n\t\t\ttry {\n\t\t\t\tresolver(promiseResolve, promiseReject, promiseNotify);\n\t\t\t} catch (e) {\n\t\t\t\tpromiseReject(e);\n\t\t\t}\n\n\t\t\treturn handler;\n\n\t\t\t/**\n\t\t\t * Transition from pre-resolution state to post-resolution state, notifying\n\t\t\t * all listeners of the ultimate fulfillment or rejection\n\t\t\t * @param {*} x resolution value\n\t\t\t */\n\t\t\tfunction promiseResolve (x) {\n\t\t\t\thandler.resolve(x);\n\t\t\t}\n\t\t\t/**\n\t\t\t * Reject this promise with reason, which will be used verbatim\n\t\t\t * @param {Error|*} reason rejection reason, strongly suggested\n\t\t\t *   to be an Error type\n\t\t\t */\n\t\t\tfunction promiseReject (reason) {\n\t\t\t\thandler.reject(reason);\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * @deprecated\n\t\t\t * Issue a progress event, notifying all progress listeners\n\t\t\t * @param {*} x progress event payload to pass to all listeners\n\t\t\t */\n\t\t\tfunction promiseNotify (x) {\n\t\t\t\thandler.notify(x);\n\t\t\t}\n\t\t}\n\n\t\t// Creation\n\n\t\tPromise.resolve = resolve;\n\t\tPromise.reject = reject;\n\t\tPromise.never = never;\n\n\t\tPromise._defer = defer;\n\t\tPromise._handler = getHandler;\n\n\t\t/**\n\t\t * Returns a trusted promise. If x is already a trusted promise, it is\n\t\t * returned, otherwise returns a new trusted Promise which follows x.\n\t\t * @param  {*} x\n\t\t * @return {Promise} promise\n\t\t */\n\t\tfunction resolve(x) {\n\t\t\treturn isPromise(x) ? x\n\t\t\t\t: new Promise(Handler, new Async(getHandler(x)));\n\t\t}\n\n\t\t/**\n\t\t * Return a reject promise with x as its reason (x is used verbatim)\n\t\t * @param {*} x\n\t\t * @returns {Promise} rejected promise\n\t\t */\n\t\tfunction reject(x) {\n\t\t\treturn new Promise(Handler, new Async(new Rejected(x)));\n\t\t}\n\n\t\t/**\n\t\t * Return a promise that remains pending forever\n\t\t * @returns {Promise} forever-pending promise.\n\t\t */\n\t\tfunction never() {\n\t\t\treturn foreverPendingPromise; // Should be frozen\n\t\t}\n\n\t\t/**\n\t\t * Creates an internal {promise, resolver} pair\n\t\t * @private\n\t\t * @returns {Promise}\n\t\t */\n\t\tfunction defer() {\n\t\t\treturn new Promise(Handler, new Pending());\n\t\t}\n\n\t\t// Transformation and flow control\n\n\t\t/**\n\t\t * Transform this promise's fulfillment value, returning a new Promise\n\t\t * for the transformed result.  If the promise cannot be fulfilled, onRejected\n\t\t * is called with the reason.  onProgress *may* be called with updates toward\n\t\t * this promise's fulfillment.\n\t\t * @param {function=} onFulfilled fulfillment handler\n\t\t * @param {function=} onRejected rejection handler\n\t\t * @param {function=} onProgress @deprecated progress handler\n\t\t * @return {Promise} new promise\n\t\t */\n\t\tPromise.prototype.then = function(onFulfilled, onRejected, onProgress) {\n\t\t\tvar parent = this._handler;\n\t\t\tvar state = parent.join().state();\n\n\t\t\tif ((typeof onFulfilled !== 'function' && state > 0) ||\n\t\t\t\t(typeof onRejected !== 'function' && state < 0)) {\n\t\t\t\t// Short circuit: value will not change, simply share handler\n\t\t\t\treturn new this.constructor(Handler, parent);\n\t\t\t}\n\n\t\t\tvar p = this._beget();\n\t\t\tvar child = p._handler;\n\n\t\t\tparent.chain(child, parent.receiver, onFulfilled, onRejected, onProgress);\n\n\t\t\treturn p;\n\t\t};\n\n\t\t/**\n\t\t * If this promise cannot be fulfilled due to an error, call onRejected to\n\t\t * handle the error. Shortcut for .then(undefined, onRejected)\n\t\t * @param {function?} onRejected\n\t\t * @return {Promise}\n\t\t */\n\t\tPromise.prototype['catch'] = function(onRejected) {\n\t\t\treturn this.then(void 0, onRejected);\n\t\t};\n\n\t\t/**\n\t\t * Creates a new, pending promise of the same type as this promise\n\t\t * @private\n\t\t * @returns {Promise}\n\t\t */\n\t\tPromise.prototype._beget = function() {\n\t\t\treturn begetFrom(this._handler, this.constructor);\n\t\t};\n\n\t\tfunction begetFrom(parent, Promise) {\n\t\t\tvar child = new Pending(parent.receiver, parent.join().context);\n\t\t\treturn new Promise(Handler, child);\n\t\t}\n\n\t\t// Array combinators\n\n\t\tPromise.all = all;\n\t\tPromise.race = race;\n\t\tPromise._traverse = traverse;\n\n\t\t/**\n\t\t * Return a promise that will fulfill when all promises in the\n\t\t * input array have fulfilled, or will reject when one of the\n\t\t * promises rejects.\n\t\t * @param {array} promises array of promises\n\t\t * @returns {Promise} promise for array of fulfillment values\n\t\t */\n\t\tfunction all(promises) {\n\t\t\treturn traverseWith(snd, null, promises);\n\t\t}\n\n\t\t/**\n\t\t * Array<Promise<X>> -> Promise<Array<f(X)>>\n\t\t * @private\n\t\t * @param {function} f function to apply to each promise's value\n\t\t * @param {Array} promises array of promises\n\t\t * @returns {Promise} promise for transformed values\n\t\t */\n\t\tfunction traverse(f, promises) {\n\t\t\treturn traverseWith(tryCatch2, f, promises);\n\t\t}\n\n\t\tfunction traverseWith(tryMap, f, promises) {\n\t\t\tvar handler = typeof f === 'function' ? mapAt : settleAt;\n\n\t\t\tvar resolver = new Pending();\n\t\t\tvar pending = promises.length >>> 0;\n\t\t\tvar results = new Array(pending);\n\n\t\t\tfor (var i = 0, x; i < promises.length && !resolver.resolved; ++i) {\n\t\t\t\tx = promises[i];\n\n\t\t\t\tif (x === void 0 && !(i in promises)) {\n\t\t\t\t\t--pending;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\ttraverseAt(promises, handler, i, x, resolver);\n\t\t\t}\n\n\t\t\tif(pending === 0) {\n\t\t\t\tresolver.become(new Fulfilled(results));\n\t\t\t}\n\n\t\t\treturn new Promise(Handler, resolver);\n\n\t\t\tfunction mapAt(i, x, resolver) {\n\t\t\t\tif(!resolver.resolved) {\n\t\t\t\t\ttraverseAt(promises, settleAt, i, tryMap(f, x, i), resolver);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction settleAt(i, x, resolver) {\n\t\t\t\tresults[i] = x;\n\t\t\t\tif(--pending === 0) {\n\t\t\t\t\tresolver.become(new Fulfilled(results));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction traverseAt(promises, handler, i, x, resolver) {\n\t\t\tif (maybeThenable(x)) {\n\t\t\t\tvar h = getHandlerMaybeThenable(x);\n\t\t\t\tvar s = h.state();\n\n\t\t\t\tif (s === 0) {\n\t\t\t\t\th.fold(handler, i, void 0, resolver);\n\t\t\t\t} else if (s > 0) {\n\t\t\t\t\thandler(i, h.value, resolver);\n\t\t\t\t} else {\n\t\t\t\t\tresolver.become(h);\n\t\t\t\t\tvisitRemaining(promises, i+1, h);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thandler(i, x, resolver);\n\t\t\t}\n\t\t}\n\n\t\tPromise._visitRemaining = visitRemaining;\n\t\tfunction visitRemaining(promises, start, handler) {\n\t\t\tfor(var i=start; i<promises.length; ++i) {\n\t\t\t\tmarkAsHandled(getHandler(promises[i]), handler);\n\t\t\t}\n\t\t}\n\n\t\tfunction markAsHandled(h, handler) {\n\t\t\tif(h === handler) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar s = h.state();\n\t\t\tif(s === 0) {\n\t\t\t\th.visit(h, void 0, h._unreport);\n\t\t\t} else if(s < 0) {\n\t\t\t\th._unreport();\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Fulfill-reject competitive race. Return a promise that will settle\n\t\t * to the same state as the earliest input promise to settle.\n\t\t *\n\t\t * WARNING: The ES6 Promise spec requires that race()ing an empty array\n\t\t * must return a promise that is pending forever.  This implementation\n\t\t * returns a singleton forever-pending promise, the same singleton that is\n\t\t * returned by Promise.never(), thus can be checked with ===\n\t\t *\n\t\t * @param {array} promises array of promises to race\n\t\t * @returns {Promise} if input is non-empty, a promise that will settle\n\t\t * to the same outcome as the earliest input promise to settle. if empty\n\t\t * is empty, returns a promise that will never settle.\n\t\t */\n\t\tfunction race(promises) {\n\t\t\tif(typeof promises !== 'object' || promises === null) {\n\t\t\t\treturn reject(new TypeError('non-iterable passed to race()'));\n\t\t\t}\n\n\t\t\t// Sigh, race([]) is untestable unless we return *something*\n\t\t\t// that is recognizable without calling .then() on it.\n\t\t\treturn promises.length === 0 ? never()\n\t\t\t\t : promises.length === 1 ? resolve(promises[0])\n\t\t\t\t : runRace(promises);\n\t\t}\n\n\t\tfunction runRace(promises) {\n\t\t\tvar resolver = new Pending();\n\t\t\tvar i, x, h;\n\t\t\tfor(i=0; i<promises.length; ++i) {\n\t\t\t\tx = promises[i];\n\t\t\t\tif (x === void 0 && !(i in promises)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\th = getHandler(x);\n\t\t\t\tif(h.state() !== 0) {\n\t\t\t\t\tresolver.become(h);\n\t\t\t\t\tvisitRemaining(promises, i+1, h);\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\th.visit(resolver, resolver.resolve, resolver.reject);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn new Promise(Handler, resolver);\n\t\t}\n\n\t\t// Promise internals\n\t\t// Below this, everything is @private\n\n\t\t/**\n\t\t * Get an appropriate handler for x, without checking for cycles\n\t\t * @param {*} x\n\t\t * @returns {object} handler\n\t\t */\n\t\tfunction getHandler(x) {\n\t\t\tif(isPromise(x)) {\n\t\t\t\treturn x._handler.join();\n\t\t\t}\n\t\t\treturn maybeThenable(x) ? getHandlerUntrusted(x) : new Fulfilled(x);\n\t\t}\n\n\t\t/**\n\t\t * Get a handler for thenable x.\n\t\t * NOTE: You must only call this if maybeThenable(x) == true\n\t\t * @param {object|function|Promise} x\n\t\t * @returns {object} handler\n\t\t */\n\t\tfunction getHandlerMaybeThenable(x) {\n\t\t\treturn isPromise(x) ? x._handler.join() : getHandlerUntrusted(x);\n\t\t}\n\n\t\t/**\n\t\t * Get a handler for potentially untrusted thenable x\n\t\t * @param {*} x\n\t\t * @returns {object} handler\n\t\t */\n\t\tfunction getHandlerUntrusted(x) {\n\t\t\ttry {\n\t\t\t\tvar untrustedThen = x.then;\n\t\t\t\treturn typeof untrustedThen === 'function'\n\t\t\t\t\t? new Thenable(untrustedThen, x)\n\t\t\t\t\t: new Fulfilled(x);\n\t\t\t} catch(e) {\n\t\t\t\treturn new Rejected(e);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Handler for a promise that is pending forever\n\t\t * @constructor\n\t\t */\n\t\tfunction Handler() {}\n\n\t\tHandler.prototype.when\n\t\t\t= Handler.prototype.become\n\t\t\t= Handler.prototype.notify // deprecated\n\t\t\t= Handler.prototype.fail\n\t\t\t= Handler.prototype._unreport\n\t\t\t= Handler.prototype._report\n\t\t\t= noop;\n\n\t\tHandler.prototype._state = 0;\n\n\t\tHandler.prototype.state = function() {\n\t\t\treturn this._state;\n\t\t};\n\n\t\t/**\n\t\t * Recursively collapse handler chain to find the handler\n\t\t * nearest to the fully resolved value.\n\t\t * @returns {object} handler nearest the fully resolved value\n\t\t */\n\t\tHandler.prototype.join = function() {\n\t\t\tvar h = this;\n\t\t\twhile(h.handler !== void 0) {\n\t\t\t\th = h.handler;\n\t\t\t}\n\t\t\treturn h;\n\t\t};\n\n\t\tHandler.prototype.chain = function(to, receiver, fulfilled, rejected, progress) {\n\t\t\tthis.when({\n\t\t\t\tresolver: to,\n\t\t\t\treceiver: receiver,\n\t\t\t\tfulfilled: fulfilled,\n\t\t\t\trejected: rejected,\n\t\t\t\tprogress: progress\n\t\t\t});\n\t\t};\n\n\t\tHandler.prototype.visit = function(receiver, fulfilled, rejected, progress) {\n\t\t\tthis.chain(failIfRejected, receiver, fulfilled, rejected, progress);\n\t\t};\n\n\t\tHandler.prototype.fold = function(f, z, c, to) {\n\t\t\tthis.when(new Fold(f, z, c, to));\n\t\t};\n\n\t\t/**\n\t\t * Handler that invokes fail() on any handler it becomes\n\t\t * @constructor\n\t\t */\n\t\tfunction FailIfRejected() {}\n\n\t\tinherit(Handler, FailIfRejected);\n\n\t\tFailIfRejected.prototype.become = function(h) {\n\t\t\th.fail();\n\t\t};\n\n\t\tvar failIfRejected = new FailIfRejected();\n\n\t\t/**\n\t\t * Handler that manages a queue of consumers waiting on a pending promise\n\t\t * @constructor\n\t\t */\n\t\tfunction Pending(receiver, inheritedContext) {\n\t\t\tPromise.createContext(this, inheritedContext);\n\n\t\t\tthis.consumers = void 0;\n\t\t\tthis.receiver = receiver;\n\t\t\tthis.handler = void 0;\n\t\t\tthis.resolved = false;\n\t\t}\n\n\t\tinherit(Handler, Pending);\n\n\t\tPending.prototype._state = 0;\n\n\t\tPending.prototype.resolve = function(x) {\n\t\t\tthis.become(getHandler(x));\n\t\t};\n\n\t\tPending.prototype.reject = function(x) {\n\t\t\tif(this.resolved) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.become(new Rejected(x));\n\t\t};\n\n\t\tPending.prototype.join = function() {\n\t\t\tif (!this.resolved) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tvar h = this;\n\n\t\t\twhile (h.handler !== void 0) {\n\t\t\t\th = h.handler;\n\t\t\t\tif (h === this) {\n\t\t\t\t\treturn this.handler = cycle();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn h;\n\t\t};\n\n\t\tPending.prototype.run = function() {\n\t\t\tvar q = this.consumers;\n\t\t\tvar handler = this.handler;\n\t\t\tthis.handler = this.handler.join();\n\t\t\tthis.consumers = void 0;\n\n\t\t\tfor (var i = 0; i < q.length; ++i) {\n\t\t\t\thandler.when(q[i]);\n\t\t\t}\n\t\t};\n\n\t\tPending.prototype.become = function(handler) {\n\t\t\tif(this.resolved) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.resolved = true;\n\t\t\tthis.handler = handler;\n\t\t\tif(this.consumers !== void 0) {\n\t\t\t\ttasks.enqueue(this);\n\t\t\t}\n\n\t\t\tif(this.context !== void 0) {\n\t\t\t\thandler._report(this.context);\n\t\t\t}\n\t\t};\n\n\t\tPending.prototype.when = function(continuation) {\n\t\t\tif(this.resolved) {\n\t\t\t\ttasks.enqueue(new ContinuationTask(continuation, this.handler));\n\t\t\t} else {\n\t\t\t\tif(this.consumers === void 0) {\n\t\t\t\t\tthis.consumers = [continuation];\n\t\t\t\t} else {\n\t\t\t\t\tthis.consumers.push(continuation);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * @deprecated\n\t\t */\n\t\tPending.prototype.notify = function(x) {\n\t\t\tif(!this.resolved) {\n\t\t\t\ttasks.enqueue(new ProgressTask(x, this));\n\t\t\t}\n\t\t};\n\n\t\tPending.prototype.fail = function(context) {\n\t\t\tvar c = typeof context === 'undefined' ? this.context : context;\n\t\t\tthis.resolved && this.handler.join().fail(c);\n\t\t};\n\n\t\tPending.prototype._report = function(context) {\n\t\t\tthis.resolved && this.handler.join()._report(context);\n\t\t};\n\n\t\tPending.prototype._unreport = function() {\n\t\t\tthis.resolved && this.handler.join()._unreport();\n\t\t};\n\n\t\t/**\n\t\t * Wrap another handler and force it into a future stack\n\t\t * @param {object} handler\n\t\t * @constructor\n\t\t */\n\t\tfunction Async(handler) {\n\t\t\tthis.handler = handler;\n\t\t}\n\n\t\tinherit(Handler, Async);\n\n\t\tAsync.prototype.when = function(continuation) {\n\t\t\ttasks.enqueue(new ContinuationTask(continuation, this));\n\t\t};\n\n\t\tAsync.prototype._report = function(context) {\n\t\t\tthis.join()._report(context);\n\t\t};\n\n\t\tAsync.prototype._unreport = function() {\n\t\t\tthis.join()._unreport();\n\t\t};\n\n\t\t/**\n\t\t * Handler that wraps an untrusted thenable and assimilates it in a future stack\n\t\t * @param {function} then\n\t\t * @param {{then: function}} thenable\n\t\t * @constructor\n\t\t */\n\t\tfunction Thenable(then, thenable) {\n\t\t\tPending.call(this);\n\t\t\ttasks.enqueue(new AssimilateTask(then, thenable, this));\n\t\t}\n\n\t\tinherit(Pending, Thenable);\n\n\t\t/**\n\t\t * Handler for a fulfilled promise\n\t\t * @param {*} x fulfillment value\n\t\t * @constructor\n\t\t */\n\t\tfunction Fulfilled(x) {\n\t\t\tPromise.createContext(this);\n\t\t\tthis.value = x;\n\t\t}\n\n\t\tinherit(Handler, Fulfilled);\n\n\t\tFulfilled.prototype._state = 1;\n\n\t\tFulfilled.prototype.fold = function(f, z, c, to) {\n\t\t\trunContinuation3(f, z, this, c, to);\n\t\t};\n\n\t\tFulfilled.prototype.when = function(cont) {\n\t\t\trunContinuation1(cont.fulfilled, this, cont.receiver, cont.resolver);\n\t\t};\n\n\t\tvar errorId = 0;\n\n\t\t/**\n\t\t * Handler for a rejected promise\n\t\t * @param {*} x rejection reason\n\t\t * @constructor\n\t\t */\n\t\tfunction Rejected(x) {\n\t\t\tPromise.createContext(this);\n\n\t\t\tthis.id = ++errorId;\n\t\t\tthis.value = x;\n\t\t\tthis.handled = false;\n\t\t\tthis.reported = false;\n\n\t\t\tthis._report();\n\t\t}\n\n\t\tinherit(Handler, Rejected);\n\n\t\tRejected.prototype._state = -1;\n\n\t\tRejected.prototype.fold = function(f, z, c, to) {\n\t\t\tto.become(this);\n\t\t};\n\n\t\tRejected.prototype.when = function(cont) {\n\t\t\tif(typeof cont.rejected === 'function') {\n\t\t\t\tthis._unreport();\n\t\t\t}\n\t\t\trunContinuation1(cont.rejected, this, cont.receiver, cont.resolver);\n\t\t};\n\n\t\tRejected.prototype._report = function(context) {\n\t\t\ttasks.afterQueue(new ReportTask(this, context));\n\t\t};\n\n\t\tRejected.prototype._unreport = function() {\n\t\t\tif(this.handled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.handled = true;\n\t\t\ttasks.afterQueue(new UnreportTask(this));\n\t\t};\n\n\t\tRejected.prototype.fail = function(context) {\n\t\t\tthis.reported = true;\n\t\t\temitRejection('unhandledRejection', this);\n\t\t\tPromise.onFatalRejection(this, context === void 0 ? this.context : context);\n\t\t};\n\n\t\tfunction ReportTask(rejection, context) {\n\t\t\tthis.rejection = rejection;\n\t\t\tthis.context = context;\n\t\t}\n\n\t\tReportTask.prototype.run = function() {\n\t\t\tif(!this.rejection.handled && !this.rejection.reported) {\n\t\t\t\tthis.rejection.reported = true;\n\t\t\t\temitRejection('unhandledRejection', this.rejection) ||\n\t\t\t\t\tPromise.onPotentiallyUnhandledRejection(this.rejection, this.context);\n\t\t\t}\n\t\t};\n\n\t\tfunction UnreportTask(rejection) {\n\t\t\tthis.rejection = rejection;\n\t\t}\n\n\t\tUnreportTask.prototype.run = function() {\n\t\t\tif(this.rejection.reported) {\n\t\t\t\temitRejection('rejectionHandled', this.rejection) ||\n\t\t\t\t\tPromise.onPotentiallyUnhandledRejectionHandled(this.rejection);\n\t\t\t}\n\t\t};\n\n\t\t// Unhandled rejection hooks\n\t\t// By default, everything is a noop\n\n\t\tPromise.createContext\n\t\t\t= Promise.enterContext\n\t\t\t= Promise.exitContext\n\t\t\t= Promise.onPotentiallyUnhandledRejection\n\t\t\t= Promise.onPotentiallyUnhandledRejectionHandled\n\t\t\t= Promise.onFatalRejection\n\t\t\t= noop;\n\n\t\t// Errors and singletons\n\n\t\tvar foreverPendingHandler = new Handler();\n\t\tvar foreverPendingPromise = new Promise(Handler, foreverPendingHandler);\n\n\t\tfunction cycle() {\n\t\t\treturn new Rejected(new TypeError('Promise cycle'));\n\t\t}\n\n\t\t// Task runners\n\n\t\t/**\n\t\t * Run a single consumer\n\t\t * @constructor\n\t\t */\n\t\tfunction ContinuationTask(continuation, handler) {\n\t\t\tthis.continuation = continuation;\n\t\t\tthis.handler = handler;\n\t\t}\n\n\t\tContinuationTask.prototype.run = function() {\n\t\t\tthis.handler.join().when(this.continuation);\n\t\t};\n\n\t\t/**\n\t\t * Run a queue of progress handlers\n\t\t * @constructor\n\t\t */\n\t\tfunction ProgressTask(value, handler) {\n\t\t\tthis.handler = handler;\n\t\t\tthis.value = value;\n\t\t}\n\n\t\tProgressTask.prototype.run = function() {\n\t\t\tvar q = this.handler.consumers;\n\t\t\tif(q === void 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (var c, i = 0; i < q.length; ++i) {\n\t\t\t\tc = q[i];\n\t\t\t\trunNotify(c.progress, this.value, this.handler, c.receiver, c.resolver);\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Assimilate a thenable, sending it's value to resolver\n\t\t * @param {function} then\n\t\t * @param {object|function} thenable\n\t\t * @param {object} resolver\n\t\t * @constructor\n\t\t */\n\t\tfunction AssimilateTask(then, thenable, resolver) {\n\t\t\tthis._then = then;\n\t\t\tthis.thenable = thenable;\n\t\t\tthis.resolver = resolver;\n\t\t}\n\n\t\tAssimilateTask.prototype.run = function() {\n\t\t\tvar h = this.resolver;\n\t\t\ttryAssimilate(this._then, this.thenable, _resolve, _reject, _notify);\n\n\t\t\tfunction _resolve(x) { h.resolve(x); }\n\t\t\tfunction _reject(x)  { h.reject(x); }\n\t\t\tfunction _notify(x)  { h.notify(x); }\n\t\t};\n\n\t\tfunction tryAssimilate(then, thenable, resolve, reject, notify) {\n\t\t\ttry {\n\t\t\t\tthen.call(thenable, resolve, reject, notify);\n\t\t\t} catch (e) {\n\t\t\t\treject(e);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Fold a handler value with z\n\t\t * @constructor\n\t\t */\n\t\tfunction Fold(f, z, c, to) {\n\t\t\tthis.f = f; this.z = z; this.c = c; this.to = to;\n\t\t\tthis.resolver = failIfRejected;\n\t\t\tthis.receiver = this;\n\t\t}\n\n\t\tFold.prototype.fulfilled = function(x) {\n\t\t\tthis.f.call(this.c, this.z, x, this.to);\n\t\t};\n\n\t\tFold.prototype.rejected = function(x) {\n\t\t\tthis.to.reject(x);\n\t\t};\n\n\t\tFold.prototype.progress = function(x) {\n\t\t\tthis.to.notify(x);\n\t\t};\n\n\t\t// Other helpers\n\n\t\t/**\n\t\t * @param {*} x\n\t\t * @returns {boolean} true iff x is a trusted Promise\n\t\t */\n\t\tfunction isPromise(x) {\n\t\t\treturn x instanceof Promise;\n\t\t}\n\n\t\t/**\n\t\t * Test just enough to rule out primitives, in order to take faster\n\t\t * paths in some code\n\t\t * @param {*} x\n\t\t * @returns {boolean} false iff x is guaranteed *not* to be a thenable\n\t\t */\n\t\tfunction maybeThenable(x) {\n\t\t\treturn (typeof x === 'object' || typeof x === 'function') && x !== null;\n\t\t}\n\n\t\tfunction runContinuation1(f, h, receiver, next) {\n\t\t\tif(typeof f !== 'function') {\n\t\t\t\treturn next.become(h);\n\t\t\t}\n\n\t\t\tPromise.enterContext(h);\n\t\t\ttryCatchReject(f, h.value, receiver, next);\n\t\t\tPromise.exitContext();\n\t\t}\n\n\t\tfunction runContinuation3(f, x, h, receiver, next) {\n\t\t\tif(typeof f !== 'function') {\n\t\t\t\treturn next.become(h);\n\t\t\t}\n\n\t\t\tPromise.enterContext(h);\n\t\t\ttryCatchReject3(f, x, h.value, receiver, next);\n\t\t\tPromise.exitContext();\n\t\t}\n\n\t\t/**\n\t\t * @deprecated\n\t\t */\n\t\tfunction runNotify(f, x, h, receiver, next) {\n\t\t\tif(typeof f !== 'function') {\n\t\t\t\treturn next.notify(x);\n\t\t\t}\n\n\t\t\tPromise.enterContext(h);\n\t\t\ttryCatchReturn(f, x, receiver, next);\n\t\t\tPromise.exitContext();\n\t\t}\n\n\t\tfunction tryCatch2(f, a, b) {\n\t\t\ttry {\n\t\t\t\treturn f(a, b);\n\t\t\t} catch(e) {\n\t\t\t\treturn reject(e);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Return f.call(thisArg, x), or if it throws return a rejected promise for\n\t\t * the thrown exception\n\t\t */\n\t\tfunction tryCatchReject(f, x, thisArg, next) {\n\t\t\ttry {\n\t\t\t\tnext.become(getHandler(f.call(thisArg, x)));\n\t\t\t} catch(e) {\n\t\t\t\tnext.become(new Rejected(e));\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Same as above, but includes the extra argument parameter.\n\t\t */\n\t\tfunction tryCatchReject3(f, x, y, thisArg, next) {\n\t\t\ttry {\n\t\t\t\tf.call(thisArg, x, y, next);\n\t\t\t} catch(e) {\n\t\t\t\tnext.become(new Rejected(e));\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * @deprecated\n\t\t * Return f.call(thisArg, x), or if it throws, *return* the exception\n\t\t */\n\t\tfunction tryCatchReturn(f, x, thisArg, next) {\n\t\t\ttry {\n\t\t\t\tnext.notify(f.call(thisArg, x));\n\t\t\t} catch(e) {\n\t\t\t\tnext.notify(e);\n\t\t\t}\n\t\t}\n\n\t\tfunction inherit(Parent, Child) {\n\t\t\tChild.prototype = objectCreate(Parent.prototype);\n\t\t\tChild.prototype.constructor = Child;\n\t\t}\n\n\t\tfunction snd(x, y) {\n\t\t\treturn y;\n\t\t}\n\n\t\tfunction noop() {}\n\n\t\tfunction initEmitRejection() {\n\t\t\t/*global process, self, CustomEvent*/\n\t\t\tif(typeof process !== 'undefined' && process !== null\n\t\t\t\t&& typeof process.emit === 'function') {\n\t\t\t\t// Returning falsy here means to call the default\n\t\t\t\t// onPotentiallyUnhandledRejection API.  This is safe even in\n\t\t\t\t// browserify since process.emit always returns falsy in browserify:\n\t\t\t\t// https://github.com/defunctzombie/node-process/blob/master/browser.js#L40-L46\n\t\t\t\treturn function(type, rejection) {\n\t\t\t\t\treturn type === 'unhandledRejection'\n\t\t\t\t\t\t? process.emit(type, rejection.value, rejection)\n\t\t\t\t\t\t: process.emit(type, rejection);\n\t\t\t\t};\n\t\t\t} else if(typeof self !== 'undefined' && typeof CustomEvent === 'function') {\n\t\t\t\treturn (function(noop, self, CustomEvent) {\n\t\t\t\t\tvar hasCustomEvent = false;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar ev = new CustomEvent('unhandledRejection');\n\t\t\t\t\t\thasCustomEvent = ev instanceof CustomEvent;\n\t\t\t\t\t} catch (e) {}\n\n\t\t\t\t\treturn !hasCustomEvent ? noop : function(type, rejection) {\n\t\t\t\t\t\tvar ev = new CustomEvent(type, {\n\t\t\t\t\t\t\tdetail: {\n\t\t\t\t\t\t\t\treason: rejection.value,\n\t\t\t\t\t\t\t\tkey: rejection\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbubbles: false,\n\t\t\t\t\t\t\tcancelable: true\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn !self.dispatchEvent(ev);\n\t\t\t\t\t};\n\t\t\t\t}(noop, self, CustomEvent));\n\t\t\t}\n\n\t\t\treturn noop;\n\t\t}\n\n\t\treturn Promise;\n\t};\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n}).call(this,require('_process'))\n},{\"_process\":2}],38:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\treturn {\n\t\tpending: toPendingState,\n\t\tfulfilled: toFulfilledState,\n\t\trejected: toRejectedState,\n\t\tinspect: inspect\n\t};\n\n\tfunction toPendingState() {\n\t\treturn { state: 'pending' };\n\t}\n\n\tfunction toRejectedState(e) {\n\t\treturn { state: 'rejected', reason: e };\n\t}\n\n\tfunction toFulfilledState(x) {\n\t\treturn { state: 'fulfilled', value: x };\n\t}\n\n\tfunction inspect(handler) {\n\t\tvar state = handler.state();\n\t\treturn state === 0 ? toPendingState()\n\t\t\t : state > 0   ? toFulfilledState(handler.value)\n\t\t\t               : toRejectedState(handler.value);\n\t}\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n},{}],39:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n\n/**\n * Promises/A+ and when() implementation\n * when is part of the cujoJS family of libraries (http://cujojs.com/)\n * @author Brian Cavalier\n * @author John Hann\n * @version 3.7.2\n */\n(function(define) { 'use strict';\ndefine(function (require) {\n\n\tvar timed = require('./lib/decorators/timed');\n\tvar array = require('./lib/decorators/array');\n\tvar flow = require('./lib/decorators/flow');\n\tvar fold = require('./lib/decorators/fold');\n\tvar inspect = require('./lib/decorators/inspect');\n\tvar generate = require('./lib/decorators/iterate');\n\tvar progress = require('./lib/decorators/progress');\n\tvar withThis = require('./lib/decorators/with');\n\tvar unhandledRejection = require('./lib/decorators/unhandledRejection');\n\tvar TimeoutError = require('./lib/TimeoutError');\n\n\tvar Promise = [array, flow, fold, generate, progress,\n\t\tinspect, withThis, timed, unhandledRejection]\n\t\t.reduce(function(Promise, feature) {\n\t\t\treturn feature(Promise);\n\t\t}, require('./lib/Promise'));\n\n\tvar apply = require('./lib/apply')(Promise);\n\n\t// Public API\n\n\twhen.promise     = promise;              // Create a pending promise\n\twhen.resolve     = Promise.resolve;      // Create a resolved promise\n\twhen.reject      = Promise.reject;       // Create a rejected promise\n\n\twhen.lift        = lift;                 // lift a function to return promises\n\twhen['try']      = attempt;              // call a function and return a promise\n\twhen.attempt     = attempt;              // alias for when.try\n\n\twhen.iterate     = Promise.iterate;      // DEPRECATED (use cujojs/most streams) Generate a stream of promises\n\twhen.unfold      = Promise.unfold;       // DEPRECATED (use cujojs/most streams) Generate a stream of promises\n\n\twhen.join        = join;                 // Join 2 or more promises\n\n\twhen.all         = all;                  // Resolve a list of promises\n\twhen.settle      = settle;               // Settle a list of promises\n\n\twhen.any         = lift(Promise.any);    // One-winner race\n\twhen.some        = lift(Promise.some);   // Multi-winner race\n\twhen.race        = lift(Promise.race);   // First-to-settle race\n\n\twhen.map         = map;                  // Array.map() for promises\n\twhen.filter      = filter;               // Array.filter() for promises\n\twhen.reduce      = lift(Promise.reduce);       // Array.reduce() for promises\n\twhen.reduceRight = lift(Promise.reduceRight);  // Array.reduceRight() for promises\n\n\twhen.isPromiseLike = isPromiseLike;      // Is something promise-like, aka thenable\n\n\twhen.Promise     = Promise;              // Promise constructor\n\twhen.defer       = defer;                // Create a {promise, resolve, reject} tuple\n\n\t// Error types\n\n\twhen.TimeoutError = TimeoutError;\n\n\t/**\n\t * Get a trusted promise for x, or by transforming x with onFulfilled\n\t *\n\t * @param {*} x\n\t * @param {function?} onFulfilled callback to be called when x is\n\t *   successfully fulfilled.  If promiseOrValue is an immediate value, callback\n\t *   will be invoked immediately.\n\t * @param {function?} onRejected callback to be called when x is\n\t *   rejected.\n\t * @param {function?} onProgress callback to be called when progress updates\n\t *   are issued for x. @deprecated\n\t * @returns {Promise} a new promise that will fulfill with the return\n\t *   value of callback or errback or the completion value of promiseOrValue if\n\t *   callback and/or errback is not supplied.\n\t */\n\tfunction when(x, onFulfilled, onRejected, onProgress) {\n\t\tvar p = Promise.resolve(x);\n\t\tif (arguments.length < 2) {\n\t\t\treturn p;\n\t\t}\n\n\t\treturn p.then(onFulfilled, onRejected, onProgress);\n\t}\n\n\t/**\n\t * Creates a new promise whose fate is determined by resolver.\n\t * @param {function} resolver function(resolve, reject, notify)\n\t * @returns {Promise} promise whose fate is determine by resolver\n\t */\n\tfunction promise(resolver) {\n\t\treturn new Promise(resolver);\n\t}\n\n\t/**\n\t * Lift the supplied function, creating a version of f that returns\n\t * promises, and accepts promises as arguments.\n\t * @param {function} f\n\t * @returns {Function} version of f that returns promises\n\t */\n\tfunction lift(f) {\n\t\treturn function() {\n\t\t\tfor(var i=0, l=arguments.length, a=new Array(l); i<l; ++i) {\n\t\t\t\ta[i] = arguments[i];\n\t\t\t}\n\t\t\treturn apply(f, this, a);\n\t\t};\n\t}\n\n\t/**\n\t * Call f in a future turn, with the supplied args, and return a promise\n\t * for the result.\n\t * @param {function} f\n\t * @returns {Promise}\n\t */\n\tfunction attempt(f /*, args... */) {\n\t\t/*jshint validthis:true */\n\t\tfor(var i=0, l=arguments.length-1, a=new Array(l); i<l; ++i) {\n\t\t\ta[i] = arguments[i+1];\n\t\t}\n\t\treturn apply(f, this, a);\n\t}\n\n\t/**\n\t * Creates a {promise, resolver} pair, either or both of which\n\t * may be given out safely to consumers.\n\t * @return {{promise: Promise, resolve: function, reject: function, notify: function}}\n\t */\n\tfunction defer() {\n\t\treturn new Deferred();\n\t}\n\n\tfunction Deferred() {\n\t\tvar p = Promise._defer();\n\n\t\tfunction resolve(x) { p._handler.resolve(x); }\n\t\tfunction reject(x) { p._handler.reject(x); }\n\t\tfunction notify(x) { p._handler.notify(x); }\n\n\t\tthis.promise = p;\n\t\tthis.resolve = resolve;\n\t\tthis.reject = reject;\n\t\tthis.notify = notify;\n\t\tthis.resolver = { resolve: resolve, reject: reject, notify: notify };\n\t}\n\n\t/**\n\t * Determines if x is promise-like, i.e. a thenable object\n\t * NOTE: Will return true for *any thenable object*, and isn't truly\n\t * safe, since it may attempt to access the `then` property of x (i.e.\n\t *  clever/malicious getters may do weird things)\n\t * @param {*} x anything\n\t * @returns {boolean} true if x is promise-like\n\t */\n\tfunction isPromiseLike(x) {\n\t\treturn x && typeof x.then === 'function';\n\t}\n\n\t/**\n\t * Return a promise that will resolve only once all the supplied arguments\n\t * have resolved. The resolution value of the returned promise will be an array\n\t * containing the resolution values of each of the arguments.\n\t * @param {...*} arguments may be a mix of promises and values\n\t * @returns {Promise}\n\t */\n\tfunction join(/* ...promises */) {\n\t\treturn Promise.all(arguments);\n\t}\n\n\t/**\n\t * Return a promise that will fulfill once all input promises have\n\t * fulfilled, or reject when any one input promise rejects.\n\t * @param {array|Promise} promises array (or promise for an array) of promises\n\t * @returns {Promise}\n\t */\n\tfunction all(promises) {\n\t\treturn when(promises, Promise.all);\n\t}\n\n\t/**\n\t * Return a promise that will always fulfill with an array containing\n\t * the outcome states of all input promises.  The returned promise\n\t * will only reject if `promises` itself is a rejected promise.\n\t * @param {array|Promise} promises array (or promise for an array) of promises\n\t * @returns {Promise} promise for array of settled state descriptors\n\t */\n\tfunction settle(promises) {\n\t\treturn when(promises, Promise.settle);\n\t}\n\n\t/**\n\t * Promise-aware array map function, similar to `Array.prototype.map()`,\n\t * but input array may contain promises or values.\n\t * @param {Array|Promise} promises array of anything, may contain promises and values\n\t * @param {function(x:*, index:Number):*} mapFunc map function which may\n\t *  return a promise or value\n\t * @returns {Promise} promise that will fulfill with an array of mapped values\n\t *  or reject if any input promise rejects.\n\t */\n\tfunction map(promises, mapFunc) {\n\t\treturn when(promises, function(promises) {\n\t\t\treturn Promise.map(promises, mapFunc);\n\t\t});\n\t}\n\n\t/**\n\t * Filter the provided array of promises using the provided predicate.  Input may\n\t * contain promises and values\n\t * @param {Array|Promise} promises array of promises and values\n\t * @param {function(x:*, index:Number):boolean} predicate filtering predicate.\n\t *  Must return truthy (or promise for truthy) for items to retain.\n\t * @returns {Promise} promise that will fulfill with an array containing all items\n\t *  for which predicate returned truthy.\n\t */\n\tfunction filter(promises, predicate) {\n\t\treturn when(promises, function(promises) {\n\t\t\treturn Promise.filter(promises, predicate);\n\t\t});\n\t}\n\n\treturn when;\n});\n})(typeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); });\n\n},{\"./lib/Promise\":22,\"./lib/TimeoutError\":24,\"./lib/apply\":25,\"./lib/decorators/array\":26,\"./lib/decorators/flow\":27,\"./lib/decorators/fold\":28,\"./lib/decorators/inspect\":29,\"./lib/decorators/iterate\":30,\"./lib/decorators/progress\":31,\"./lib/decorators/timed\":32,\"./lib/decorators/unhandledRejection\":33,\"./lib/decorators/with\":34}],40:[function(require,module,exports){\n/*\n * Copyright 2013 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n(function (define) {\n\t'use strict';\n\n\tdefine(function (/* require */) {\n\n\t\treturn {\n\n\t\t\t/**\n\t\t\t * Find objects within a graph the contain a property of a certain name.\n\t\t\t *\n\t\t\t * NOTE: this method will not discover object graph cycles.\n\t\t\t *\n\t\t\t * @param {*} obj object to search on\n\t\t\t * @param {string} prop name of the property to search for\n\t\t\t * @param {Function} callback function to receive the found properties and their parent\n\t\t\t */\n\t\t\tfindProperties: function findProperties(obj, prop, callback) {\n\t\t\t\tif (typeof obj !== 'object' || obj === null) { return; }\n\t\t\t\tif (prop in obj) {\n\t\t\t\t\tcallback(obj[prop], obj, prop);\n\t\t\t\t}\n\t\t\t\tObject.keys(obj).forEach(function (key) {\n\t\t\t\t\tfindProperties(obj[key], prop, callback);\n\t\t\t\t});\n\t\t\t}\n\n\t\t};\n\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); }\n\t// Boilerplate for AMD and Node\n));\n\n},{}],41:[function(require,module,exports){\n/*\n * Copyright 2013 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n(function (define) {\n\t'use strict';\n\n\tdefine(function (require) {\n\n\t\tvar when;\n\n\t\twhen = require('when');\n\n\t\t/**\n\t\t * Create a promise whose work is started only when a handler is registered.\n\t\t *\n\t\t * The work function will be invoked at most once. Thrown values will result\n\t\t * in promise rejection.\n\t\t *\n\t\t * @param {Function} work function whose ouput is used to resolve the\n\t\t *   returned promise.\n\t\t * @returns {Promise} a lazy promise\n\t\t */\n\t\tfunction lazyPromise(work) {\n\t\t\tvar defer, started, resolver, promise, then;\n\n\t\t\tdefer = when.defer();\n\t\t\tstarted = false;\n\n\t\t\tresolver = defer.resolver;\n\t\t\tpromise = defer.promise;\n\t\t\tthen = promise.then;\n\n\t\t\tpromise.then = function () {\n\t\t\t\tif (!started) {\n\t\t\t\t\tstarted = true;\n\t\t\t\t\twhen.attempt(work).then(resolver.resolve, resolver.reject);\n\t\t\t\t}\n\t\t\t\treturn then.apply(promise, arguments);\n\t\t\t};\n\n\t\t\treturn promise;\n\t\t}\n\n\t\treturn lazyPromise;\n\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); }\n\t// Boilerplate for AMD and Node\n));\n\n},{\"when\":39}],42:[function(require,module,exports){\n/*\n * Copyright 2012-2013 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n(function (define) {\n\t'use strict';\n\n\t// derived from dojo.mixin\n\tdefine(function (/* require */) {\n\n\t\tvar empty = {};\n\n\t\t/**\n\t\t * Mix the properties from the source object into the destination object.\n\t\t * When the same property occurs in more then one object, the right most\n\t\t * value wins.\n\t\t *\n\t\t * @param {Object} dest the object to copy properties to\n\t\t * @param {Object} sources the objects to copy properties from.  May be 1 to N arguments, but not an Array.\n\t\t * @return {Object} the destination object\n\t\t */\n\t\tfunction mixin(dest /*, sources... */) {\n\t\t\tvar i, l, source, name;\n\n\t\t\tif (!dest) { dest = {}; }\n\t\t\tfor (i = 1, l = arguments.length; i < l; i += 1) {\n\t\t\t\tsource = arguments[i];\n\t\t\t\tfor (name in source) {\n\t\t\t\t\tif (!(name in dest) || (dest[name] !== source[name] && (!(name in empty) || empty[name] !== source[name]))) {\n\t\t\t\t\t\tdest[name] = source[name];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn dest; // Object\n\t\t}\n\n\t\treturn mixin;\n\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); }\n\t// Boilerplate for AMD and Node\n));\n\n},{}],43:[function(require,module,exports){\n/*\n * Copyright 2012 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n(function (define) {\n\t'use strict';\n\n\tdefine(function (/* require */) {\n\n\t\t/**\n\t\t * Normalize HTTP header names using the pseudo camel case.\n\t\t *\n\t\t * For example:\n\t\t *   content-type         -> Content-Type\n\t\t *   accepts              -> Accepts\n\t\t *   x-custom-header-name -> X-Custom-Header-Name\n\t\t *\n\t\t * @param {string} name the raw header name\n\t\t * @return {string} the normalized header name\n\t\t */\n\t\tfunction normalizeHeaderName(name) {\n\t\t\treturn name.toLowerCase()\n\t\t\t\t.split('-')\n\t\t\t\t.map(function (chunk) { return chunk.charAt(0).toUpperCase() + chunk.slice(1); })\n\t\t\t\t.join('-');\n\t\t}\n\n\t\treturn normalizeHeaderName;\n\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); }\n\t// Boilerplate for AMD and Node\n));\n\n},{}],44:[function(require,module,exports){\n/*\n * Copyright 2014-2015 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n(function (define) {\n\t'use strict';\n\n\tdefine(function (require) {\n\n\t\tvar when = require('when'),\n\t\t\tnormalizeHeaderName = require('./normalizeHeaderName');\n\n\t\tfunction property(promise, name) {\n\t\t\treturn promise.then(\n\t\t\t\tfunction (value) {\n\t\t\t\t\treturn value && value[name];\n\t\t\t\t},\n\t\t\t\tfunction (value) {\n\t\t\t\t\treturn when.reject(value && value[name]);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\t/**\n\t\t * Obtain the response entity\n\t\t *\n\t\t * @returns {Promise} for the response entity\n\t\t */\n\t\tfunction entity() {\n\t\t\t/*jshint validthis:true */\n\t\t\treturn property(this, 'entity');\n\t\t}\n\n\t\t/**\n\t\t * Obtain the response status\n\t\t *\n\t\t * @returns {Promise} for the response status\n\t\t */\n\t\tfunction status() {\n\t\t\t/*jshint validthis:true */\n\t\t\treturn property(property(this, 'status'), 'code');\n\t\t}\n\n\t\t/**\n\t\t * Obtain the response headers map\n\t\t *\n\t\t * @returns {Promise} for the response headers map\n\t\t */\n\t\tfunction headers() {\n\t\t\t/*jshint validthis:true */\n\t\t\treturn property(this, 'headers');\n\t\t}\n\n\t\t/**\n\t\t * Obtain a specific response header\n\t\t *\n\t\t * @param {String} headerName the header to retrieve\n\t\t * @returns {Promise} for the response header's value\n\t\t */\n\t\tfunction header(headerName) {\n\t\t\t/*jshint validthis:true */\n\t\t\theaderName = normalizeHeaderName(headerName);\n\t\t\treturn property(this.headers(), headerName);\n\t\t}\n\n\t\t/**\n\t\t * Follow a related resource\n\t\t *\n\t\t * The relationship to follow may be define as a plain string, an object\n\t\t * with the rel and params, or an array containing one or more entries\n\t\t * with the previous forms.\n\t\t *\n\t\t * Examples:\n\t\t *   response.follow('next')\n\t\t *\n\t\t *   response.follow({ rel: 'next', params: { pageSize: 100 } })\n\t\t *\n\t\t *   response.follow([\n\t\t *       { rel: 'items', params: { projection: 'noImages' } },\n\t\t *       'search',\n\t\t *       { rel: 'findByGalleryIsNull', params: { projection: 'noImages' } },\n\t\t *       'items'\n\t\t *   ])\n\t\t *\n\t\t * @param {String|Object|Array} rels one, or more, relationships to follow\n\t\t * @returns ResponsePromise<Response> related resource\n\t\t */\n\t\tfunction follow(rels) {\n\t\t\t/*jshint validthis:true */\n\t\t\trels = [].concat(rels);\n\t\t\treturn make(when.reduce(rels, function (response, rel) {\n\t\t\t\tif (typeof rel === 'string') {\n\t\t\t\t\trel = { rel: rel };\n\t\t\t\t}\n\t\t\t\tif (typeof response.entity.clientFor !== 'function') {\n\t\t\t\t\tthrow new Error('Hypermedia response expected');\n\t\t\t\t}\n\t\t\t\tvar client = response.entity.clientFor(rel.rel);\n\t\t\t\treturn client({ params: rel.params });\n\t\t\t}, this));\n\t\t}\n\n\t\t/**\n\t\t * Wrap a Promise as an ResponsePromise\n\t\t *\n\t\t * @param {Promise<Response>} promise the promise for an HTTP Response\n\t\t * @returns {ResponsePromise<Response>} wrapped promise for Response with additional helper methods\n\t\t */\n\t\tfunction make(promise) {\n\t\t\tpromise.status = status;\n\t\t\tpromise.headers = headers;\n\t\t\tpromise.header = header;\n\t\t\tpromise.entity = entity;\n\t\t\tpromise.follow = follow;\n\t\t\treturn promise;\n\t\t}\n\n\t\tfunction responsePromise() {\n\t\t\treturn make(when.apply(when, arguments));\n\t\t}\n\n\t\tresponsePromise.make = make;\n\t\tresponsePromise.reject = function (val) {\n\t\t\treturn make(when.reject(val));\n\t\t};\n\t\tresponsePromise.promise = function (func) {\n\t\t\treturn make(when.promise(func));\n\t\t};\n\n\t\treturn responsePromise;\n\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); }\n\t// Boilerplate for AMD and Node\n));\n\n},{\"./normalizeHeaderName\":43,\"when\":39}],45:[function(require,module,exports){\n/*\n * Copyright 2015 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n(function (define) {\n\t'use strict';\n\n\tdefine(function (/* require */) {\n\n\t\tvar charMap;\n\n\t\tcharMap = (function () {\n\t\t\tvar strings = {\n\t\t\t\talpha: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz',\n\t\t\t\tdigit: '0123456789'\n\t\t\t};\n\n\t\t\tstrings.genDelims = ':/?#[]@';\n\t\t\tstrings.subDelims = '!$&\\'()*+,;=';\n\t\t\tstrings.reserved = strings.genDelims + strings.subDelims;\n\t\t\tstrings.unreserved = strings.alpha + strings.digit + '-._~';\n\t\t\tstrings.url = strings.reserved + strings.unreserved;\n\t\t\tstrings.scheme = strings.alpha + strings.digit + '+-.';\n\t\t\tstrings.userinfo = strings.unreserved + strings.subDelims + ':';\n\t\t\tstrings.host = strings.unreserved + strings.subDelims;\n\t\t\tstrings.port = strings.digit;\n\t\t\tstrings.pchar = strings.unreserved + strings.subDelims + ':@';\n\t\t\tstrings.segment = strings.pchar;\n\t\t\tstrings.path = strings.segment + '/';\n\t\t\tstrings.query = strings.pchar + '/?';\n\t\t\tstrings.fragment = strings.pchar + '/?';\n\n\t\t\treturn Object.keys(strings).reduce(function (charMap, set) {\n\t\t\t\tcharMap[set] = strings[set].split('').reduce(function (chars, char) {\n\t\t\t\t\tchars[char] = true;\n\t\t\t\t\treturn chars;\n\t\t\t\t}, {});\n\t\t\t\treturn charMap;\n\t\t\t}, {});\n\t\t}());\n\n\t\tfunction encode(str, allowed) {\n\t\t\tif (typeof str !== 'string') {\n\t\t\t\tthrow new Error('String required for URL encoding');\n\t\t\t}\n\t\t\treturn str.split('').map(function (char) {\n\t\t\t\tif (allowed.hasOwnProperty(char)) {\n\t\t\t\t\treturn char;\n\t\t\t\t}\n\t\t\t\tvar code = char.charCodeAt(0);\n\t\t\t\tif (code <= 127) {\n\t\t\t\t\treturn '%' + code.toString(16).toUpperCase();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn encodeURIComponent(char).toUpperCase();\n\t\t\t\t}\n\t\t\t}).join('');\n\t\t}\n\n\t\tfunction makeEncoder(allowed) {\n\t\t\tallowed = allowed || charMap.unreserved;\n\t\t\treturn function (str) {\n\t\t\t\treturn encode(str, allowed);\n\t\t\t};\n\t\t}\n\n\t\tfunction decode(str) {\n\t\t\treturn decodeURIComponent(str);\n\t\t}\n\n\t\treturn {\n\n\t\t\t/*\n\t\t\t * Decode URL encoded strings\n\t\t\t *\n\t\t\t * @param {string} URL encoded string\n\t\t\t * @returns {string} URL decoded string\n\t\t\t */\n\t\t\tdecode: decode,\n\n\t\t\t/*\n\t\t\t * URL encode a string\n\t\t\t *\n\t\t\t * All but alpha-numerics and a very limited set of punctuation - . _ ~ are\n\t\t\t * encoded.\n\t\t\t *\n\t\t\t * @param {string} string to encode\n\t\t\t * @returns {string} URL encoded string\n\t\t\t */\n\t\t\tencode: makeEncoder(),\n\n\t\t\t/*\n\t\t\t* URL encode a URL\n\t\t\t*\n\t\t\t* All character permitted anywhere in a URL are left unencoded even\n\t\t\t* if that character is not permitted in that portion of a URL.\n\t\t\t*\n\t\t\t* Note: This method is typically not what you want.\n\t\t\t*\n\t\t\t* @param {string} string to encode\n\t\t\t* @returns {string} URL encoded string\n\t\t\t*/\n\t\t\tencodeURL: makeEncoder(charMap.url),\n\n\t\t\t/*\n\t\t\t * URL encode the scheme portion of a URL\n\t\t\t *\n\t\t\t * @param {string} string to encode\n\t\t\t * @returns {string} URL encoded string\n\t\t\t */\n\t\t\tencodeScheme: makeEncoder(charMap.scheme),\n\n\t\t\t/*\n\t\t\t * URL encode the user info portion of a URL\n\t\t\t *\n\t\t\t * @param {string} string to encode\n\t\t\t * @returns {string} URL encoded string\n\t\t\t */\n\t\t\tencodeUserInfo: makeEncoder(charMap.userinfo),\n\n\t\t\t/*\n\t\t\t * URL encode the host portion of a URL\n\t\t\t *\n\t\t\t * @param {string} string to encode\n\t\t\t * @returns {string} URL encoded string\n\t\t\t */\n\t\t\tencodeHost: makeEncoder(charMap.host),\n\n\t\t\t/*\n\t\t\t * URL encode the port portion of a URL\n\t\t\t *\n\t\t\t * @param {string} string to encode\n\t\t\t * @returns {string} URL encoded string\n\t\t\t */\n\t\t\tencodePort: makeEncoder(charMap.port),\n\n\t\t\t/*\n\t\t\t * URL encode a path segment portion of a URL\n\t\t\t *\n\t\t\t * @param {string} string to encode\n\t\t\t * @returns {string} URL encoded string\n\t\t\t */\n\t\t\tencodePathSegment: makeEncoder(charMap.segment),\n\n\t\t\t/*\n\t\t\t * URL encode the path portion of a URL\n\t\t\t *\n\t\t\t * @param {string} string to encode\n\t\t\t * @returns {string} URL encoded string\n\t\t\t */\n\t\t\tencodePath: makeEncoder(charMap.path),\n\n\t\t\t/*\n\t\t\t * URL encode the query portion of a URL\n\t\t\t *\n\t\t\t * @param {string} string to encode\n\t\t\t * @returns {string} URL encoded string\n\t\t\t */\n\t\t\tencodeQuery: makeEncoder(charMap.query),\n\n\t\t\t/*\n\t\t\t * URL encode the fragment portion of a URL\n\t\t\t *\n\t\t\t * @param {string} string to encode\n\t\t\t * @returns {string} URL encoded string\n\t\t\t */\n\t\t\tencodeFragment: makeEncoder(charMap.fragment)\n\n\t\t};\n\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); }\n\t// Boilerplate for AMD and Node\n));\n\n},{}],46:[function(require,module,exports){\n/*\n * Copyright 2015 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n(function (define) {\n\t'use strict';\n\n\tvar undef;\n\n\tdefine(function (require) {\n\n\t\tvar uriEncoder, operations, prefixRE;\n\n\t\turiEncoder = require('./uriEncoder');\n\n\t\tprefixRE = /^([^:]*):([0-9]+)$/;\n\t\toperations = {\n\t\t\t'':  { first: '',  separator: ',', named: false, empty: '',  encoder: uriEncoder.encode },\n\t\t\t'+': { first: '',  separator: ',', named: false, empty: '',  encoder: uriEncoder.encodeURL },\n\t\t\t'#': { first: '#', separator: ',', named: false, empty: '',  encoder: uriEncoder.encodeURL },\n\t\t\t'.': { first: '.', separator: '.', named: false, empty: '',  encoder: uriEncoder.encode },\n\t\t\t'/': { first: '/', separator: '/', named: false, empty: '',  encoder: uriEncoder.encode },\n\t\t\t';': { first: ';', separator: ';', named: true,  empty: '',  encoder: uriEncoder.encode },\n\t\t\t'?': { first: '?', separator: '&', named: true,  empty: '=', encoder: uriEncoder.encode },\n\t\t\t'&': { first: '&', separator: '&', named: true,  empty: '=', encoder: uriEncoder.encode },\n\t\t\t'=': { reserved: true },\n\t\t\t',': { reserved: true },\n\t\t\t'!': { reserved: true },\n\t\t\t'@': { reserved: true },\n\t\t\t'|': { reserved: true }\n\t\t};\n\n\t\tfunction apply(operation, expression, params) {\n\t\t\t/*jshint maxcomplexity:11 */\n\t\t\treturn expression.split(',').reduce(function (result, variable) {\n\t\t\t\tvar opts, value;\n\n\t\t\t\topts = {};\n\t\t\t\tif (variable.slice(-1) === '*') {\n\t\t\t\t\tvariable = variable.slice(0, -1);\n\t\t\t\t\topts.explode = true;\n\t\t\t\t}\n\t\t\t\tif (prefixRE.test(variable)) {\n\t\t\t\t\tvar prefix = prefixRE.exec(variable);\n\t\t\t\t\tvariable = prefix[1];\n\t\t\t\t\topts.maxLength = parseInt(prefix[2]);\n\t\t\t\t}\n\n\t\t\t\tvariable = uriEncoder.decode(variable);\n\t\t\t\tvalue = params[variable];\n\n\t\t\t\tif (value === undef || value === null) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\tif (typeof value === 'string') {\n\t\t\t\t\tif (opts.maxLength) {\n\t\t\t\t\t\tvalue = value.slice(0, opts.maxLength);\n\t\t\t\t\t}\n\t\t\t\t\tresult += result.length ? operation.separator : operation.first;\n\t\t\t\t\tif (operation.named) {\n\t\t\t\t\t\tresult += operation.encoder(variable);\n\t\t\t\t\t\tresult += value.length ? '=' : operation.empty;\n\t\t\t\t\t}\n\t\t\t\t\tresult += operation.encoder(value);\n\t\t\t\t}\n\t\t\t\telse if (Array.isArray(value)) {\n\t\t\t\t\tresult += value.reduce(function (result, value) {\n\t\t\t\t\t\tif (result.length) {\n\t\t\t\t\t\t\tresult += opts.explode ? operation.separator : ',';\n\t\t\t\t\t\t\tif (operation.named && opts.explode) {\n\t\t\t\t\t\t\t\tresult += operation.encoder(variable);\n\t\t\t\t\t\t\t\tresult += value.length ? '=' : operation.empty;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tresult += operation.first;\n\t\t\t\t\t\t\tif (operation.named) {\n\t\t\t\t\t\t\t\tresult += operation.encoder(variable);\n\t\t\t\t\t\t\t\tresult += value.length ? '=' : operation.empty;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult += operation.encoder(value);\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}, '');\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tresult += Object.keys(value).reduce(function (result, name) {\n\t\t\t\t\t\tif (result.length) {\n\t\t\t\t\t\t\tresult += opts.explode ? operation.separator : ',';\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tresult += operation.first;\n\t\t\t\t\t\t\tif (operation.named && !opts.explode) {\n\t\t\t\t\t\t\t\tresult += operation.encoder(variable);\n\t\t\t\t\t\t\t\tresult += value[name].length ? '=' : operation.empty;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult += operation.encoder(name);\n\t\t\t\t\t\tresult += opts.explode ? '=' : ',';\n\t\t\t\t\t\tresult += operation.encoder(value[name]);\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}, '');\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}, '');\n\t\t}\n\n\t\tfunction expandExpression(expression, params) {\n\t\t\tvar operation;\n\n\t\t\toperation = operations[expression.slice(0,1)];\n\t\t\tif (operation) {\n\t\t\t\texpression = expression.slice(1);\n\t\t\t}\n\t\t\telse {\n\t\t\t\toperation = operations[''];\n\t\t\t}\n\n\t\t\tif (operation.reserved) {\n\t\t\t\tthrow new Error('Reserved expression operations are not supported');\n\t\t\t}\n\n\t\t\treturn apply(operation, expression, params);\n\t\t}\n\n\t\tfunction expandTemplate(template, params) {\n\t\t\tvar start, end, uri;\n\n\t\t\turi = '';\n\t\t\tend = 0;\n\t\t\twhile (true) {\n\t\t\t\tstart = template.indexOf('{', end);\n\t\t\t\tif (start === -1) {\n\t\t\t\t\t// no more expressions\n\t\t\t\t\turi += template.slice(end);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\turi += template.slice(end, start);\n\t\t\t\tend = template.indexOf('}', start) + 1;\n\t\t\t\turi += expandExpression(template.slice(start + 1, end - 1), params);\n\t\t\t}\n\n\t\t\treturn uri;\n\t\t}\n\n\t\treturn {\n\n\t\t\t/**\n\t\t\t * Expand a URI Template with parameters to form a URI.\n\t\t\t *\n\t\t\t * Full implementation (level 4) of rfc6570.\n\t\t\t * @see https://tools.ietf.org/html/rfc6570\n\t\t\t *\n\t\t\t * @param {string} template URI template\n\t\t\t * @param {Object} [params] params to apply to the template durring expantion\n\t\t\t * @returns {string} expanded URI\n\t\t\t */\n\t\t\texpand: expandTemplate\n\n\t\t};\n\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); }\n\t// Boilerplate for AMD and Node\n));\n\n},{\"./uriEncoder\":45}]},{},[1])(1)\n});"],"sourceRoot":"/source/"}